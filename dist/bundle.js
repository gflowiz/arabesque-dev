!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=212)}([function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return y})),n.d(e,"m",(function(){return m})),n.d(e,"n",(function(){return _})),n.d(e,"o",(function(){return v})),n.d(e,"p",(function(){return b})),n.d(e,"q",(function(){return x})),n.d(e,"r",(function(){return w})),n.d(e,"s",(function(){return C})),n.d(e,"t",(function(){return M})),n.d(e,"u",(function(){return I})),n.d(e,"v",(function(){return T})),n.d(e,"w",(function(){return O})),n.d(e,"x",(function(){return N})),n.d(e,"y",(function(){return L})),n.d(e,"z",(function(){return A})),n.d(e,"A",(function(){return R})),n.d(e,"B",(function(){return k})),n.d(e,"C",(function(){return P})),n.d(e,"D",(function(){return D})),n.d(e,"E",(function(){return j})),n.d(e,"F",(function(){return F})),n.d(e,"H",(function(){return z})),n.d(e,"I",(function(){return B})),n.d(e,"J",(function(){return q})),n.d(e,"G",(function(){return G})),n.d(e,"a",(function(){return U}));var i=n(10),r=n(57),o=n(25);function s(t){for(var e=d(),n=0,i=t.length;n<i;++n)w(e,t[n]);return e}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function u(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function h(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function l(t,e){return f(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function f(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function p(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=e[0],u=e[1],h=o.a.UNKNOWN;return a<n?h|=o.a.LEFT:a>r&&(h|=o.a.RIGHT),u<i?h|=o.a.BELOW:u>s&&(h|=o.a.ABOVE),h===o.a.UNKNOWN&&(h=o.a.INTERSECTING),h}function d(){return[1/0,1/0,-1/0,-1/0]}function g(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function y(t){return g(1/0,1/0,-1/0,-1/0,t)}function m(t,e){var n=t[0],i=t[1];return g(n,i,n,i,e)}function _(t,e){return E(y(e),t)}function v(t,e,n,i,r){return C(y(r),t,e,n,i)}function b(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function x(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function w(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e){for(var n=0,i=e.length;n<i;++n)w(t,e[n]);return t}function C(t,e,n,i,r){for(;n<i;n+=r)S(t,e[n],e[n+1]);return t}function S(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function M(t,e,n){var i;return(i=e.call(n,T(t)))||(i=e.call(n,O(t)))||(i=e.call(n,D(t)))?i:(i=e.call(n,P(t)))||!1}function I(t){var e=0;return z(t)||(e=j(t)*R(t)),e}function T(t){return[t[0],t[1]]}function O(t){return[t[2],t[1]]}function N(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function L(t,e){var n;return e===r.a.BOTTOM_LEFT?n=T(t):e===r.a.BOTTOM_RIGHT?n=O(t):e===r.a.TOP_LEFT?n=P(t):e===r.a.TOP_RIGHT?n=D(t):Object(i.a)(!1,13),n}function A(t,e,n,i,r){var o=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),u=Math.sin(n),h=o*a,l=o*u,c=s*a,f=s*u,p=t[0],d=t[1],y=p-h+f,m=p-h-f,_=p+h-f,v=p+h+f,b=d-l-c,x=d-l+c,w=d+l+c,E=d+l-c;return g(Math.min(y,m,_,v),Math.min(b,x,w,E),Math.max(y,m,_,v),Math.max(b,x,w,E),r)}function R(t){return t[3]-t[1]}function k(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return F(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):y(i),i}function P(t){return[t[0],t[3]]}function D(t){return[t[2],t[3]]}function j(t){return t[2]-t[0]}function F(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function z(t){return t[2]<t[0]||t[3]<t[1]}function B(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function q(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function G(t,e,n){var i=!1,r=p(t,e),s=p(t,n);if(r===o.a.INTERSECTING||s===o.a.INTERSECTING)i=!0;else{var a,u,h=t[0],l=t[1],c=t[2],f=t[3],d=e[0],g=e[1],y=n[0],m=n[1],_=(m-g)/(y-d);s&o.a.ABOVE&&!(r&o.a.ABOVE)&&(i=(a=y-(m-f)/_)>=h&&a<=c),i||!(s&o.a.RIGHT)||r&o.a.RIGHT||(i=(u=m-(y-c)*_)>=l&&u<=f),i||!(s&o.a.BELOW)||r&o.a.BELOW||(i=(a=y-(m-l)/_)>=h&&a<=c),i||!(s&o.a.LEFT)||r&o.a.LEFT||(i=(u=m-(y-h)*_)>=l&&u<=f)}return i}function U(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return g(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return f}));var i=n(9);function r(t,e,n,i){for(var r,o=0,s=t.length;o<s;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r}function o(t,e){var n=s(t);return n?n[e]:void 0}function s(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function a(t,e){var n=o(t,e);if(n){for(var r=0,a=n.length;r<a;++r)t.removeEventListener(e,n[r].boundListener),Object(i.b)(n[r]);n.length=0;var u=s(t);u&&(delete u[e],0===Object.keys(u).length&&function(t){delete t.ol_lm}(t))}}function u(t,e,n,i,o){var a=s(t,!0),u=a[e];u||(u=a[e]=[]);var h=r(u,n,i,!1);return h?o||(h.callOnce=!1):(h={bindTo:i,callOnce:!!o,listener:n,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&c(t),n.call(i,e)};return t.boundListener=e,e}(h)),u.push(h)),h}function h(t,e,n,i){return u(t,e,n,i,!0)}function l(t,e,n,i){var s=o(t,e);if(s){var a=r(s,n,i,!0);a&&c(a)}}function c(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&a(t.target,t.type)}Object(i.b)(t)}}function f(t){var e=s(t);if(e)for(var n in e)a(t,n)}},function(t,e,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s}));var r=0;function o(t){return t.ol_uid||(t.ol_uid=String(++r))}var s="5.3.2"},function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"i",(function(){return d})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return y})),n.d(e,"m",(function(){return m})),n.d(e,"j",(function(){return _})),n.d(e,"h",(function(){return v})),n.d(e,"o",(function(){return b})),n.d(e,"a",(function(){return C})),n.d(e,"p",(function(){return T})),n.d(e,"q",(function(){return O})),n.d(e,"s",(function(){return N})),n.d(e,"r",(function(){return L})),n.d(e,"n",(function(){return A}));var i=n(19),r=n(13),o=n(9),s=n(81),a=n(8),u="10px sans-serif",h=[0,0,0,1],l="round",c=[],f=0,p="round",d=10,g=[0,0,0,1],y="center",m="middle",_=[0,0,0,0],v=1,b=new s.a,x={},w=null,E={},C=function(){var t,e,n=x,r=["monospace","serif"],s=r.length,a="wmytzilWMYTZIL@#/&?$%10";function u(t){for(var n=S(),i=100;i<=700;i+=300){for(var o=i+" ",u=!0,h=0;h<s;++h){var l=r[h];if(n.font=o+"32px "+l,e=n.measureText(a).width,t!=l){n.font=o+"32px "+t+","+l;var c=n.measureText(a).width;u=u&&c!=e}}if(u)return!0}return!1}function h(){var e=!0;for(var i in n)n[i]<60&&(u(i)?(n[i]=60,Object(o.b)(E),w=null,b.clear()):(++n[i],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var r=Object(i.f)(e);if(r)for(var o=0,s=r.length;o<s;++o){var a=r[o];a in n||(n[a]=60,u(a)||(n[a]=0,void 0===t&&(t=setInterval(h,32))))}}}();function S(){return w||(w=Object(r.a)(1,1)),w}var M,I,T=(I=E,function(t){var e=I[t];return null==e&&(M||((M=document.createElement("span")).textContent="M",M.style.margin=M.style.padding="0 !important",M.style.position="absolute !important",M.style.left="-99999px !important"),M.style.font=t,document.body.appendChild(M),e=I[t]=M.offsetHeight,document.body.removeChild(M)),e});function O(t,e){var n=S();return t!=n.font&&(n.font=t),n.measureText(e).width}function N(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var L=Object(a.c)();function A(t,e,n,i,r,o,s,a,u,h,l){var c;1!=n&&(c=t.globalAlpha,t.globalAlpha=c*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,s,a,u,h,s*l,a*l),c&&(t.globalAlpha=c),e&&t.setTransform.apply(t,L)}},function(t,e,n){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return h})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return c}));n(10);function i(t,e,n){return Math.min(Math.max(t,e),n)}var r="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function o(t,e,n,i,r,o){var a=r-n,u=o-i;if(0!==a||0!==u){var h=((t-n)*a+(e-i)*u)/(a*a+u*u);h>1?(n=r,i=o):h>0&&(n+=a*h,i+=u*h)}return s(t,e,n,i)}function s(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function a(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>r&&(r=s,i=o)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var u=n+1;u<e;u++)for(var h=-t[u][n]/t[n][n],l=n;l<e+1;l++)n==l?t[u][l]=0:t[u][l]+=h*t[n][l]}for(var c=new Array(e),f=e-1;f>=0;f--){c[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*c[f]}return c}function u(t){return 180*t/Math.PI}function h(t){return t*Math.PI/180}function l(t,e){var n=t%e;return n*e<0?n+e:n}function c(t,e,n){return t+n*(e-t)}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return h})),n.d(e,"a",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return d}));var i=n(10),r=new Array(6);function o(){return[1,0,0,1,0,0]}function s(t){return u(t,1,0,0,1,0,0)}function a(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=e[0],h=e[1],l=e[2],c=e[3],f=e[4],p=e[5];return t[0]=n*u+r*h,t[1]=i*u+o*h,t[2]=n*l+r*c,t[3]=i*l+o*c,t[4]=n*f+r*p+s,t[5]=i*f+o*p+a,t}function u(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function l(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function c(t,e,n){return a(t,u(r,e,0,0,n,0,0))}function f(t,e,n){return a(t,u(r,1,0,0,1,e,n))}function p(t,e,n,i,r,o,s,a){var u=Math.sin(o),h=Math.cos(o);return t[0]=i*h,t[1]=r*u,t[2]=-i*u,t[3]=r*h,t[4]=s*i*h-a*i*u+e,t[5]=s*r*u+a*r*h+n,t}function d(t){var e,n=(e=t)[0]*e[3]-e[1]*e[2];Object(i.a)(0!==n,32);var r=t[0],o=t[1],s=t[2],a=t[3],u=t[4],h=t[5];return t[0]=a/n,t[1]=-o/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*h-a*u)/n,t[5]=-(r*h-o*u)/n,t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s}));var i="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var s=n[r];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(i[a]=s[a])}return i};function r(t){for(var e in t)delete t[e]}function o(t){var e=[];for(var n in t)e.push(t[n]);return e}function s(t){var e;for(e in t)return!1;return!e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(78);function r(t,e){if(!t)throw new i.a(e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s.a})),n.d(e,"d",(function(){return S})),n.d(e,"g",(function(){return M})),n.d(e,"h",(function(){return I})),n.d(e,"c",(function(){return T})),n.d(e,"e",(function(){return O})),n.d(e,"b",(function(){return L})),n.d(e,"f",(function(){return A})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return P}));var i=n(71),r=(n(0),n(6)),o=n(51),s=n(26),a=6378137*Math.PI,u=[-a,-a,a,a],h=[-180,-85,180,85],l=function(t){function e(e){t.call(this,{code:e,units:s.b.METERS,extent:u,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/Object(r.b)(e[1]/6378137)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.a),c=[new l("EPSG:3857"),new l("EPSG:102100"),new l("EPSG:102113"),new l("EPSG:900913"),new l("urn:ogc:def:crs:EPSG:6.18:3:3857"),new l("urn:ogc:def:crs:EPSG::3857"),new l("http://www.opengis.net/gml/srs/epsg.xml#3857")];function f(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=a,u=0;u<i;u+=r){o[u]=s*t[u]/180;var h=6378137*Math.log(Math.tan(Math.PI*(t[u+1]+90)/360));h>s?h=s:h<-s&&(h=-s),o[u+1]=h}return o}function p(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/a,o[s+1]=360*Math.atan(Math.exp(t[s+1]/6378137))/Math.PI-90;return o}var d=[-180,-90,180,90],g=6378137*Math.PI/180,y=function(t){function e(e,n){t.call(this,{code:e,units:s.b.DEGREES,extent:d,axisOrientation:n,global:!0,metersPerUnit:g,worldExtent:d})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.a),m=[new y("CRS:84"),new y("EPSG:4326","neu"),new y("urn:ogc:def:crs:EPSG::4326","neu"),new y("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new y("urn:ogc:def:crs:OGC:1.3:CRS84"),new y("urn:ogc:def:crs:OGC:2:84"),new y("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new y("urn:x-ogc:def:crs:EPSG:4326","neu")],_={};var v,b,x,w=n(43);function E(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function C(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function S(t){!function(t,e){_[t]=e}(t.getCode(),t),Object(w.a)(t,t,E)}function M(t){return"string"==typeof t?_[t]||null:t||null}function I(t,e,n,r){var o,a=(t=M(t)).getPointResolutionFunc();if(a)o=a(e,n);else if(t.getUnits()==s.b.DEGREES&&!r||r==s.b.DEGREES)o=e;else{var u=R(t,M("EPSG:4326")),h=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];h=u(h,h,2),o=(Object(i.a)(h.slice(0,2),h.slice(2,4))+Object(i.a)(h.slice(4,6),h.slice(6,8)))/2;var l=r?s.a[r]:t.getMetersPerUnit();void 0!==l&&(o/=l)}return o}function T(t){!function(t){t.forEach(S)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Object(w.a)(e,t,E)}))}))}function O(t,e){return t?"string"==typeof t?M(t):t:M(e)}function N(t){return function(e,n,i){for(var r=e.length,o=void 0!==i?i:2,s=void 0!==n?n:new Array(r),a=0;a<r;a+=o){var u=t([e[a],e[a+1]]);s[a]=u[0],s[a+1]=u[1];for(var h=o-1;h>=2;--h)s[a+h]=e[a+h]}return s}}function L(t,e,n,i){var r=M(t),o=M(e);Object(w.a)(r,o,N(n)),Object(w.a)(o,r,N(i))}function A(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||R(t,e)===E)&&n}function R(t,e){var n=t.getCode(),i=e.getCode(),r=Object(w.c)(n,i);return r||(r=C),r}function k(t,e){return R(M(t),M(e))}function P(t,e,n){return k(e,n)(t,void 0,t.length)}T(c),T(m),v=c,b=f,x=p,m.forEach((function(t){v.forEach((function(e){Object(w.a)(t,e,b),Object(w.a)(e,t,x)}))}))},function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";function i(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function r(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function o(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function s(t){for(;t.lastChild;)t.removeChild(t.lastChild)}n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s}))},function(t,e,n){"use strict";function i(){return!0}function r(){return!1}function o(){}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o}))},function(t,e,n){"use strict";function i(t,e){return t>e?1:t<e?-1:0}function r(t,e){return t.indexOf(e)>=0}function o(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function s(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function a(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function u(t,e){var n=t.indexOf(e),i=n>-1;return i&&t.splice(n,1),i}function h(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function l(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort((function(t,n){return e(t.value,n.value)||t.index-n.index})),n=0;n<t.length;n++)t[n]=r[n].value}function c(t,e,n){var r=e||i;return t.every((function(e,i){if(0===i)return!0;var o=r(t[i-1],e);return!(o>0||n&&0===o)}))}n.d(e,"f",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"h",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"a",(function(){return h})),n.d(e,"i",(function(){return l})),n.d(e,"d",(function(){return c}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));var i=n(2),r=n(45),o=n(79),s=n(23),a=n(9),u=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),h=function(t){function e(e){t.call(this),Object(i.c)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(a.a)({},this.values_)},e.prototype.notify=function(t,e){var n;n=c(t),this.dispatchEvent(new u(n,t,e)),n=r.a.PROPERTYCHANGE,this.dispatchEvent(new u(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(o.a),l={};function c(t){return l.hasOwnProperty(t)?l[t]:l[t]="change:"+t}e.a=h},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return h})),n.d(e,"h",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return f}));var i="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",r=-1!==i.indexOf("firefox"),o=-1!==i.indexOf("safari")&&-1==i.indexOf("chrom"),s=-1!==i.indexOf("webkit")&&-1==i.indexOf("edge"),a=-1!==i.indexOf("macintosh"),u=window.devicePixelRatio||1,h=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),l=(navigator,"ontouchstart"in window),c="PointerEvent"in window,f=!!navigator.msPointerEnabled},function(t,e,n){"use strict";var i=n(49),r=n(109),o=n(76),s=n(169),a=n(70);function u(t){return t}function h(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function c(t){var n=65536,i=e.getTypeOf(t),r=!0;if("uint8array"===i?r=l.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=l.applyCanBeUsed.nodebuffer),r)for(;n>1;)try{return l.stringifyByChunk(t,i,n)}catch(t){n=Math.floor(n/2)}return l.stringifyByChar(t)}function f(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}e.applyFromCharCode=c;var p={};p.string={string:u,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:function(t){return h(t,o.allocBuffer(t.length))}},p.array={string:c,array:u,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},p.arraybuffer={string:function(t){return c(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:u,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:c,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:u,nodebuffer:function(t){return o.newBufferFrom(t)}},p.nodebuffer={string:c,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:u},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var i=e.getTypeOf(n);return p[i][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&o.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},e.delay=function(t,e,n){s((function(){t.apply(n||null,e||[])}))},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,o,s,u){return a.Promise.resolve(n).then((function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new a.Promise((function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)})):t})).then((function(n){var l,c=e.getTypeOf(n);return c?("arraybuffer"===c?n=e.transformTo("uint8array",n):"string"===c&&(u?n=r.decode(n):o&&!0!==s&&(n=h(l=n,i.uint8array?new Uint8Array(l.length):new Array(l.length)))),n):a.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return h})),n.d(e,"f",(function(){return l}));var i,r,o="ol-hidden",s="ol-unselectable",a="ol-unsupported",u="ol-control",h="ol-collapsed",l=(r={},function(t){if(i||(i=document.createElement("div").style),!(t in r)){i.font=t;var e=i.fontFamily;if(i.font="",!e)return null;r[t]=e.split(/,\s?/)}return r[t]})},function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,n){"use strict";n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return m})),n.d(e,"a",(function(){return M})),n.d(e,"c",(function(){return Ki})),n.d(e,"b",(function(){return Vi})),n.d(e,"g",(function(){return Cs})),n.d(e,"h",(function(){return Ns})),n.d(e,"i",(function(){return Yt})),n.d(e,"d",(function(){return Lt}));var i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},r=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}};var o=r(i),s=o.right,a=(o.left,s);var u=Array.prototype,h=(u.slice,u.map,Math.sqrt(50)),l=Math.sqrt(10),c=Math.sqrt(2),f=function(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=p(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(t-a)/s;return i&&o.reverse(),o};function p(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=h?10:o>=l?5:o>=c?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=h?10:o>=l?5:o>=c?2:1)}function d(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=h?r*=10:o>=l?r*=5:o>=c&&(r*=2),e<t?-r:r}var g=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i},y=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n},m=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i};var _=Array.prototype.slice,v=function(t){return t};function b(t){return"translate("+(t+.5)+",0)"}function x(t){return"translate(0,"+(t+.5)+")"}function w(t){return function(e){return+t(e)}}function E(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function C(){return!this.__axis}function S(t,e){var n=[],i=null,r=null,o=6,s=6,a=3,u=1===t||4===t?-1:1,h=4===t||2===t?"x":"y",l=1===t||3===t?b:x;function c(c){var f=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,p=null==r?e.tickFormat?e.tickFormat.apply(e,n):v:r,d=Math.max(o,0)+a,g=e.range(),y=+g[0]+.5,m=+g[g.length-1]+.5,_=(e.bandwidth?E:w)(e.copy()),b=c.selection?c.selection():c,x=b.selectAll(".domain").data([null]),S=b.selectAll(".tick").data(f,e).order(),M=S.exit(),I=S.enter().append("g").attr("class","tick"),T=S.select("line"),O=S.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(I),T=T.merge(I.append("line").attr("stroke","currentColor").attr(h+"2",u*o)),O=O.merge(I.append("text").attr("fill","currentColor").attr(h,u*d).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),c!==b&&(x=x.transition(c),S=S.transition(c),T=T.transition(c),O=O.transition(c),M=M.transition(c).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=_(t))?l(t):this.getAttribute("transform")})),I.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return l(e&&isFinite(e=e(t))?e:_(t))}))),M.remove(),x.attr("d",4===t||2==t?s?"M"+u*s+","+y+"H0.5V"+m+"H"+u*s:"M0.5,"+y+"V"+m:s?"M"+y+","+u*s+"V0.5H"+m+"V"+u*s:"M"+y+",0.5H"+m),S.attr("opacity",1).attr("transform",(function(t){return l(_(t))})),T.attr(h+"2",u*o),O.attr(h,u*d).text(p),b.filter(C).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=_}))}return c.scale=function(t){return arguments.length?(e=t,c):e},c.ticks=function(){return n=_.call(arguments),c},c.tickArguments=function(t){return arguments.length?(n=null==t?[]:_.call(t),c):n.slice()},c.tickValues=function(t){return arguments.length?(i=null==t?null:_.call(t),c):i&&i.slice()},c.tickFormat=function(t){return arguments.length?(r=t,c):r},c.tickSize=function(t){return arguments.length?(o=s=+t,c):o},c.tickSizeInner=function(t){return arguments.length?(o=+t,c):o},c.tickSizeOuter=function(t){return arguments.length?(s=+t,c):s},c.tickPadding=function(t){return arguments.length?(a=+t,c):a},c}function M(t){return S(3,t)}var I={value:function(){}};function T(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new O(i)}function O(t){this._=t}function N(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function L(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function A(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=I,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}O.prototype=T.prototype={constructor:O,on:function(t,e){var n,i=this._,r=N(t+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=A(i[n],t.name,e);else if(null==e)for(n in i)i[n]=A(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=L(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new O(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var R=T,k="http://www.w3.org/1999/xhtml",P={svg:"http://www.w3.org/2000/svg",xhtml:k,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},D=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),P.hasOwnProperty(e)?{space:P[e],local:t}:t};function j(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===k&&e.documentElement.namespaceURI===k?e.createElement(t):e.createElementNS(n,t)}}function F(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var z=function(t){var e=D(t);return(e.local?F:j)(e)};function B(){}var q=function(t){return null==t?B:function(){return this.querySelector(t)}};function G(){return[]}var U=function(t){return null==t?G:function(){return this.querySelectorAll(t)}},H=function(t){return function(){return this.matches(t)}},Y=function(t){return new Array(t.length)};function W(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}W.prototype={constructor:W,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function X(t,e,n,i,r,o){for(var s,a=0,u=e.length,h=o.length;a<h;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new W(t,o[a]);for(;a<u;++a)(s=e[a])&&(r[a]=s)}function V(t,e,n,i,r,o,s){var a,u,h,l={},c=e.length,f=o.length,p=new Array(c);for(a=0;a<c;++a)(u=e[a])&&(p[a]=h="$"+s.call(u,u.__data__,a,e),h in l?r[a]=u:l[h]=u);for(a=0;a<f;++a)(u=l[h="$"+s.call(t,o[a],a,o)])?(i[a]=u,u.__data__=o[a],l[h]=null):n[a]=new W(t,o[a]);for(a=0;a<c;++a)(u=e[a])&&l[p[a]]===u&&(r[a]=u)}function K(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $(t){return function(){this.removeAttribute(t)}}function Z(t){return function(){this.removeAttributeNS(t.space,t.local)}}function J(t,e){return function(){this.setAttribute(t,e)}}function Q(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function et(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var nt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function it(t){return function(){this.style.removeProperty(t)}}function rt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ot(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function st(t,e){return t.style.getPropertyValue(e)||nt(t).getComputedStyle(t,null).getPropertyValue(e)}function at(t){return function(){delete this[t]}}function ut(t,e){return function(){this[t]=e}}function ht(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function lt(t){return t.trim().split(/^|\s+/)}function ct(t){return t.classList||new ft(t)}function ft(t){this._node=t,this._names=lt(t.getAttribute("class")||"")}function pt(t,e){for(var n=ct(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function dt(t,e){for(var n=ct(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function gt(t){return function(){pt(this,t)}}function yt(t){return function(){dt(this,t)}}function mt(t,e){return function(){(e.apply(this,arguments)?pt:dt)(this,t)}}ft.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function _t(){this.textContent=""}function vt(t){return function(){this.textContent=t}}function bt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function xt(){this.innerHTML=""}function wt(t){return function(){this.innerHTML=t}}function Et(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ct(){this.nextSibling&&this.parentNode.appendChild(this)}function St(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mt(){return null}function It(){var t=this.parentNode;t&&t.removeChild(this)}function Tt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ot(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Nt={},Lt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Nt={mouseenter:"mouseover",mouseleave:"mouseout"}));function At(t,e,n){return t=Rt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Rt(t,e,n){return function(i){var r=Lt;Lt=i;try{t.call(this,this.__data__,e,n)}finally{Lt=r}}}function kt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Pt(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function Dt(t,e,n){var i=Nt.hasOwnProperty(t.type)?At:Rt;return function(r,o,s){var a,u=this.__on,h=i(e,o,s);if(u)for(var l=0,c=u.length;l<c;++l)if((a=u[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=h,a.capture=n),void(a.value=e);this.addEventListener(t.type,h,n),a={type:t.type,name:t.name,value:e,listener:h,capture:n},u?u.push(a):this.__on=[a]}}function jt(t,e,n,i){var r=Lt;t.sourceEvent=Lt,Lt=t;try{return e.apply(n,i)}finally{Lt=r}}function Ft(t,e,n){var i=nt(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function zt(t,e){return function(){return Ft(this,t,e)}}function Bt(t,e){return function(){return Ft(this,t,e.apply(this,arguments))}}var qt=[null];function Gt(t,e){this._groups=t,this._parents=e}function Ut(){return new Gt([[document.documentElement]],qt)}Gt.prototype=Ut.prototype={constructor:Gt,select:function(t){"function"!=typeof t&&(t=q(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],u=a.length,h=i[r]=new Array(u),l=0;l<u;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),h[l]=s);return new Gt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=U(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,h=0;h<u;++h)(s=a[h])&&(i.push(t.call(s,s.__data__,h,a)),r.push(s));return new Gt(i,r)},filter:function(t){"function"!=typeof t&&(t=H(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],h=0;h<a;++h)(o=s[h])&&t.call(o,o.__data__,h,s)&&u.push(o);return new Gt(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each((function(t){p[++h]=t})),p;var n=e?V:X,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,s=new Array(o),a=new Array(o),u=new Array(o),h=0;h<o;++h){var l=i[h],c=r[h],f=c.length,p=t.call(l,l&&l.__data__,h,i),d=p.length,g=a[h]=new Array(d),y=s[h]=new Array(d);n(l,c,g,y,u[h]=new Array(f),p,e);for(var m,_,v=0,b=0;v<d;++v)if(m=g[v]){for(v>=b&&(b=v+1);!(_=y[b])&&++b<d;);m._next=_||null}}return(s=new Gt(s,i))._enter=a,s._exit=u,s},enter:function(){return new Gt(this._enter||this._groups.map(Y),this._parents)},exit:function(){return new Gt(this._exit||this._groups.map(Y),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,h=e[a],l=n[a],c=h.length,f=s[a]=new Array(c),p=0;p<c;++p)(u=h[p]||l[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new Gt(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=K);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],u=a.length,h=r[o]=new Array(u),l=0;l<u;++l)(s=a[l])&&(h[l]=s);h.sort(e)}return new Gt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=D(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Z:$:"function"==typeof e?n.local?et:tt:n.local?Q:J)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?it:"function"==typeof e?ot:rt)(t,e,null==n?"":n)):st(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?at:"function"==typeof e?ht:ut)(t,e)):this.node()[t]},classed:function(t,e){var n=lt(t+"");if(arguments.length<2){for(var i=ct(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?mt:e?gt:yt)(n,e))},text:function(t){return arguments.length?this.each(null==t?_t:("function"==typeof t?bt:vt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?xt:("function"==typeof t?Et:wt)(t)):this.node().innerHTML},raise:function(){return this.each(Ct)},lower:function(){return this.each(St)},append:function(t){var e="function"==typeof t?t:z(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:z(t),i=null==e?Mt:"function"==typeof e?e:q(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(It)},clone:function(t){return this.select(t?Ot:Tt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=kt(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?Dt:Pt,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,h=0,l=a.length;h<l;++h)for(i=0,u=a[h];i<s;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Bt:zt)(t,e))}};var Ht=Ut,Yt=function(t){return"string"==typeof t?new Gt([[document.querySelector(t)]],[document.documentElement]):new Gt([[t]],qt)},Wt=0;function Xt(){this._="@"+(++Wt).toString(36)}Xt.prototype=function(){return new Xt}.prototype={constructor:Xt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Vt=function(){for(var t,e=Lt;t=e.sourceEvent;)e=t;return e},Kt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},$t=function(t){var e=Vt();return e.changedTouches&&(e=e.changedTouches[0]),Kt(t,e)};var Zt=function(){Lt.preventDefault(),Lt.stopImmediatePropagation()},Jt=function(t){var e=t.document.documentElement,n=Yt(t).on("dragstart.drag",Zt,!0);"onselectstart"in e?n.on("selectstart.drag",Zt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Qt(t,e){var n=t.document.documentElement,i=Yt(t).on("dragstart.drag",null);e&&(i.on("click.drag",Zt,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function te(t,e,n,i,r,o,s,a,u,h){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=u,this._=h}te.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ee=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function ne(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ie(){}var re="\\s*([+-]?\\d+)\\s*",oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",se="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ae=/^#([0-9a-f]{3})$/,ue=/^#([0-9a-f]{6})$/,he=new RegExp("^rgb\\("+[re,re,re]+"\\)$"),le=new RegExp("^rgb\\("+[se,se,se]+"\\)$"),ce=new RegExp("^rgba\\("+[re,re,re,oe]+"\\)$"),fe=new RegExp("^rgba\\("+[se,se,se,oe]+"\\)$"),pe=new RegExp("^hsl\\("+[oe,se,se]+"\\)$"),de=new RegExp("^hsla\\("+[oe,se,se,oe]+"\\)$"),ge={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ye(t){var e;return t=(t+"").trim().toLowerCase(),(e=ae.exec(t))?new xe((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=ue.exec(t))?me(parseInt(e[1],16)):(e=he.exec(t))?new xe(e[1],e[2],e[3],1):(e=le.exec(t))?new xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ce.exec(t))?_e(e[1],e[2],e[3],e[4]):(e=fe.exec(t))?_e(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=pe.exec(t))?Ee(e[1],e[2]/100,e[3]/100,1):(e=de.exec(t))?Ee(e[1],e[2]/100,e[3]/100,e[4]):ge.hasOwnProperty(t)?me(ge[t]):"transparent"===t?new xe(NaN,NaN,NaN,0):null}function me(t){return new xe(t>>16&255,t>>8&255,255&t,1)}function _e(t,e,n,i){return i<=0&&(t=e=n=NaN),new xe(t,e,n,i)}function ve(t){return t instanceof ie||(t=ye(t)),t?new xe((t=t.rgb()).r,t.g,t.b,t.opacity):new xe}function be(t,e,n,i){return 1===arguments.length?ve(t):new xe(t,e,n,null==i?1:i)}function xe(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function we(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ee(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Me(t,e,n,i)}function Ce(t){if(t instanceof Me)return new Me(t.h,t.s,t.l,t.opacity);if(t instanceof ie||(t=ye(t)),!t)return new Me;if(t instanceof Me)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=u<.5?o+r:2-o-r,s*=60):a=u>0&&u<1?0:s,new Me(s,a,u,t.opacity)}function Se(t,e,n,i){return 1===arguments.length?Ce(t):new Me(t,e,n,null==i?1:i)}function Me(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Ie(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ee(ie,ye,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),ee(xe,be,ne(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+we(this.r)+we(this.g)+we(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),ee(Me,Se,ne(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Me(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Me(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new xe(Ie(t>=240?t-240:t+120,r,i),Ie(t,r,i),Ie(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Te=Math.PI/180,Oe=180/Math.PI;function Ne(t){if(t instanceof Ae)return new Ae(t.l,t.a,t.b,t.opacity);if(t instanceof ze){if(isNaN(t.h))return new Ae(t.l,0,0,t.opacity);var e=t.h*Te;return new Ae(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof xe||(t=ve(t));var n,i,r=De(t.r),o=De(t.g),s=De(t.b),a=Re((.2225045*r+.7168786*o+.0606169*s)/1);return r===o&&o===s?n=i=a:(n=Re((.4360747*r+.3850649*o+.1430804*s)/.96422),i=Re((.0139322*r+.0971045*o+.7141733*s)/.82521)),new Ae(116*a-16,500*(n-a),200*(a-i),t.opacity)}function Le(t,e,n,i){return 1===arguments.length?Ne(t):new Ae(t,e,n,null==i?1:i)}function Ae(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Re(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function ke(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function Pe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function De(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function je(t){if(t instanceof ze)return new ze(t.h,t.c,t.l,t.opacity);if(t instanceof Ae||(t=Ne(t)),0===t.a&&0===t.b)return new ze(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Oe;return new ze(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Fe(t,e,n,i){return 1===arguments.length?je(t):new ze(t,e,n,null==i?1:i)}function ze(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}ee(Ae,Le,ne(ie,{brighter:function(t){return new Ae(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ae(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new xe(Pe(3.1338561*(e=.96422*ke(e))-1.6168667*(t=1*ke(t))-.4906146*(n=.82521*ke(n))),Pe(-.9787684*e+1.9161415*t+.033454*n),Pe(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),ee(ze,Fe,ne(ie,{brighter:function(t){return new ze(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ze(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ne(this).rgb()}}));var Be=-.29227,qe=-1.7884503806,Ge=3.5172982438,Ue=-.6557636667999999;function He(t){if(t instanceof We)return new We(t.h,t.s,t.l,t.opacity);t instanceof xe||(t=ve(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Ue*i+qe*e-Ge*n)/(Ue+qe-Ge),o=i-r,s=(1.97294*(n-r)-Be*o)/-.90649,a=Math.sqrt(s*s+o*o)/(1.97294*r*(1-r)),u=a?Math.atan2(s,o)*Oe-120:NaN;return new We(u<0?u+360:u,a,r,t.opacity)}function Ye(t,e,n,i){return 1===arguments.length?He(t):new We(t,e,n,null==i?1:i)}function We(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Xe(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}ee(We,Ye,ne(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new We(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new We(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Te,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new xe(255*(e+n*(-.14861*i+1.78277*r)),255*(e+n*(Be*i+-.90649*r)),255*(e+n*(1.97294*i)),this.opacity)}}));var Ve=function(t){return function(){return t}};function Ke(t,e){return function(n){return t+n*e}}function $e(t,e){var n=e-t;return n?Ke(t,n>180||n<-180?n-360*Math.round(n/360):n):Ve(isNaN(t)?e:t)}function Ze(t){return 1==(t=+t)?Je:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Ve(isNaN(e)?n:e)}}function Je(t,e){var n=e-t;return n?Ke(t,n):Ve(isNaN(t)?e:t)}var Qe=function t(e){var n=Ze(e);function i(t,e){var i=n((t=be(t)).r,(e=be(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=Je(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function tn(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=be(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}var en=tn((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],s=i>0?t[i-1]:2*r-o,a=i<e-1?t[i+2]:2*o-r;return Xe((n-i/e)*e,s,r,o,a)}})),nn=(tn((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],a=t[(i+2)%e];return Xe((n-i/e)*e,r,o,s,a)}})),function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=dn(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}}),rn=function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}},on=function(t,e){return e-=t=+t,function(n){return t+e*n}},sn=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=dn(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},an=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,un=new RegExp(an.source,"g");var hn,ln,cn,fn,pn=function(t,e){var n,i,r,o=an.lastIndex=un.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=an.exec(t))&&(i=un.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:on(n,i)})),o=un.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})},dn=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Ve(e):("number"===i?on:"string"===i?(n=ye(e))?(e=n,Qe):pn:e instanceof ye?Qe:e instanceof Date?rn:Array.isArray(e)?nn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?sn:on)(t,e)},gn=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},yn=180/Math.PI,mn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},_n=function(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*yn,skewX:Math.atan(u)*yn,scaleX:s,scaleY:a}};function vn(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],u=[];return o=t(o),s=t(s),function(t,i,r,o,s,a){if(t!==r||i!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:on(t,r)},{i:u-2,x:on(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:on(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,s.rotate,a,u),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:on(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,s.skewX,a,u),function(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:on(t,n)},{i:a-2,x:on(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,u),o=s=null,function(t){for(var e,n=-1,i=u.length;++n<i;)a[(e=u[n]).i]=e.x(t);return a.join("")}}}var bn=vn((function(t){return"none"===t?mn:(hn||(hn=document.createElement("DIV"),ln=document.documentElement,cn=document.defaultView),hn.style.transform=t,t=cn.getComputedStyle(ln.appendChild(hn),null).getPropertyValue("transform"),ln.removeChild(hn),t=t.slice(7,-1).split(","),_n(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),xn=vn((function(t){return null==t?mn:(fn||(fn=document.createElementNS("http://www.w3.org/2000/svg","g")),fn.setAttribute("transform",t),(t=fn.transform.baseVal.consolidate())?(t=t.matrix,_n(t.a,t.b,t.c,t.d,t.e,t.f)):mn)}),", ",")",")");Math.SQRT2;function wn(t){return function(e,n){var i=t((e=Se(e)).h,(n=Se(n)).h),r=Je(e.s,n.s),o=Je(e.l,n.l),s=Je(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=s(t),e+""}}}wn($e),wn(Je);function En(t){return function(e,n){var i=t((e=Fe(e)).h,(n=Fe(n)).h),r=Je(e.c,n.c),o=Je(e.l,n.l),s=Je(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}En($e),En(Je);function Cn(t){return function e(n){function i(e,i){var r=t((e=Ye(e)).h,(i=Ye(i)).h),o=Je(e.s,i.s),s=Je(e.l,i.l),a=Je(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}Cn($e);var Sn=Cn(Je);var Mn,In,Tn=0,On=0,Nn=0,Ln=0,An=0,Rn=0,kn="object"==typeof performance&&performance.now?performance:Date,Pn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Dn(){return An||(Pn(jn),An=kn.now()+Rn)}function jn(){An=0}function Fn(){this._call=this._time=this._next=null}function zn(t,e,n){var i=new Fn;return i.restart(t,e,n),i}function Bn(){An=(Ln=kn.now())+Rn,Tn=On=0;try{!function(){Dn(),++Tn;for(var t,e=Mn;e;)(t=An-e._time)>=0&&e._call.call(null,t),e=e._next;--Tn}()}finally{Tn=0,function(){var t,e,n=Mn,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Mn=e);In=t,Gn(i)}(),An=0}}function qn(){var t=kn.now(),e=t-Ln;e>1e3&&(Rn-=e,Ln=t)}function Gn(t){Tn||(On&&(On=clearTimeout(On)),t-An>24?(t<1/0&&(On=setTimeout(Bn,t-kn.now()-Rn)),Nn&&(Nn=clearInterval(Nn))):(Nn||(Ln=kn.now(),Nn=setInterval(qn,1e3)),Tn=1,Pn(Bn)))}Fn.prototype=zn.prototype={constructor:Fn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Dn():+n)+(null==e?0:+e),this._next||In===this||(In?In._next=this:Mn=this,In=this),this._call=t,this._time=n,Gn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gn())}};var Un=function(t,e,n){var i=new Fn;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i},Hn=R("start","end","cancel","interrupt"),Yn=[],Wn=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(u){var h,l,c,f;if(1!==n.state)return a();for(h in r)if((f=r[h]).name===n.name){if(3===f.state)return Un(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[h]):+h<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[h])}if(Un((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(c=n.tween.length),h=0,l=-1;h<c;++h)(f=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++l]=f);i.length=l+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=i.length;++o<s;)i[o].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=zn((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:r,on:Hn,tween:Yn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Xn(t,e){var n=Kn(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Vn(t,e){var n=Kn(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Kn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var $n=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}};function Zn(t,e){var n,i;return function(){var r=Vn(this,t),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function Jn(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Vn(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},u=0,h=r.length;u<h;++u)if(r[u].name===e){r[u]=a;break}u===h&&r.push(a)}o.tween=r}}function Qn(t,e,n){var i=t._id;return t.each((function(){var t=Vn(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Kn(t,i).value[e]}}var ti=function(t,e){var n;return("number"==typeof e?on:e instanceof ye?Qe:(n=ye(e))?(e=n,Qe):pn)(t,e)};function ei(t){return function(){this.removeAttribute(t)}}function ni(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ii(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function ri(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function oi(t,e,n){var i,r,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttribute(t))===(a=u+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,u));this.removeAttribute(t)}}function si(t,e,n){var i,r,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttributeNS(t.space,t.local))===(a=u+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,u));this.removeAttributeNS(t.space,t.local)}}function ai(t,e){return function(n){this.setAttribute(t,e(n))}}function ui(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}function hi(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&ui(t,r)),n}return r._value=e,r}function li(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&ai(t,r)),n}return r._value=e,r}function ci(t,e){return function(){Xn(this,t).delay=+e.apply(this,arguments)}}function fi(t,e){return e=+e,function(){Xn(this,t).delay=e}}function pi(t,e){return function(){Vn(this,t).duration=+e.apply(this,arguments)}}function di(t,e){return e=+e,function(){Vn(this,t).duration=e}}function gi(t,e){if("function"!=typeof e)throw new Error;return function(){Vn(this,t).ease=e}}function yi(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Xn:Vn;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}var mi=Ht.prototype.constructor;function _i(t){return function(){this.style.removeProperty(t)}}function vi(t,e,n){return function(i){this.style.setProperty(t,e(i),n)}}function bi(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&vi(t,o,n)),i}return o._value=e,o}var xi=0;function wi(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Ei(){return++xi}var Ci=Ht.prototype;wi.prototype=function(t){return Ht().transition(t)}.prototype={constructor:wi,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=q(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,u,h=i[s],l=h.length,c=o[s]=new Array(l),f=0;f<l;++f)(a=h[f])&&(u=t.call(a,a.__data__,f,h))&&("__data__"in a&&(u.__data__=a.__data__),c[f]=u,Wn(c[f],e,n,f,c,Kn(a,n)));return new wi(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=U(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var u,h=i[a],l=h.length,c=0;c<l;++c)if(u=h[c]){for(var f,p=t.call(u,u.__data__,c,h),d=Kn(u,n),g=0,y=p.length;g<y;++g)(f=p[g])&&Wn(f,e,n,g,p,d);o.push(p),s.push(u)}return new wi(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=H(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],h=0;h<a;++h)(o=s[h])&&t.call(o,o.__data__,h,s)&&u.push(o);return new wi(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,h=e[a],l=n[a],c=h.length,f=s[a]=new Array(c),p=0;p<c;++p)(u=h[p]||l[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new wi(s,this._parents,this._name,this._id)},selection:function(){return new mi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ei(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],u=a.length,h=0;h<u;++h)if(s=a[h]){var l=Kn(s,e);Wn(s,t,n,h,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new wi(i,this._parents,t,n)},call:Ci.call,nodes:Ci.nodes,node:Ci.node,size:Ci.size,empty:Ci.empty,each:Ci.each,on:function(t,e){var n=this._id;return arguments.length<2?Kn(this.node(),n).on.on(t):this.each(yi(n,t,e))},attr:function(t,e){var n=D(t),i="transform"===n?xn:ti;return this.attrTween(t,"function"==typeof e?(n.local?si:oi)(n,i,Qn(this,"attr."+t,e)):null==e?(n.local?ni:ei)(n):(n.local?ri:ii)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=D(t);return this.tween(n,(i.local?hi:li)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?bn:ti;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=st(this,t),s=(this.style.removeProperty(t),st(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}(t,i)).on("end.style."+t,_i(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var s=st(this,t),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(t),u=a=st(this,t)),s===u?null:s===i&&u===r?o:(r=u,o=e(i=s,a))}}(t,i,Qn(this,"style."+t,e))).each(function(t,e){var n,i,r,o,s="style."+e,a="end."+s;return function(){var u=Vn(this,t),h=u.on,l=null==u.value[s]?o||(o=_i(e)):void 0;h===n&&r===l||(i=(n=h).copy()).on(a,r=l),u.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var s=st(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,bi(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Qn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Kn(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Zn:Jn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ci:fi)(e,t)):Kn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?pi:di)(e,t)):Kn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(gi(e,t)):Kn(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},u={value:function(){0==--r&&o()}};n.each((function(){var n=Vn(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),n.on=e}))}))}};(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI;(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var Si=2*Math.PI,Mi=(function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Si);function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*Si)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Si);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*Si)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Si);function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*Si)},r.period=function(n){return t(e,n)},r}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Ii(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Mi.time=Dn(),Mi;return n}Ht.prototype.interrupt=function(t){return this.each((function(){$n(this,t)}))},Ht.prototype.transition=function(t){var e,n;t instanceof wi?(e=t._id,t=t._name):(e=Ei(),(n=Mi).time=Dn(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],u=a.length,h=0;h<u;++h)(s=a[h])&&Wn(s,t,e,h,a,n||Ii(s,e));return new wi(i,this._parents,t,e)};var Ti=function(t){return function(){return t}},Oi=function(t,e,n){this.target=t,this.type=e,this.selection=n};function Ni(){Lt.stopImmediatePropagation()}var Li=function(){Lt.preventDefault(),Lt.stopImmediatePropagation()},Ai={name:"drag"},Ri={name:"space"},ki={name:"handle"},Pi={name:"center"},Di={name:"x",handles:["e","w"].map(Ui),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ji={name:"y",handles:["n","s"].map(Ui),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Fi=(["n","e","s","w","nw","ne","se","sw"].map(Ui),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),zi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Bi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},qi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Gi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ui(t){return{type:t}}function Hi(){return!Lt.button}function Yi(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Wi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Xi(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Vi(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ki(){return $i(Di)}function $i(t){var e,n=Yi,i=Hi,r=R(s,"start","brush","end"),o=6;function s(e){var n=e.property("__brush",c).selectAll(".overlay").data([Ui("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Fi.overlay).merge(n).each((function(){var t=Wi(this).extent;Yt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Ui("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Fi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Fi[t.type]})),e.each(a).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",l)}function a(){var t=Yt(this),e=Wi(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-o/2:e[0][0]-o/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-o/2:e[0][1]-o/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+o:o})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+o:o}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e){return t.__brush.emitter||new h(t,e)}function h(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function l(){if(Lt.touches){if(Lt.changedTouches.length<Lt.touches.length)return Li()}else if(e)return;if(i.apply(this,arguments)){var n,r,o,s,h,l,c,f,p,d,g,y,m,_=this,v=Lt.target.__data__.type,b="selection"===(Lt.metaKey?v="overlay":v)?Ai:Lt.altKey?Pi:ki,x=t===ji?null:qi[v],w=t===Di?null:Gi[v],E=Wi(_),C=E.extent,S=E.selection,M=C[0][0],I=C[0][1],T=C[1][0],O=C[1][1],N=x&&w&&Lt.shiftKey,L=$t(_),A=L,R=u(_,arguments).beforestart();"overlay"===v?E.selection=S=[[n=t===ji?M:L[0],o=t===Di?I:L[1]],[h=t===ji?T:n,c=t===Di?O:o]]:(n=S[0][0],o=S[0][1],h=S[1][0],c=S[1][1]),r=n,s=o,l=h,f=c;var k=Yt(_).attr("pointer-events","none"),P=k.selectAll(".overlay").attr("cursor",Fi[v]);if(Lt.touches)k.on("touchmove.brush",j,!0).on("touchend.brush touchcancel.brush",z,!0);else{var D=Yt(Lt.view).on("keydown.brush",B,!0).on("keyup.brush",q,!0).on("mousemove.brush",j,!0).on("mouseup.brush",z,!0);Jt(Lt.view)}Ni(),$n(_),a.call(_),R.start()}function j(){var t=$t(_);!N||y||m||(Math.abs(t[0]-A[0])>Math.abs(t[1]-A[1])?m=!0:y=!0),A=t,g=!0,Li(),F()}function F(){var t;switch(p=A[0]-L[0],d=A[1]-L[1],b){case Ri:case Ai:x&&(p=Math.max(M-n,Math.min(T-h,p)),r=n+p,l=h+p),w&&(d=Math.max(I-o,Math.min(O-c,d)),s=o+d,f=c+d);break;case ki:x<0?(p=Math.max(M-n,Math.min(T-n,p)),r=n+p,l=h):x>0&&(p=Math.max(M-h,Math.min(T-h,p)),r=n,l=h+p),w<0?(d=Math.max(I-o,Math.min(O-o,d)),s=o+d,f=c):w>0&&(d=Math.max(I-c,Math.min(O-c,d)),s=o,f=c+d);break;case Pi:x&&(r=Math.max(M,Math.min(T,n-p*x)),l=Math.max(M,Math.min(T,h+p*x))),w&&(s=Math.max(I,Math.min(O,o-d*w)),f=Math.max(I,Math.min(O,c+d*w)))}l<r&&(x*=-1,t=n,n=h,h=t,t=r,r=l,l=t,v in zi&&P.attr("cursor",Fi[v=zi[v]])),f<s&&(w*=-1,t=o,o=c,c=t,t=s,s=f,f=t,v in Bi&&P.attr("cursor",Fi[v=Bi[v]])),E.selection&&(S=E.selection),y&&(r=S[0][0],l=S[1][0]),m&&(s=S[0][1],f=S[1][1]),S[0][0]===r&&S[0][1]===s&&S[1][0]===l&&S[1][1]===f||(E.selection=[[r,s],[l,f]],a.call(_),R.brush())}function z(){if(Ni(),Lt.touches){if(Lt.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),k.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Qt(Lt.view,g),D.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);k.attr("pointer-events","all"),P.attr("cursor",Fi.overlay),E.selection&&(S=E.selection),Xi(S)&&(E.selection=null,a.call(_)),R.end()}function B(){switch(Lt.keyCode){case 16:N=x&&w;break;case 18:b===ki&&(x&&(h=l-p*x,n=r+p*x),w&&(c=f-d*w,o=s+d*w),b=Pi,F());break;case 32:b!==ki&&b!==Pi||(x<0?h=l-p:x>0&&(n=r-p),w<0?c=f-d:w>0&&(o=s-d),b=Ri,P.attr("cursor",Fi.selection),F());break;default:return}Li()}function q(){switch(Lt.keyCode){case 16:N&&(y=m=N=!1,F());break;case 18:b===Pi&&(x<0?h=l:x>0&&(n=r),w<0?c=f:w>0&&(o=s),b=ki,F());break;case 32:b===Ri&&(Lt.altKey?(x&&(h=l-p*x,n=r+p*x),w&&(c=f-d*w,o=s+d*w),b=Pi):(x<0?h=l:x>0&&(n=r),w<0?c=f:w>0&&(o=s),b=ki),P.attr("cursor",Fi[v]),F());break;default:return}Li()}}function c(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return s.move=function(e,n){e.selection?e.on("start.brush",(function(){u(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){u(this,arguments).end()})).tween("brush",(function(){var e=this,i=e.__brush,r=u(e,arguments),o=i.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),h=dn(o,s);function l(t){i.selection=1===t&&Xi(s)?null:h(t),a.call(e),r.brush()}return o&&s?l:l(1)})):e.each((function(){var e=this,i=arguments,r=e.__brush,o=t.input("function"==typeof n?n.apply(e,i):n,r.extent),s=u(e,i).beforestart();$n(e),r.selection=null==o||Xi(o)?null:o,a.call(e),s.start().brush().end()}))},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){jt(new Oi(s,e,t.output(this.state.selection)),r.apply,r,[e,this.that,this.args])}},s.extent=function(t){return arguments.length?(n="function"==typeof t?t:Ti([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),s):n},s.filter=function(t){return arguments.length?(i="function"==typeof t?t:Ti(!!t),s):i},s.handleSize=function(t){return arguments.length?(o=+t,s):o},s.on=function(){var t=r.on.apply(r,arguments);return t===r?s:t},s}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Zi=Math.PI,Ji=2*Zi,Qi=Ji-1e-6;function tr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function er(){return new tr}tr.prototype=er.prototype={constructor:tr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,u=i-e,h=o-t,l=s-e,c=h*h+l*l;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>1e-6)if(Math.abs(l*a-u*h)>1e-6&&r){var f=n-o,p=i-s,d=a*a+u*u,g=f*f+p*p,y=Math.sqrt(d),m=Math.sqrt(c),_=r*Math.tan((Zi-Math.acos((d+c-g)/(2*y*m)))/2),v=_/m,b=_/y;Math.abs(v-1)>1e-6&&(this._+="L"+(t+v*h)+","+(e+v*l)),this._+="A"+r+","+r+",0,0,"+ +(l*f>h*p)+","+(this._x1=t+b*a)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),u=t+s,h=e+a,l=1^o,c=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+h:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+u+","+h),n&&(c<0&&(c=c%Ji+Ji),c>Qi?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=h):c>1e-6&&(this._+="A"+n+","+n+",0,"+ +(c>=Zi)+","+l+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function nr(){}function ir(t,e){var n=new nr;if(t instanceof nr)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}nr.prototype=ir.prototype={constructor:nr,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var rr=ir;function or(){}var sr=rr.prototype;function ar(t,e){var n=new or;if(t instanceof or)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}or.prototype=ar.prototype={constructor:or,has:sr.has,add:function(t){return this["$"+(t+="")]=t,this},remove:sr.remove,clear:sr.clear,values:sr.keys,size:sr.size,empty:sr.empty,each:sr.each};Array.prototype.slice;var ur={},hr={};function lr(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function cr(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function fr(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function pr(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+fr(-e,6):e>9999?"+"+fr(e,6):fr(e,4))+"-"+fr(t.getUTCMonth()+1,2)+"-"+fr(t.getUTCDate(),2)+(o?"T"+fr(n,2)+":"+fr(i,2)+":"+fr(r,2)+"."+fr(o,3)+"Z":r?"T"+fr(n,2)+":"+fr(i,2)+":"+fr(r,2)+"Z":i||n?"T"+fr(n,2)+":"+fr(i,2)+"Z":"")}var dr=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,s=0,a=0,u=o<=0,h=!1;function l(){if(u)return hr;if(h)return h=!1,ur;var e,i,r=s;if(34===t.charCodeAt(r)){for(;s++<o&&34!==t.charCodeAt(s)||34===t.charCodeAt(++s););return(e=s)>=o?u=!0:10===(i=t.charCodeAt(s++))?h=!0:13===i&&(h=!0,10===t.charCodeAt(s)&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<o;){if(10===(i=t.charCodeAt(e=s++)))h=!0;else if(13===i)h=!0,10===t.charCodeAt(s)&&++s;else if(i!==n)continue;return t.slice(r,e)}return u=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=l())!==hr;){for(var c=[];i!==ur&&i!==hr;)c.push(i),i=l();e&&null==(c=e(c,a++))||r.push(c)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?pr(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=lr(t);return function(i,r){return e(n(i),r,t)}}(t,e):lr(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=cr(e)),[n.map(s).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=cr(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}},gr=dr(","),yr=gr.parse,mr=(gr.parseRows,gr.format,gr.formatBody,gr.formatRows,dr("\t")),_r=mr.parse;mr.parseRows,mr.format,mr.formatBody,mr.formatRows;function vr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var br=function(t,e){return fetch(t,e).then(vr)};function xr(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),br(e,n).then((function(e){return t(e,i)}))}}xr(yr),xr(_r);function wr(t){return function(e,n){return br(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}wr("application/xml"),wr("text/html"),wr("image/svg+xml");function Er(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,u,h,l,c,f,p=t._root,d={data:i},g=t._x0,y=t._y0,m=t._x1,_=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((h=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(s=(y+_)/2))?y=s:_=s,r=p,!(p=p[c=l<<1|h]))return r[c]=d,t;if(a=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===a&&n===u)return d.next=p,r?r[c]=d:t._root=d,t;do{r=r?r[c]=new Array(4):t._root=new Array(4),(h=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(s=(y+_)/2))?y=s:_=s}while((c=l<<1|h)==(f=(u>=s)<<1|a>=o));return r[f]=p,r[c]=d,t}var Cr=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function Sr(t){return t[0]}function Mr(t){return t[1]}function Ir(t,e,n){var i=new Tr(null==e?Sr:e,null==n?Mr:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Tr(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function Or(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Nr=Ir.prototype=Tr.prototype;Nr.copy=function(){var t,e,n=new Tr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=Or(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=Or(e));return n},Nr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Er(this.cover(e,n),e,n,t)},Nr.addAll=function(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),u=1/0,h=1/0,l=-1/0,c=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<u&&(u=i),i>l&&(l=i),r<h&&(h=r),r>c&&(c=r));if(u>l||h>c)return this;for(this.cover(u,h).cover(l,c),n=0;n<o;++n)Er(this,s[n],a[n],t[n]);return this},Nr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var s,a,u=r-n,h=this._root;n>t||t>=r||i>e||e>=o;)switch(a=(e<i)<<1|t<n,(s=new Array(4))[a]=h,h=s,u*=2,a){case 0:r=n+u,o=i+u;break;case 1:n=r-u,o=i+u;break;case 2:r=n+u,i=o-u;break;case 3:n=r-u,i=o-u}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Nr.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Nr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Nr.find=function(t,e,n){var i,r,o,s,a,u,h,l=this._x0,c=this._y0,f=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new Cr(g,l,c,f,p)),null==n?n=1/0:(l=t-n,c=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(g=u.node)||(r=u.x0)>f||(o=u.y0)>p||(s=u.x1)<l||(a=u.y1)<c))if(g.length){var y=(r+s)/2,m=(o+a)/2;d.push(new Cr(g[3],y,m,s,a),new Cr(g[2],r,m,y,a),new Cr(g[1],y,o,s,m),new Cr(g[0],r,o,y,m)),(h=(e>=m)<<1|t>=y)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-h],d[d.length-1-h]=u)}else{var _=t-+this._x.call(null,g.data),v=e-+this._y.call(null,g.data),b=_*_+v*v;if(b<n){var x=Math.sqrt(n=b);l=t-x,c=e-x,f=t+x,p=e+x,i=g.data}}return i},Nr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,u,h,l,c,f,p=this._root,d=this._x0,g=this._y0,y=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((h=o>=(a=(d+y)/2))?d=a:y=a,(l=s>=(u=(g+m)/2))?g=u:m=u,e=p,!(p=p[c=l<<1|h]))return this;if(!p.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,f=c)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[c]=r:delete e[c],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=r,this)},Nr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Nr.root=function(){return this._root},Nr.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Nr.visit=function(t){var e,n,i,r,o,s,a=[],u=this._root;for(u&&a.push(new Cr(u,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&u.length){var h=(i+o)/2,l=(r+s)/2;(n=u[3])&&a.push(new Cr(n,h,l,o,s)),(n=u[2])&&a.push(new Cr(n,i,l,h,s)),(n=u[1])&&a.push(new Cr(n,h,r,o,l)),(n=u[0])&&a.push(new Cr(n,i,r,h,l))}return this},Nr.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new Cr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,u=e.x1,h=e.y1,l=(s+u)/2,c=(a+h)/2;(o=r[0])&&n.push(new Cr(o,s,a,l,c)),(o=r[1])&&n.push(new Cr(o,l,a,u,c)),(o=r[2])&&n.push(new Cr(o,s,c,l,h)),(o=r[3])&&n.push(new Cr(o,l,c,u,h))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Nr.x=function(t){return arguments.length?(this._x=t,this):this._x},Nr.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var Lr=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},Ar=function(t){return(t=Lr(Math.abs(t)))?t[1]:NaN},Rr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kr(t){return new Pr(t)}function Pr(t){if(!(e=Rr.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}kr.prototype=Pr.prototype,Pr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Dr,jr,Fr,zr,Br=function(t,e){var n=Lr(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},qr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Br(100*t,e)},r:Br,s:function(t,e){var n=Lr(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Dr=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Lr(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Gr=function(t){return t},Ur=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];jr=function(t){var e,n,i=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,i){for(var r=t.length,o=[],s=0,a=e[0],u=0;r>0&&a>0&&(u+a+1>i&&(a=Math.max(1,i-u)),o.push(t.substring(r-=a,r+a)),!((u+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}):Gr,r=t.currency,o=t.decimal,s=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(t.numerals):Gr,a=t.percent||"%";function u(t){var e=(t=kr(t)).fill,n=t.align,u=t.sign,h=t.symbol,l=t.zero,c=t.width,f=t.comma,p=t.precision,d=t.trim,g=t.type;"n"===g?(f=!0,g="g"):qr[g]||(null==p&&(p=12),d=!0,g="g"),(l||"0"===e&&"="===n)&&(l=!0,e="0",n="=");var y="$"===h?r[0]:"#"===h&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===h?r[1]:/[%p]/.test(g)?a:"",_=qr[g],v=/[defgprs%]/.test(g);function b(t){var r,a,h,b=y,x=m;if("c"===g)x=_(t)+x,t="";else{var w=(t=+t)<0;if(t=_(Math.abs(t),p),d&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),w&&0==+t&&(w=!1),b=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+b,x=("s"===g?Ur[8+Dr/3]:"")+x+(w&&"("===u?")":""),v)for(r=-1,a=t.length;++r<a;)if(48>(h=t.charCodeAt(r))||h>57){x=(46===h?o+t.slice(r+1):t.slice(r))+x,t=t.slice(0,r);break}}f&&!l&&(t=i(t,1/0));var E=b.length+t.length+x.length,C=E<c?new Array(c-E+1).join(e):"";switch(f&&l&&(t=i(C+t,C.length?c-x.length:1/0),C=""),n){case"<":t=b+t+x+C;break;case"=":t=b+C+t+x;break;case"^":t=C.slice(0,E=C.length>>1)+b+t+x+C.slice(E);break;default:t=C+b+t+x}return s(t)}return p=null==p?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),b.toString=function(){return t+""},b}return{format:u,formatPrefix:function(t,e){var n=u(((t=kr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Ar(e)/3))),r=Math.pow(10,-i),o=Ur[8+i/3];return function(t){return n(r*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Fr=jr.format,zr=jr.formatPrefix;var Hr=function(){return new Yr};function Yr(){this.reset()}Yr.prototype={constructor:Yr,reset:function(){this.s=this.t=0},add:function(t){Xr(Wr,t,this.t),Xr(this,Wr.s,this.s),this.s?this.t+=Wr.t:this.s=Wr.t},valueOf:function(){return this.s}};var Wr=new Yr;function Xr(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var Vr=Math.PI,Kr=Vr/2,$r=Vr/4,Zr=2*Vr,Jr=Vr/180,Qr=Math.abs,to=Math.atan,eo=Math.atan2,no=Math.cos,io=(Math.ceil,Math.exp),ro=(Math.floor,Math.log),oo=(Math.pow,Math.sin),so=(Math.sign,Math.sqrt),ao=Math.tan;function uo(t){return t>1?0:t<-1?Vr:Math.acos(t)}function ho(t){return t>1?Kr:t<-1?-Kr:Math.asin(t)}function lo(){}Hr(),Hr();function co(t){var e=t[0],n=t[1],i=no(n);return[i*no(e),i*oo(e),oo(n)]}function fo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function po(t){var e=so(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Hr();function go(t,e){return[Qr(t)>Vr?t+Math.round(-t/Zr)*Zr:t,e]}go.invert=go;var yo=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:lo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},mo=function(t,e){return Qr(t[0]-e[0])<1e-6&&Qr(t[1]-e[1])<1e-6};function _o(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var vo=function(t,e,n,i,r){var o,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(mo(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else a.push(n=new _o(i,t,null,!0)),u.push(n.o=new _o(i,null,n,!1)),a.push(n=new _o(s,t,null,!1)),u.push(n.o=new _o(s,null,n,!0))}})),a.length){for(u.sort(e),bo(a),bo(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var h,l,c=a[0];;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;h=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=h.length;o<s;++o)r.point((l=h[o])[0],l[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(h=f.p.z,o=h.length-1;o>=0;--o)r.point((l=h[o])[0],l[1]);else i(f.x,f.p.x,-1,r);f=f.p}h=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}};function bo(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var xo=Hr(),wo=function(t,e){var n=e[0],i=e[1],r=oo(i),o=[oo(n),-no(n),0],s=0,a=0;xo.reset(),1===r?i=Kr+1e-6:-1===r&&(i=-Kr-1e-6);for(var u=0,h=t.length;u<h;++u)if(c=(l=t[u]).length)for(var l,c,f=l[c-1],p=f[0],d=f[1]/2+$r,g=oo(d),y=no(d),m=0;m<c;++m,p=v,g=x,y=w,f=_){var _=l[m],v=_[0],b=_[1]/2+$r,x=oo(b),w=no(b),E=v-p,C=E>=0?1:-1,S=C*E,M=S>Vr,I=g*x;if(xo.add(eo(I*C*oo(S),y*w+I*no(S))),s+=M?E+C*Zr:E,M^p>=n^v>=n){var T=fo(co(f),co(_));po(T);var O=fo(o,T);po(O);var N=(M^E>=0?-1:1)*ho(O[2]);(i>N||i===N&&(T[0]||T[1]))&&(a+=M^E>=0?1:-1)}}return(s<-1e-6||s<1e-6&&xo<-1e-6)^1&a},Eo=function(t,e,n,i){return function(r){var o,s,a,u=e(r),h=yo(),l=e(h),c=!1,f={point:p,lineStart:g,lineEnd:m,polygonStart:function(){f.point=_,f.lineStart=v,f.lineEnd=b,s=[],o=[]},polygonEnd:function(){f.point=p,f.lineStart=g,f.lineEnd=m,s=y(s);var t=wo(o,i);s.length?(c||(r.polygonStart(),c=!0),vo(s,So,t,n,r)):t&&(c||(r.polygonStart(),c=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),s=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(e,n){t(e,n)&&r.point(e,n)}function d(t,e){u.point(t,e)}function g(){f.point=d,u.lineStart()}function m(){f.point=p,u.lineEnd()}function _(t,e){a.push([t,e]),l.point(t,e)}function v(){l.lineStart(),a=[]}function b(){_(a[0][0],a[0][1]),l.lineEnd();var t,e,n,i,u=l.clean(),f=h.result(),p=f.length;if(a.pop(),o.push(a),a=null,p)if(1&u){if((e=(n=f[0]).length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else p>1&&2&u&&f.push(f.pop().concat(f.shift())),s.push(f.filter(Co))}return f}};function Co(t){return t.length>1}function So(t,e){return((t=t.x)[0]<0?t[1]-Kr-1e-6:Kr-t[1])-((e=e.x)[0]<0?e[1]-Kr-1e-6:Kr-e[1])}Eo((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Vr:-Vr,u=Qr(o-n);Qr(u-Vr)<1e-6?(t.point(n,i=(i+s)/2>0?Kr:-Kr),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&u>=Vr&&(Qr(n-r)<1e-6&&(n-=1e-6*r),Qr(o-a)<1e-6&&(o-=1e-6*a),i=function(t,e,n,i){var r,o,s=oo(t-n);return Qr(s)>1e-6?to((oo(e)*(o=no(i))*oo(n)-oo(i)*(r=no(e))*oo(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*Kr,i.point(-Vr,r),i.point(0,r),i.point(Vr,r),i.point(Vr,0),i.point(Vr,-r),i.point(0,-r),i.point(-Vr,-r),i.point(-Vr,0),i.point(-Vr,r);else if(Qr(t[0]-e[0])>1e-6){var o=t[0]<e[0]?Vr:-Vr;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-Vr,-Kr]);Hr();Hr(),Hr();function Mo(t){this._context=t}Mo.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Zr)}},result:lo};Hr();function Io(){this._string=[]}function To(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Io.prototype={_radius:4.5,_circle:To(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=To(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function Oo(t){return function(e){var n=new No;for(var i in t)n[i]=t[i];return n.stream=e,n}}function No(){}No.prototype={constructor:No,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};no(30*Jr);Oo({point:function(t,e){this.stream.point(t*Jr,e*Jr)}});function Lo(t){return function(e,n){var i=no(e),r=no(n),o=t(i*r);return[o*r*oo(e),o*oo(n)]}}function Ao(t){return function(e,n){var i=so(e*e+n*n),r=t(i),o=oo(r),s=no(r);return[eo(e*o,i*s),ho(i&&n*o/i)]}}var Ro=Lo((function(t){return so(2/(1+t))}));Ro.invert=Ao((function(t){return 2*ho(t/2)}));var ko=Lo((function(t){return(t=uo(t))&&t/oo(t)}));ko.invert=Ao((function(t){return t}));function Po(t,e){return[t,ro(ao((Kr+e)/2))]}Po.invert=function(t,e){return[t,2*to(io(e))-Kr]};function Do(t,e){return[t,e]}Do.invert=Do;var jo=1.340264,Fo=-.081106,zo=893e-6,Bo=.003796,qo=so(3)/2;function Go(t,e){var n=ho(qo*oo(e)),i=n*n,r=i*i*i;return[t*no(n)/(qo*(jo+3*Fo*i+r*(7*zo+9*Bo*i))),n*(jo+Fo*i+r*(zo+Bo*i))]}Go.invert=function(t,e){for(var n,i=e,r=i*i,o=r*r*r,s=0;s<12&&(o=(r=(i-=n=(i*(jo+Fo*r+o*(zo+Bo*r))-e)/(jo+3*Fo*r+o*(7*zo+9*Bo*r)))*i)*r*r,!(Qr(n)<1e-12));++s);return[qo*t*(jo+3*Fo*r+o*(7*zo+9*Bo*r))/no(i),ho(oo(i)/qo)]};function Uo(t,e){var n=no(e),i=no(t)*n;return[n*oo(t)/i,oo(e)/i]}Uo.invert=Ao(to);function Ho(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}Ho.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Qr(n)>1e-6&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};function Yo(t,e){return[no(e)*oo(t),oo(e)]}Yo.invert=Ao(ho);function Wo(t,e){var n=no(e),i=1+no(t)*n;return[n*oo(t)/i,oo(e)/i]}Wo.invert=Ao((function(t){return 2*to(t)}));function Xo(t,e){return[ro(ao((Kr+e)/2)),-t]}Xo.invert=function(t,e){return[-e,2*to(io(t))-Kr]};function Vo(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function Ko(t,e){var n,i,r,o,s,a=new Qo(t),u=+t.value&&(a.value=t.value),h=[a];for(null==e&&(e=$o);n=h.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;o>=0;--o)h.push(i=n.children[o]=new Qo(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Jo)}function $o(t){return t.children}function Zo(t){t.data=t.data.data}function Jo(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Qo(t){this.data=t,this.depth=this.height=0,this.parent=null}Qo.prototype=Ko.prototype={constructor:Qo,count:function(){return this.eachAfter(Vo)},each:function(t){var e,n,i,r,o=this,s=[o];do{for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i])}while(s.length);return this},eachAfter:function(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();for(;t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Ko(this).eachBefore(Zo)}};Array.prototype.slice;var ts=function(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,h=t.value&&(i-e)/t.value;++a<u;)(o=s[a]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*h};function es(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}es.prototype=Object.create(Qo.prototype);var ns=function(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,h=t.value&&(r-n)/t.value;++a<u;)(o=s[a]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*h},is=(1+Math.sqrt(5))/2;function rs(t,e,n,i,r,o){for(var s,a,u,h,l,c,f,p,d,g,y,m=[],_=e.children,v=0,b=0,x=_.length,w=e.value;v<x;){u=r-n,h=o-i;do{l=_[b++].value}while(!l&&b<x);for(c=f=l,y=l*l*(g=Math.max(h/u,u/h)/(w*t)),d=Math.max(f/y,y/c);b<x;++b){if(l+=a=_[b].value,a<c&&(c=a),a>f&&(f=a),y=l*l*g,(p=Math.max(f/y,y/c))>d){l-=a;break}d=p}m.push(s={value:l,dice:u<h,children:_.slice(v,b)}),s.dice?ts(s,n,i,r,w?i+=h*l/w:o):ns(s,n,i,w?n+=u*l/w:r,o),w-=l,v=b}return m}(function t(e){function n(t,n,i,r,o){rs(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n})(is),function t(e){function n(t,n,i,r,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,u,h,l,c=-1,f=s.length,p=t.value;++c<f;){for(u=(a=s[c]).children,h=a.value=0,l=u.length;h<l;++h)a.value+=u[h].value;a.dice?ts(a,n,i,r,i+=(o-i)*a.value/p):ns(a,n,i,n+=(r-n)*a.value/p,o),p-=a.value}else t._squarify=s=rs(e,t,n,i,r,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(is);var os=function(){return Math.random()},ss=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(os),function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(os)),as=(function t(e){function n(){var t=ss.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(os),function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(os));(function t(e){function n(t){var n=as.source(e)(t);return function(){return n()/t}}return n.source=t,n})(os),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(os);function us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var hs=Array.prototype,ls=hs.map,cs=hs.slice;var fs=function(t){return+t},ps=[0,1];function ds(t){return t}function gs(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ys(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function ms(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1];return r<i?(i=gs(r,i),o=n(s,o)):(i=gs(i,r),o=n(o,s)),function(t){return o(i(t))}}function _s(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=gs(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=a(t,e,1,i)-1;return o[n](r[n](e))}}function vs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bs(){var t,e,n,i,r,o,s=ps,a=ps,u=dn,h=ds;function l(){return i=Math.min(s.length,a.length)>2?_s:ms,r=o=null,c}function c(e){return isNaN(e=+e)?n:(r||(r=i(s.map(t),a,u)))(t(h(e)))}return c.invert=function(n){return h(e((o||(o=i(a,s.map(t),on)))(n)))},c.domain=function(t){return arguments.length?(s=ls.call(t,fs),h===ds||(h=ys(s)),l()):s.slice()},c.range=function(t){return arguments.length?(a=cs.call(t),l()):a.slice()},c.rangeRound=function(t){return a=cs.call(t),u=gn,l()},c.clamp=function(t){return arguments.length?(h=t?ys(s):ds,c):h!==ds},c.interpolate=function(t){return arguments.length?(u=t,l()):u},c.unknown=function(t){return arguments.length?(n=t,c):n},function(n,i){return t=n,e=i,l()}}function xs(t,e){return bs()(t,e)}var ws=function(t,e,n,i){var r,o=d(t,e,n);switch((i=kr(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ar(e)/3)))-Ar(Math.abs(t)))}(o,s))||(i.precision=r),zr(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ar(e)-Ar(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Ar(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Fr(i)};function Es(t){var e=t.domain;return t.ticks=function(t){var n=e();return f(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return ws(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,s=r.length-1,a=r[o],u=r[s];return u<a&&(i=a,a=u,u=i,i=o,o=s,s=i),(i=p(a,u,n))>0?i=p(a=Math.floor(a/i)*i,u=Math.ceil(u/i)*i,n):i<0&&(i=p(a=Math.ceil(a*i)/i,u=Math.floor(u*i)/i,n)),i>0?(r[o]=Math.floor(a/i)*i,r[s]=Math.ceil(u/i)*i,e(r)):i<0&&(r[o]=Math.ceil(a*i)/i,r[s]=Math.floor(u*i)/i,e(r)),t},t}function Cs(){var t=xs(ds,ds);return t.copy=function(){return vs(t,Cs())},us.apply(t,arguments),Es(t)}function Ss(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ms(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Is(t){return t<0?-t*t:t*t}function Ts(t){var e=t(ds,ds),n=1;function i(){return 1===n?t(ds,ds):.5===n?t(Ms,Is):t(Ss(n),Ss(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},Es(e)}function Os(){var t=Ts(bs());return t.copy=function(){return vs(t,Os()).exponent(t.exponent())},us.apply(t,arguments),t}function Ns(){return Os.apply(null,arguments).exponent(.5)}var Ls=new Date,As=new Date;function Rs(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return Rs((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return Ls.setTime(+e),As.setTime(+i),t(Ls),t(As),Math.floor(n(Ls,As))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var ks=Rs((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ks.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Rs((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ks:null};ks.range;var Ps=Rs((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Ds=(Ps.range,Rs((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),js=(Ds.range,Rs((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),Fs=(js.range,Rs((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),zs=Fs;Fs.range;function Bs(t){return Rs((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var qs=Bs(0),Gs=Bs(1),Us=Bs(2),Hs=Bs(3),Ys=Bs(4),Ws=Bs(5),Xs=Bs(6),Vs=(qs.range,Gs.range,Us.range,Hs.range,Ys.range,Ws.range,Xs.range,Rs((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Ks=(Vs.range,Rs((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Ks.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Rs((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var $s=Ks,Zs=(Ks.range,Rs((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}))),Js=(Zs.range,Rs((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),Qs=(Js.range,Rs((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),ta=Qs;Qs.range;function ea(t){return Rs((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var na=ea(0),ia=ea(1),ra=ea(2),oa=ea(3),sa=ea(4),aa=ea(5),ua=ea(6),ha=(na.range,ia.range,ra.range,oa.range,sa.range,aa.range,ua.range,Rs((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),la=(ha.range,Rs((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));la.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Rs((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var ca=la;la.range;function fa(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pa(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function da(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var ga,ya,ma,_a={"-":"",_:" ",0:"0"},va=/^\s*\d+/,ba=/^%/,xa=/[\\^$*+?|[\]().{}]/g;function wa(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Ea(t){return t.replace(xa,"\\$&")}function Ca(t){return new RegExp("^(?:"+t.map(Ea).join("|")+")","i")}function Sa(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Ma(t,e,n){var i=va.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ia(t,e,n){var i=va.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Ta(t,e,n){var i=va.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Oa(t,e,n){var i=va.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Na(t,e,n){var i=va.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function La(t,e,n){var i=va.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Aa(t,e,n){var i=va.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Ra(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function ka(t,e,n){var i=va.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Pa(t,e,n){var i=va.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Da(t,e,n){var i=va.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function ja(t,e,n){var i=va.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Fa(t,e,n){var i=va.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function za(t,e,n){var i=va.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Ba(t,e,n){var i=va.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function qa(t,e,n){var i=va.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Ga(t,e,n){var i=ba.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Ua(t,e,n){var i=va.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function Ha(t,e,n){var i=va.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function Ya(t,e){return wa(t.getDate(),e,2)}function Wa(t,e){return wa(t.getHours(),e,2)}function Xa(t,e){return wa(t.getHours()%12||12,e,2)}function Va(t,e){return wa(1+zs.count($s(t),t),e,3)}function Ka(t,e){return wa(t.getMilliseconds(),e,3)}function $a(t,e){return Ka(t,e)+"000"}function Za(t,e){return wa(t.getMonth()+1,e,2)}function Ja(t,e){return wa(t.getMinutes(),e,2)}function Qa(t,e){return wa(t.getSeconds(),e,2)}function tu(t){var e=t.getDay();return 0===e?7:e}function eu(t,e){return wa(qs.count($s(t),t),e,2)}function nu(t,e){var n=t.getDay();return t=n>=4||0===n?Ys(t):Ys.ceil(t),wa(Ys.count($s(t),t)+(4===$s(t).getDay()),e,2)}function iu(t){return t.getDay()}function ru(t,e){return wa(Gs.count($s(t),t),e,2)}function ou(t,e){return wa(t.getFullYear()%100,e,2)}function su(t,e){return wa(t.getFullYear()%1e4,e,4)}function au(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wa(e/60|0,"0",2)+wa(e%60,"0",2)}function uu(t,e){return wa(t.getUTCDate(),e,2)}function hu(t,e){return wa(t.getUTCHours(),e,2)}function lu(t,e){return wa(t.getUTCHours()%12||12,e,2)}function cu(t,e){return wa(1+ta.count(ca(t),t),e,3)}function fu(t,e){return wa(t.getUTCMilliseconds(),e,3)}function pu(t,e){return fu(t,e)+"000"}function du(t,e){return wa(t.getUTCMonth()+1,e,2)}function gu(t,e){return wa(t.getUTCMinutes(),e,2)}function yu(t,e){return wa(t.getUTCSeconds(),e,2)}function mu(t){var e=t.getUTCDay();return 0===e?7:e}function _u(t,e){return wa(na.count(ca(t),t),e,2)}function vu(t,e){var n=t.getUTCDay();return t=n>=4||0===n?sa(t):sa.ceil(t),wa(sa.count(ca(t),t)+(4===ca(t).getUTCDay()),e,2)}function bu(t){return t.getUTCDay()}function xu(t,e){return wa(ia.count(ca(t),t),e,2)}function wu(t,e){return wa(t.getUTCFullYear()%100,e,2)}function Eu(t,e){return wa(t.getUTCFullYear()%1e4,e,4)}function Cu(){return"+0000"}function Su(){return"%"}function Mu(t){return+t}function Iu(t){return Math.floor(+t/1e3)}!function(t){ga=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,s=t.shortDays,a=t.months,u=t.shortMonths,h=Ca(r),l=Sa(r),c=Ca(o),f=Sa(o),p=Ca(s),d=Sa(s),g=Ca(a),y=Sa(a),m=Ca(u),_=Sa(u),v={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Ya,e:Ya,f:$a,H:Wa,I:Xa,j:Va,L:Ka,m:Za,M:Ja,p:function(t){return r[+(t.getHours()>=12)]},Q:Mu,s:Iu,S:Qa,u:tu,U:eu,V:nu,w:iu,W:ru,x:null,X:null,y:ou,Y:su,Z:au,"%":Su},b={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:uu,e:uu,f:pu,H:hu,I:lu,j:cu,L:fu,m:du,M:gu,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:Mu,s:Iu,S:yu,u:mu,U:_u,V:vu,w:bu,W:xu,x:null,X:null,y:wu,Y:Eu,Z:Cu,"%":Su},x={a:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=_[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return C(t,e,n,i)},d:Pa,e:Pa,f:qa,H:ja,I:ja,j:Da,L:Ba,m:ka,M:Fa,p:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.p=l[i[0].toLowerCase()],n+i[0].length):-1},Q:Ua,s:Ha,S:za,u:Ia,U:Ta,V:Oa,w:Ma,W:Na,x:function(t,e,i){return C(t,n,e,i)},X:function(t,e,n){return C(t,i,e,n)},y:Aa,Y:La,Z:Ra,"%":Ga};function w(t,e){return function(n){var i,r,o,s=[],a=-1,u=0,h=t.length;for(n instanceof Date||(n=new Date(+n));++a<h;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(r=_a[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),u=a+1);return s.push(t.slice(u,a)),s.join("")}}function E(t,e){return function(n){var i,r,o=da(1900);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=pa(da(o.y))).getUTCDay(),i=r>4||0===r?ia.ceil(i):ia(i),i=ta.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=e(da(o.y))).getDay(),i=r>4||0===r?Gs.ceil(i):Gs(i),i=zs.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?pa(da(o.y)).getUTCDay():e(da(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,pa(o)):e(o)}}function C(t,e,n,i){for(var r,o,s=0,a=e.length,u=n.length;s<a;){if(i>=u)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=x[r in _a?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return v.x=w(n,v),v.X=w(i,v),v.c=w(e,v),b.x=w(n,b),b.X=w(i,b),b.c=w(e,b),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",fa);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t,pa);return e.toString=function(){return t},e}}}(t),ga.format,ga.parse,ya=ga.utcFormat,ma=ga.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||ya("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||ma("%Y-%m-%dT%H:%M:%S.%LZ");var Tu=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n},Ou=(Tu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Tu("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Tu("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Tu("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Tu("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Tu("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Tu("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Tu("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Tu("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),function(t){return en(t[t.length-1])});Ou(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Tu)),Ou(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Tu)),Ou(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Tu)),Ou(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Tu)),Ou(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Tu)),Ou(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Tu)),Ou(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Tu)),Ou(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Tu)),Ou(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Tu)),Ou(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Tu)),Ou(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Tu)),Ou(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Tu)),Ou(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Tu)),Ou(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Tu)),Ou(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Tu)),Ou(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Tu)),Ou(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Tu)),Ou(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Tu)),Ou(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Tu)),Ou(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Tu)),Ou(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Tu)),Ou(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Tu)),Ou(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Tu)),Ou(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Tu)),Ou(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Tu)),Ou(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Tu)),Ou(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Tu)),Sn(Ye(300,.5,0),Ye(-240,.5,1)),Sn(Ye(-100,.75,.35),Ye(80,1.5,.8)),Sn(Ye(260,.75,.35),Ye(80,1.5,.8)),Ye(),be(),Math.PI,Math.PI;function Nu(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}Nu(Tu("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Nu(Tu("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Nu(Tu("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Nu(Tu("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var Lu=Math.PI,Au=2*Lu;function Ru(t){this._context=t}Ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var ku=function(t){return new Ru(t)};Du(ku);function Pu(t){this._curve=t}function Du(t){function e(e){return new Pu(t(e))}return e._curve=t,e}Pu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var ju=Math.sin(Lu/10)/Math.sin(7*Lu/10),Fu=(Math.sin(Au/10),Math.cos(Au/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function zu(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Bu(t){this._context=t}Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qu(t){this._context=t}qu.prototype={areaStart:Fu,areaEnd:Fu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gu(t){this._context=t}Gu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:zu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uu(t,e){this._basis=new Bu(t),this._beta=e}Uu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*s),this._beta*e[u]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(t){return 1===e?new Bu(t):new Uu(t,e)}return n.beta=function(e){return t(+e)},n})(.85);function Hu(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Yu(t,e){this._context=t,this._k=(1-e)/6}Yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Hu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Hu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Yu(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Wu(t,e){this._context=t,this._k=(1-e)/6}Wu.prototype={areaStart:Fu,areaEnd:Fu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Hu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Wu(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Xu(t,e){this._context=t,this._k=(1-e)/6}Xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Hu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Xu(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Vu(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>1e-12){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*h+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*h+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function Ku(t,e){this._context=t,this._alpha=e}Ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Vu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Ku(t,e):new Yu(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function $u(t,e){this._context=t,this._alpha=e}$u.prototype={areaStart:Fu,areaEnd:Fu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Vu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new $u(t,e):new Wu(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Zu(t,e){this._context=t,this._alpha=e}Zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Zu(t,e):new Xu(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Ju(t){this._context=t}Ju.prototype={areaStart:Fu,areaEnd:Fu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Qu(t){return t<0?-1:1}function th(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(Qu(o)+Qu(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function eh(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function nh(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function ih(t){this._context=t}function rh(t){this._context=new oh(t)}function oh(t){this._context=t}function sh(t){this._context=t}function ah(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nh(this,this._t0,eh(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,nh(this,eh(this,n=th(this,t,e)),n);break;default:nh(this,this._t0,n=th(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(rh.prototype=Object.create(ih.prototype)).point=function(t,e){ih.prototype.point.call(this,e,t)},oh.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=ah(t),r=ah(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uh(t,e){this._context=t,this._t=e}uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};function hh(){this._=null}function lh(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ch(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function fh(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ph(t){for(;t.L;)t=t.L;return t}hh.prototype={constructor:hh,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ph(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ch(this,n),n=(t=n).U),n.C=!1,i.C=!0,fh(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(fh(this,n),n=(t=n).U),n.C=!1,i.C=!0,ch(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?ph(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ch(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,fh(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ch(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,fh(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ch(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,fh(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var dh=hh;function gh(t,e,n,i){var r=[null,null],o=zh.push(r)-1;return r.left=t,r.right=e,n&&mh(r,t,e,n),i&&mh(r,e,t,i),jh[t.index].halfedges.push(o),jh[e.index].halfedges.push(o),r}function yh(t,e,n){var i=[e,n];return i.left=t,i}function mh(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function _h(t,e,n,i,r){var o,s=t[0],a=t[1],u=s[0],h=s[1],l=0,c=1,f=a[0]-u,p=a[1]-h;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}if(o=n-h,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<c&&(c=o)}else if(p>0){if(o>c)return;o>l&&(l=o)}if(o=r-h,p||!(o<0)){if(o/=p,p<0){if(o>c)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<c&&(c=o)}return!(l>0||c<1)||(l>0&&(t[0]=[u+l*f,h+l*p]),c<1&&(t[1]=[u+c*f,h+c*p]),!0)}}}}}function vh(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,u=t[0],h=t.left,l=t.right,c=h[0],f=h[1],p=l[0],d=l[1],g=(c+p)/2,y=(f+d)/2;if(d===f){if(g<e||g>=i)return;if(c>p){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(a=y-(s=(c-p)/(d-f))*g,s<-1||s>1)if(c>p){if(u){if(u[1]>=r)return}else u=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(u){if(u[1]<n)return}else u=[(r-a)/s,r];o=[(n-a)/s,n]}else if(f<d){if(u){if(u[0]>=i)return}else u=[e,s*e+a];o=[i,s*i+a]}else{if(u){if(u[0]<e)return}else u=[i,s*i+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function bh(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function xh(t,e){return e[+(e.left!==t.site)]}function wh(t,e){return e[+(e.left===t.site)]}var Eh,Ch=[];function Sh(){lh(this),this.x=this.y=this.arc=this.site=this.cy=null}function Mh(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],u=i[0]-s,h=i[1]-a,l=o[0]-s,c=o[1]-a,f=2*(u*c-h*l);if(!(f>=-qh)){var p=u*u+h*h,d=l*l+c*c,g=(c*p-h*d)/f,y=(u*d-l*p)/f,m=Ch.pop()||new Sh;m.arc=t,m.site=r,m.x=g+s,m.y=(m.cy=y+a)+Math.sqrt(g*g+y*y),t.circle=m;for(var _=null,v=Fh._;v;)if(m.y<v.y||m.y===v.y&&m.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}Fh.insert(_,m),_||(Eh=m)}}}}function Ih(t){var e=t.circle;e&&(e.P||(Eh=e.N),Fh.remove(e),Ch.push(e),lh(e),t.circle=null)}var Th=[];function Oh(){lh(this),this.edge=this.site=this.circle=null}function Nh(t){var e=Th.pop()||new Oh;return e.site=t,e}function Lh(t){Ih(t),Dh.remove(t),Th.push(t),lh(t)}function Ah(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];Lh(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Bh&&Math.abs(i-u.circle.cy)<Bh;)o=u.P,a.unshift(u),Lh(u),u=o;a.unshift(u),Ih(u);for(var h=s;h.circle&&Math.abs(n-h.circle.x)<Bh&&Math.abs(i-h.circle.cy)<Bh;)s=h.N,a.push(h),Lh(h),h=s;a.push(h),Ih(h);var l,c=a.length;for(l=1;l<c;++l)h=a[l],u=a[l-1],mh(h.edge,u.site,h.site,r);u=a[0],(h=a[c-1]).edge=gh(u.site,h.site,null,r),Mh(u),Mh(h)}function Rh(t){for(var e,n,i,r,o=t[0],s=t[1],a=Dh._;a;)if((i=kh(a,s)-o)>Bh)a=a.L;else{if(!((r=o-Ph(a,s))>Bh)){i>-Bh?(e=a.P,n=a):r>-Bh?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){jh[t.index]={site:t,halfedges:[]}}(t);var u=Nh(t);if(Dh.insert(e,u),e||n){if(e===n)return Ih(e),n=Nh(e.site),Dh.insert(u,n),u.edge=n.edge=gh(e.site,u.site),Mh(e),void Mh(n);if(n){Ih(e),Ih(n);var h=e.site,l=h[0],c=h[1],f=t[0]-l,p=t[1]-c,d=n.site,g=d[0]-l,y=d[1]-c,m=2*(f*y-p*g),_=f*f+p*p,v=g*g+y*y,b=[(y*_-p*v)/m+l,(f*v-g*_)/m+c];mh(n.edge,h,d,b),u.edge=gh(h,t,null,b),n.edge=gh(t,d,null,b),Mh(e),Mh(n)}else u.edge=gh(e.site,u.site)}}function kh(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],h=u-e;if(!h)return a;var l=a-i,c=1/o-1/h,f=l/h;return c?(-f+Math.sqrt(f*f-2*c*(l*l/(-2*h)-u+h/2+r-o/2)))/c+i:(i+a)/2}function Ph(t,e){var n=t.N;if(n)return kh(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var Dh,jh,Fh,zh,Bh=1e-6,qh=1e-12;function Gh(t,e){return e[1]-t[1]||e[0]-t[0]}function Uh(t,e){var n,i,r,o=t.sort(Gh).pop();for(zh=[],jh=new Array(t.length),Dh=new dh,Fh=new dh;;)if(r=Eh,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Rh(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Ah(r.arc)}if(function(){for(var t,e,n,i,r=0,o=jh.length;r<o;++r)if((t=jh[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=bh(t,zh[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],h=+e[1][1];!function(t,e,n,i){for(var r,o=zh.length;o--;)vh(r=zh[o],t,e,n,i)&&_h(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Bh||Math.abs(r[0][1]-r[1][1])>Bh)||delete zh[o]}(s,a,u,h),function(t,e,n,i){var r,o,s,a,u,h,l,c,f,p,d,g,y=jh.length,m=!0;for(r=0;r<y;++r)if(o=jh[r]){for(s=o.site,a=(u=o.halfedges).length;a--;)zh[u[a]]||u.splice(a,1);for(a=0,h=u.length;a<h;)d=(p=wh(o,zh[u[a]]))[0],g=p[1],c=(l=xh(o,zh[u[++a%h]]))[0],f=l[1],(Math.abs(d-c)>Bh||Math.abs(g-f)>Bh)&&(u.splice(a,0,zh.push(yh(s,p,Math.abs(d-t)<Bh&&i-g>Bh?[t,Math.abs(c-t)<Bh?f:i]:Math.abs(g-i)<Bh&&n-d>Bh?[Math.abs(f-i)<Bh?c:n,i]:Math.abs(d-n)<Bh&&g-e>Bh?[n,Math.abs(c-n)<Bh?f:e]:Math.abs(g-e)<Bh&&d-t>Bh?[Math.abs(f-e)<Bh?c:t,e]:null))-1),++h);h&&(m=!1)}if(m){var _,v,b,x=1/0;for(r=0,m=null;r<y;++r)(o=jh[r])&&(b=(_=(s=o.site)[0]-t)*_+(v=s[1]-e)*v)<x&&(x=b,m=o);if(m){var w=[t,e],E=[t,i],C=[n,i],S=[n,e];m.halfedges.push(zh.push(yh(s=m.site,w,E))-1,zh.push(yh(s,E,C))-1,zh.push(yh(s,C,S))-1,zh.push(yh(s,S,w))-1)}}for(r=0;r<y;++r)(o=jh[r])&&(o.halfedges.length||delete jh[r])}(s,a,u,h)}this.edges=zh,this.cells=jh,Dh=Fh=zh=jh=null}Uh.prototype={constructor:Uh,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return xh(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a,u,h,l=n.site,c=-1,f=e[r[o-1]],p=f.left===l?f.right:f.left;++c<o;)s=p,p=(f=e[r[c]]).left===l?f.right:f.left,s&&p&&i<s.index&&i<p.index&&(u=s,h=p,((a=l)[0]-h[0])*(u[1]-a[1])-(a[0]-u[0])*(h[1]-a[1])<0)&&t.push([l.data,s.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var u=t-r.site[0],h=e-r.site[1],l=u*u+h*h;do{r=o.cells[i=s],s=null,r.halfedges.forEach((function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var u=t-a[0],h=e-a[1],c=u*u+h*h;c<l&&(l=c,s=a.index)}}))}while(null!==s);return o._found=i,null==n||l<=n*n?r.site:null}};function Hh(t,e,n){this.k=t,this.x=e,this.y=n}Hh.prototype={constructor:Hh,scale:function(t){return 1===t?this:new Hh(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Hh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Hh(1,0,0);Hh.prototype},function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var i=function(t){this.propagationStopped,this.type=t,this.target=null};function r(t){t.stopPropagation()}i.prototype.preventDefault=function(){this.propagationStopped=!0},i.prototype.stopPropagation=function(){this.propagationStopped=!0},e.a=i},function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s}))},function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937,e.b=i},function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";var i=n(78),r=n(27),o=n(16),s=n(23),a="length",u=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),h=function(t){function e(e,n){t.call(this);var i=n||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(r.a.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(r.a.REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(r.a.REMOVE,i)),this.dispatchEvent(new u(r.a.ADD,e))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new i.a(58)},e}(o.a);e.a=h},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var s=o||[],a=0,u=e;u<n;u+=i){var h=t[u],l=t[u+1];s[a++]=r[0]*h+r[2]*l+r[4],s[a++]=r[1]*h+r[3]*l+r[5]}return o&&s.length!=a&&(s.length=a),s}function r(t,e,n,i,r,o,s){for(var a=s||[],u=Math.cos(r),h=Math.sin(r),l=o[0],c=o[1],f=0,p=e;p<n;p+=i){var d=t[p]-l,g=t[p+1]-c;a[f++]=l+d*u-g*h,a[f++]=c+d*h+g*u;for(var y=p+2;y<p+i;++y)a[f++]=t[y]}return s&&a.length!=f&&(a.length=f),a}function o(t,e,n,i,r,o,s,a){for(var u=a||[],h=s[0],l=s[1],c=0,f=e;f<n;f+=i){var p=t[f]-h,d=t[f+1]-l;u[c++]=h+r*p,u[c++]=l+o*d;for(var g=f+2;g<f+i;++g)u[c++]=t[g]}return a&&u.length!=c&&(u.length=c),u}function s(t,e,n,i,r,o,s){for(var a=s||[],u=0,h=e;h<n;h+=i){a[u++]=t[h]+r,a[u++]=t[h+1]+o;for(var l=h+2;l<h+i;++l)a[u++]=t[l]}return s&&a.length!=u&&(a.length=u),a}n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return s}))},function(t,e,n){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,n){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(40);function r(t){return Array.isArray(t)?Object(i.b)(t):t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var i=.5,r=!0},function(t,e,n){"use strict";function i(t){return t[0]>0&&t[1]>0}function r(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}))},function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=i},function(t,e,n){"use strict";var i=n(62),r=n(1),o=n(14),s=n(23),a=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s.a(t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var a=0,u=r.length;a<u;++a)if(!1===r[a].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var h=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];h--;)this.removeEventListener(n,o.c);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){Object(r.d)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=o.c,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(i.a);e.a=a},function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var i=n(10),r=n(6),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$/i;function a(t){return"string"==typeof t?t:c(t)}var u,h;u={},h=0;function l(t){return t[0]=Object(r.a)(t[0]+.5|0,0,255),t[1]=Object(r.a)(t[1]+.5|0,0,255),t[2]=Object(r.a)(t[2]+.5|0,0,255),t[3]=Object(r.a)(t[3],0,1),t}function c(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s}));n(6);function i(t,e){return t[0]+=e[0],t[1]+=e[1],t}function r(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function o(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function s(t,e){return t[0]*=e,t[1]*=e,t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return p}));var i=n(1),r=n(4),o=n(2),s=n(16),a=n(80),u=n(20),h=n(9),l=n(33),c=n(39),f=function(t){function e(e){var n=Object(h.a)({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(i.a)(this,Object(s.b)(u.a.SOURCE),this.handleSourcePropertyChange_,this);var r=e.source?e.source:null;this.setSource(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(u.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():c.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(i.a)(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(i.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(i.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(i.a)(t,l.a.PRECOMPOSE,(function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[Object(o.c)(this)]=n}),this),this.mapRenderKey_=Object(i.a)(this,r.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(u.a.SOURCE,t)},e}(a.a);function p(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e.a=f},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s}));n(9);var i={};function r(){i={}}function o(t,e,n){var r=t.getCode(),o=e.getCode();r in i||(i[r]={}),i[r][o]=n}function s(t,e){var n;return t in i&&e in i[t]&&(n=i[t][e]),n}},function(t,e,n){"use strict";n.d(e,"b",(function(){return y}));var i=n(2),r=n(0),o=n(16),s=n(31),a=n(11),u=n(26),h=n(8),l=Object(h.c)(),c=function(t){function e(){t.call(this),this.extent_=Object(r.j)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return Object(i.b)()},e.prototype.closestPointXY=function(t,e,n,r){return Object(i.b)()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(i.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(r.I)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(i.b)()},e.prototype.scale=function(t,e,n){Object(i.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(i.b)()},e.prototype.getType=function(){return Object(i.b)()},e.prototype.applyTransform=function(t){Object(i.b)()},e.prototype.intersectsExtent=function(t){return Object(i.b)()},e.prototype.translate=function(t,e){Object(i.b)()},e.prototype.transform=function(t,e){var n=Object(a.g)(t),i=n.getUnits()==u.b.TILE_PIXELS?function(t,i,o){var u=n.getExtent(),c=n.getWorldExtent(),f=Object(r.A)(c)/Object(r.A)(u);return Object(h.b)(l,c[0],c[3],f,-f,0,0,0),Object(s.c)(t,0,t.length,o,l,i),Object(a.i)(n,e)(t,i,o)}:Object(a.i)(n,e);return this.applyTransform(i),this},e}(o.a),f=n(28),p=n(9),d=function(t){function e(){t.call(this),this.layout=f.a.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Object(r.o)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(i.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(p.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=g(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(i.b)()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=g(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=f.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=f.a.XY:3==t?e=f.a.XYZ:4==t&&(e=f.a.XYZM);return e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(s.a)(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=Object(r.x)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var u=this.getStride();Object(s.b)(a,0,a.length,u,t,i,o,a),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(s.d)(n,0,n.length,i,t,e,n),this.changed()}},e}(c);function g(t){var e;return t==f.a.XY?e=2:t==f.a.XYZ||t==f.a.XYM?e=3:t==f.a.XYZM&&(e=4),e}function y(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return Object(s.c)(i,0,i.length,r,e,n)}return null}e.a=d},function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var i=n(6);function r(t,e){return void 0!==t?0:void 0}function o(t,e){return void 0!==t?t+e:void 0}function s(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}}function a(t){var e=t||Object(i.i)(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}},function(t,e,n){"use strict";e.__esModule=!0,e.extend=a,e.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!o.test(t))return t;return t.replace(r,s)},e.isEmpty=function(t){return!t&&0!==t||!(!l(t)||0!==t.length)},e.createFrame=function(t){var e=a({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function s(t){return i[t]}function a(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var u=Object.prototype.toString;e.toString=u;var h=function(t){return"function"==typeof t};h(/x/)&&(e.isFunction=h=function(t){return"function"==typeof t&&"[object Function]"===u.call(t)}),e.isFunction=h;var l=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===u.call(t)};e.isArray=l},function(t,e,n){"use strict";var i=n(14),r=n(65),o=n(16),s=n(13),a=n(1),u=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:i.c,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(s.c)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(s.c)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Object(a.e)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==i.c&&this.listenerKeys.push(Object(a.a)(t,r.a.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(o.a);e.a=u},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),e.blob=0===r.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!n(102).Readable}catch(t){e.nodestream=!1}}).call(this,n(68).Buffer)},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,s;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(s=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,r),r+=o.length;return s}},s={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(i)},function(t,e,n){"use strict";var i=n(26),r=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.a[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e.a=r},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var s=n[r],a=0;a<i;++a)t[e++]=s[a];return e}function o(t,e,n,i,o){for(var s=o||[],a=0,u=0,h=n.length;u<h;++u){var l=r(t,e,n[u],i);s[a++]=l,e=l}return s.length=a,s}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}))},function(t,e,n){"use strict";function i(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=e;a<n;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function r(t,e,n,r,o){for(var s=void 0!==o?o:[],a=0,u=0,h=n.length;u<h;++u){var l=n[u];s[a++]=i(t,e,l,r,s[a]),e=l}return s.length=a,s}function o(t,e,n,i,o){for(var s=void 0!==o?o:[],a=0,u=0,h=n.length;u<h;++u){var l=n[u];s[a++]=r(t,e,l,i,s[a]),e=l[l.length-1]}return s.length=a,s}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}))},function(t,e,n){"use strict";var i=n(74),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=c;var o=n(69);o.inherits=n(61);var s=n(103),a=n(92);o.inherits(c,s);for(var u=r(a.prototype),h=0;h<u.length;h++){var l=u[h];c.prototype[l]||(c.prototype[l]=a.prototype[l])}function c(t){if(!(this instanceof c))return new c(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e,n){"use strict";e.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(t,e){var n=e&&e.loc,o=void 0,s=void 0,a=void 0,u=void 0;n&&(o=n.start.line,s=n.end.line,a=n.start.column,u=n.end.column,t+=" - "+o+":"+a);for(var h=Error.prototype.constructor.call(this,t),l=0;l<i.length;l++)this[i[l]]=h[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{n&&(this.lineNumber=o,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=a,this.endColumn=u))}catch(t){}}r.prototype=new Error,e.default=r,t.exports=e.default},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=42,r=256},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};function r(t,e,n,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=r,o):new i(t,e,n,r)}i.prototype.contains=function(t){return this.containsXY(t[1],t[2])},i.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},i.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},i.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},i.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},i.prototype.getHeight=function(){return this.maxY-this.minY+1},i.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},i.prototype.getWidth=function(){return this.maxX-this.minX+1},i.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=i},function(t,e,n){"use strict";n.d(e,"b",(function(){return A}));var i=n(15),r=n(0),o=n(28),s=n(5),a=n(44);function u(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],u=t[e+1];r+=s*a-o*u,o=a,s=u}return r/2}function h(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=u(t,e,a,i),e=a}return r}var l=n(6);function c(t,e,n,i,r,o,s){var a,u=t[e],h=t[e+1],c=t[n]-u,f=t[n+1]-h;if(0===c&&0===f)a=e;else{var p=((r-u)*c+(o-h)*f)/(c*c+f*f);if(p>1)a=n;else{if(p>0){for(var d=0;d<i;++d)s[d]=Object(l.c)(t[e+d],t[n+d],p);return void(s.length=i)}a=e}}for(var g=0;g<i;++g)s[g]=t[a+g];s.length=i}function f(t,e,n,i,r){var o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],u=t[e+1],h=Object(l.f)(o,s,a,u);h>r&&(r=h),o=a,s=u}return r}function p(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=f(t,e,a,i,r),e=a}return r}function d(t,e,n,i,r,o,s,a,u,h,f){if(e==n)return h;var p,d;if(0===r){if((d=Object(l.f)(s,a,t[e],t[e+1]))<h){for(p=0;p<i;++p)u[p]=t[e+p];return u.length=i,d}return h}for(var g=f||[NaN,NaN],y=e+i;y<n;)if(c(t,y-i,y,i,s,a,g),(d=Object(l.f)(s,a,g[0],g[1]))<h){for(h=d,p=0;p<i;++p)u[p]=g[p];u.length=i,y+=i}else y+=i*Math.max((Math.sqrt(d)-Math.sqrt(h))/r|0,1);if(o&&(c(t,n-i,e,i,s,a,g),(d=Object(l.f)(s,a,g[0],g[1]))<h)){for(h=d,p=0;p<i;++p)u[p]=g[p];u.length=i}return h}function g(t,e,n,i,r,o,s,a,u,h,l){for(var c=l||[NaN,NaN],f=0,p=n.length;f<p;++f){var g=n[f];h=d(t,e,g,i,r,o,s,a,u,h,c),e=g}return h}var y=n(52),m=n(53),_=n(63),v=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(f(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return u(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.a.XY)},e.prototype.getType=function(){return s.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(y.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a),b=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=Object(l.f)(t,e,r[0],r[1]);if(o<i){for(var s=this.stride,a=0;a<s;++a)n[a]=r[a];return n.length=s,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(r.m)(this.flatCoordinates,t)},e.prototype.getType=function(){return s.a.POINT},e.prototype.intersectsExtent=function(t){return Object(r.h)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(y.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);n(71);function x(t,e,n,i,o){return!Object(r.t)(o,(function(r){return!w(t,e,n,i,r[0],r[1])}))}function w(t,e,n,i,r,o){for(var s=0,a=t[n-i],u=t[n-i+1];e<n;e+=i){var h=t[e],l=t[e+1];u<=o?l>o&&(h-a)*(o-u)-(r-a)*(l-u)>0&&s++:l<=o&&(h-a)*(o-u)-(r-a)*(l-u)<0&&s--,a=h,u=l}return 0!==s}function E(t,e,n,i,r,o){if(0===n.length)return!1;if(!w(t,e,n[0],i,r,o))return!1;for(var s=1,a=n.length;s<a;++s)if(w(t,n[s-1],n[s],i,r,o))return!1;return!0}function C(t,e,n,r,o,s,a){for(var u,h,l,c,f,p,d,g=o[s+1],y=[],m=0,_=n.length;m<_;++m){var v=n[m];for(c=t[v-r],p=t[v-r+1],u=e;u<v;u+=r)f=t[u],d=t[u+1],(g<=p&&d<=g||p<=g&&g<=d)&&(l=(g-p)/(d-p)*(f-c)+c,y.push(l)),c=f,p=d}var b=NaN,x=-1/0;for(y.sort(i.f),c=y[0],u=1,h=y.length;u<h;++u){f=y[u];var w=Math.abs(f-c);w>x&&E(t,e,n,r,l=(c+f)/2,g)&&(b=l,x=w),c=f}return isNaN(b)&&(b=o[s]),a?(a.push(b,g,x),a):[b,g,x]}function S(t,e,n,i,o){var s=Object(r.s)(Object(r.j)(),t,e,n,i);return!!Object(r.F)(o,s)&&(!!Object(r.g)(o,s)||(s[0]>=o[0]&&s[2]<=o[2]||(s[1]>=o[1]&&s[3]<=o[3]||function(t,e,n,i,r,o){for(var s,a=[t[e],t[e+1]],u=[];e+i<n;e+=i){if(u[0]=t[e+i],u[1]=t[e+i+1],s=r.call(o,a,u))return s;a[0]=u[0],a[1]=u[1]}return!1}(t,e,n,i,(function(t,e){return Object(r.G)(o,t,e)})))))}function M(t,e,n,i,r){if(!function(t,e,n,i,r){return!!S(t,e,n,i,r)||(!!w(t,e,n,i,r[0],r[1])||(!!w(t,e,n,i,r[0],r[3])||(!!w(t,e,n,i,r[2],r[1])||!!w(t,e,n,i,r[2],r[3]))))}(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(var o=1,s=n.length;o<s;++o)if(x(t,n[o-1],n[o],i,r)&&!S(t,n[o-1],n[o],i,r))return!1;return!0}function I(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function T(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],u=t[e+1];r+=(a-o)*(u+s),o=a,s=u}return r>0}function O(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var u=n[s],h=T(t,e,u,i);if(0===s){if(o&&h||!o&&!h)return!1}else if(o&&!h||!o&&h)return!1;e=u}return!0}function N(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var u=n[s],h=T(t,e,u,i);(0===s?o&&h||!o&&!h:o&&!h||!o&&h)&&I(t,e,u,i),e=u}return e}var L=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(i.b)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(p(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),g(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return E(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return h(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?N(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Object(m.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(r.x)(this.getExtent());this.flatInteriorPoint_=C(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new b(this.getFlatInteriorPoint(),o.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new v(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o],u=new v(e.slice(r,a),t);i.push(u),r=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;O(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=N(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(_.b)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,o.a.XY,i)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return M(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(y.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(a.a);e.a=L;function A(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new L(s,o.a.XY,[s.length])}},function(t,e,n){"use strict";for(var i=n(18),r=n(49),o=n(76),s=n(37),a=new Array(256),u=0;u<256;u++)a[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;a[254]=a[254]=1;function h(){s.call(this,"utf-8 decode"),this.leftOver=null}function l(){s.call(this,"utf-8 encode")}e.utf8encode=function(t){return r.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,n,i,o,s,a=t.length,u=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=r.uint8array?new Uint8Array(u):new Array(u),s=0,o=0;s<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e}(t)},e.utf8decode=function(t){return r.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,r,o,s=t.length,u=new Array(2*s);for(n=0,e=0;e<s;)if((r=t[e++])<128)u[n++]=r;else if((o=a[r])>4)u[n++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&e<s;)r=r<<6|63&t[e++],o--;o>1?u[n++]=65533:r<65536?u[n++]=r:(r-=65536,u[n++]=55296|r>>10&1023,u[n++]=56320|1023&r)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),i.applyFromCharCode(u)}(t=i.transformTo(r.uint8array?"uint8array":"array",t))},i.inherits(h,s),h.prototype.processChunk=function(t){var n=i.transformTo(r.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=n;(n=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),n.set(o,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var s=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}(n),u=n;s!==n.length&&(r.uint8array?(u=n.subarray(0,s),this.leftOver=n.subarray(s,n.length)):(u=n.slice(0,s),this.leftOver=n.slice(s,n.length))),this.push({data:e.utf8decode(u),meta:t.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=h,i.inherits(l,s),l.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=l},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var i=function(){this.disposed_=!1};i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){},e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a}));var i=n(6);function r(t,e,n,r,o,s,a){var u=(n-e)/r;if(u<3){for(;e<n;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}var h=new Array(u);h[0]=1,h[u-1]=1;for(var l=[e,n-r],c=0;l.length>0;){for(var f=l.pop(),p=l.pop(),d=0,g=t[p],y=t[p+1],m=t[f],_=t[f+1],v=p+r;v<f;v+=r){var b=t[v],x=t[v+1],w=Object(i.g)(b,x,g,y,m,_);w>d&&(c=v,d=w)}d>o&&(h[(c-e)/r]=1,p+r<c&&l.push(p,c),c+r<f&&l.push(c,f))}for(var E=0;E<u;++E)h[E]&&(s[a++]=t[e+E*r],s[a++]=t[e+E*r+1]);return a}function o(t,e){return e*Math.round(t/e)}function s(t,e,n,i,r,s,a){if(e==n)return a;var u,h,l=o(t[e],r),c=o(t[e+1],r);e+=i,s[a++]=l,s[a++]=c;do{if(u=o(t[e],r),h=o(t[e+1],r),(e+=i)==n)return s[a++]=u,s[a++]=h,a}while(u==l&&h==c);for(;e<n;){var f=o(t[e],r),p=o(t[e+1],r);if(e+=i,f!=u||p!=h){var d=u-l,g=h-c,y=f-l,m=p-c;d*m==g*y&&(d<0&&y<d||d==y||d>0&&y>d)&&(g<0&&m<g||g==m||g>0&&m>g)?(u=f,h=p):(s[a++]=u,s[a++]=h,l=u,c=h,u=f,h=p)}}return s[a++]=u,s[a++]=h,a}function a(t,e,n,i,r,o,a,u){for(var h=0,l=n.length;h<l;++h){var c=n[h];a=s(t,e,c,i,r,o,a),u.push(a),e=c}return a}},function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n(193);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],u(r,t.leaf?i(o):o);return r}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,e,n,r,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((n-e)/r/2)*r,i(t,s,e,n,o),a.push(e,s,s,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!d(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],d(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],d(t,s=e.leaf?n(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,s,a=this.data,u=this.toBBox(t),h=[],l=[];a||h.length;){if(a||(a=h.pop(),i=h[h.length-1],n=l.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),h.push(a),this._condense(h),this;s||a.leaf||!p(a,u)?i?(n++,a=i.children[n],s=!1):a=null:(h.push(a),l.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:h,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=g(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=g([])).leaf=!1,r.height=i;var u,h,l,c,f=Math.ceil(o/a),p=f*Math.ceil(Math.sqrt(a));for(y(t,e,n,p,this.compareMinX),u=e;u<=n;u+=p)for(y(t,u,l=Math.min(u+p-1,n),f,this.compareMinY),h=u;h<=l;h+=f)c=Math.min(h+f-1,l),r.children.push(this._build(t,h,c,i-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,h,l,f,p,d;i.push(e),!e.leaf&&i.length-1!==n;){for(l=f=1/0,r=0,o=e.children.length;r<o;r++)u=c(s=e.children[r]),p=t,d=s,(h=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u)<f?(f=h,l=u<l?u:l,a=s):h===f&&u<l&&(l=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),u(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,u,h,l,f,p,d,g,y,m,_;for(h=l=1/0,i=e;i<=n-e;i++)r=a(t,0,i,this.toBBox),o=a(t,i,n,this.toBBox),p=r,d=o,g=void 0,y=void 0,m=void 0,_=void 0,g=Math.max(p.minX,d.minX),y=Math.max(p.minY,d.minY),m=Math.min(p.maxX,d.maxX),_=Math.min(p.maxY,d.maxY),s=Math.max(0,m-g)*Math.max(0,_-y),u=c(r)+c(o),s<h?(h=s,f=i,l=u<l?u:l):s===h&&u<l&&(l=u,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:h,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,h=a(t,0,e,s),l=a(t,n-e,n,s),c=f(h)+f(l);for(r=e;r<n-e;r++)o=t.children[r],u(h,t.leaf?s(o):o),c+=f(h);for(r=n-e-1;r>=e;r--)o=t.children[r],u(l,t.leaf?s(o):o),c+=f(l);return c},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)u(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";var i=n(2),r=n(40),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Object(r.a)(t):this.checksum_=Object(i.c)(this.color_):this.checksum_="f-"}return this.checksum_},e.a=o},function(t,e,n){"use strict";var i=n(2),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},r.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},r.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},r.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},r.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(i.c)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.a=r},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(156),r=n(157),o=n(101);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return h(this,t,e,n)}function h(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(l(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return B(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return M(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function y(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:_(t,e,n,i,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,i,r){var o,s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var l=-1;for(o=n;o<a;o++)if(h(t,o)===h(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var c=!0,f=0;f<u;f++)if(h(t,o+f)!==h(e,f)){c=!1;break}if(c)return o}return-1}function v(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,i){return G(B(e,t.length-n),t,n,i)}function x(t,e,n,i){return G(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return x(t,e,n,i)}function E(t,e,n,i){return G(q(e),t,n,i)}function C(t,e,n,i){return G(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function M(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,u,h=t[r],l=null,c=h>239?4:h>223?3:h>191?2:1;if(r+c<=n)switch(c){case 1:h<128&&(l=h);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&h)<<6|63&o)>127&&(l=u);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(u=(15&h)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,c=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return h(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,i){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return c(null,t)},u.allocUnsafeSlow=function(t){return c(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?M(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),h=this.slice(i,r),l=t.slice(e,n),c=0;c<a;++c)if(h[c]!==l[c]){o=h[c],s=l[c];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function T(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function O(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=z(t[o]);return r}function N(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,n,i,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function R(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function k(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function P(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,i,o){return o||P(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function j(t,e,n,i,o){return o||P(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},u.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):k(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);A(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);A(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):k(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:B(new u(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(30))},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(68).Buffer)},function(t,e,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(170),t.exports={Promise:i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=n(6);n(5);function r(t,e,n){var r=n||6371008.8,o=Object(i.i)(t[1]),s=Object(i.i)(e[1]),a=(s-o)/2,u=Object(i.i)(e[0]-t[0])/2,h=Math.sin(a)*Math.sin(a)+Math.sin(u)*Math.sin(u)*Math.cos(o)*Math.cos(s);return 2*r*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function o(t,e,n,r){var o=r||6371008.8,s=Object(i.i)(t[1]),a=Object(i.i)(t[0]),u=e/o,h=Math.asin(Math.sin(s)*Math.cos(u)+Math.cos(s)*Math.sin(u)*Math.cos(n)),l=a+Math.atan2(Math.sin(n)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(h));return[Object(i.h)(l),Object(i.h)(h)]}},function(t,e,n){"use strict";n.d(e,"c",(function(){return y})),n.d(e,"a",(function(){return _}));var i=n(10),r=(n(5),n(40)),o=n(34),s=n(13),a=n(17),u=n(21),h=n(3),l=n(2),c=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};c.prototype.clone=function(){return new c({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},c.prototype.getOpacity=function(){return this.opacity_},c.prototype.getRotateWithView=function(){return this.rotateWithView_},c.prototype.getRotation=function(){return this.rotation_},c.prototype.getScale=function(){return this.scale_},c.prototype.getSnapToPixel=function(){return!1},c.prototype.getAnchor=function(){return Object(l.b)()},c.prototype.getImage=function(t){return Object(l.b)()},c.prototype.getHitDetectionImage=function(t){return Object(l.b)()},c.prototype.getImageState=function(){return Object(l.b)()},c.prototype.getImageSize=function(){return Object(l.b)()},c.prototype.getHitDetectionImageSize=function(){return Object(l.b)()},c.prototype.getOrigin=function(){return Object(l.b)()},c.prototype.getSize=function(){return Object(l.b)()},c.prototype.setOpacity=function(t){this.opacity_=t},c.prototype.setRotateWithView=function(t){this.rotateWithView_=t},c.prototype.setRotation=function(t){this.rotation_=t},c.prototype.setScale=function(t){this.scale_=t},c.prototype.setSnapToPixel=function(t){},c.prototype.listenImageChange=function(t,e){return Object(l.b)()},c.prototype.load=function(){Object(l.b)()},c.prototype.unlistenImageChange=function(t,e){Object(l.b)()};var f=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(function(t){function e(e){var n=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return u.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",r="",u=0,l=null,c=0,f=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=h.k),n=Object(o.a)(n),void 0===(f=this.stroke_.getWidth())&&(f=h.h),l=this.stroke_.getLineDash(),c=this.stroke_.getLineDashOffset(),a.a||(l=null,c=0),void 0===(r=this.stroke_.getLineJoin())&&(r=h.g),void 0===(i=this.stroke_.getLineCap())&&(i=h.d),void 0===(u=this.stroke_.getMiterLimit())&&(u=h.i));var p=2*(this.radius_+f)+1,d={strokeStyle:n,strokeWidth:f,size:p,lineCap:i,lineDash:l,lineDashOffset:c,lineJoin:r,miterLimit:u};if(void 0===t){var g=Object(s.a)(p,p);this.canvas_=g.canvas,e=p=this.canvas_.width,this.draw_(d,g,0,0),this.createHitDetectionCanvas_(d)}else{p=Math.round(p);var y,m=!this.fill_;m&&(y=this.drawHitDetectionCanvas_.bind(this,d));var _=this.getChecksum(),v=t.add(_,p,p,this.draw_.bind(this,d),y);this.canvas_=v.image,this.origin_=[v.offsetX,v.offsetY],e=v.image.width,m?(this.hitDetectionCanvas_=v.hitImage,this.hitDetectionImageSize_=[v.hitImage.width,v.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var r,s,a;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var u=this.points_;if(u===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(u*=2),r=0;r<=u;r++)s=2*r*Math.PI/u-Math.PI/2+this.angle_,a=r%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c=h.b),e.fillStyle=Object(o.a)(c),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(s.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s,a,u,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(o*=2),s=0;s<=o;s++)u=2*s*Math.PI/o-Math.PI/2+this.angle_,a=s%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(u),t.size/2+a*Math.sin(u))}e.fillStyle=Object(r.a)(h.b),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(c)),p=n(66),d=n(67),g=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=v,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};function y(t){var e;if("function"==typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else Object(i.a)("function"==typeof t.getZIndex,41),n=[t];e=function(){return n}}return e}g.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new g({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},g.prototype.getRenderer=function(){return this.renderer_},g.prototype.setRenderer=function(t){this.renderer_=t},g.prototype.getGeometry=function(){return this.geometry_},g.prototype.getGeometryFunction=function(){return this.geometryFunction_},g.prototype.getFill=function(){return this.fill_},g.prototype.setFill=function(t){this.fill_=t},g.prototype.getImage=function(){return this.image_},g.prototype.setImage=function(t){this.image_=t},g.prototype.getStroke=function(){return this.stroke_},g.prototype.setStroke=function(t){this.stroke_=t},g.prototype.getText=function(){return this.text_},g.prototype.setText=function(t){this.text_=t},g.prototype.getZIndex=function(){return this.zIndex_},g.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=v,this.geometry_=t},g.prototype.setZIndex=function(t){this.zIndex_=t};var m=null;function _(t,e){if(!m){var n=new p.a({color:"rgba(255,255,255,0.4)"}),i=new d.a({color:"#3399CC",width:1.25});m=[new g({image:new f({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return m}function v(t){return t.getGeometry()}e.b=g},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,h=[],l=!1,c=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):c=-1,h.length&&p())}function p(){if(!l){var t=a(f);l=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new d(t,e)),1!==h.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,i)}));case 4:return e.nextTick((function(){t.call(null,n,i,r)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(73))},function(t,e,n){var i=n(68),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),o(r,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,n){if(e.from&&e.from!==Uint8Array.from)return e.from(t,n);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,n)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var n=new e(t);return n.fill(0),n},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(this,n(68).Buffer)},function(t,e,n){t.exports=n(195).default},function(t,e,n){"use strict";var i=n(2),r=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.a=r},function(t,e,n){"use strict";var i=n(1),r=n(38),o=n(4),s=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.a)(this,t[o],e);return r}return Object(i.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.b)(this,t[o],e);return r}return Object(i.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)Object(i.c)(this,t[n],e);else Object(i.c)(this,t,e)},e}(r.a);e.a=s},function(t,e,n){"use strict";var i=n(2),r=n(16),o=n(20),s=n(6),a=n(9),u=function(t){function e(e){t.call(this);var n=Object(a.a)({},e);n[o.a.OPACITY]=void 0!==e.opacity?e.opacity:1,n[o.a.VISIBLE]=void 0===e.visible||e.visible,n[o.a.Z_INDEX]=e.zIndex,n[o.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[o.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(s.a)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(i.b)()},e.prototype.getLayerStatesArray=function(t){return Object(i.b)()},e.prototype.getExtent=function(){return this.get(o.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},e.prototype.getSourceState=function(){return Object(i.b)()},e.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e}(r.a);e.a=u},function(t,e,n){"use strict";var i=n(10),r=n(38),o=n(4),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},e.prototype.remove=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(i.a)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(r.a);e.a=s},function(t,e,n){"use strict";e.a={IMAGE:"image",VECTOR:"vector"}},function(t,e,n){"use strict";var i=n(2),r=n(16),o=n(11),s=n(39),a=function(t){function e(e){t.call(this),this.projection_=Object(o.g)(e.projection),this.attributions_=u(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(i.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=u(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(r.a);function u(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=a},function(t,e,n){!function(t){"use strict";function e(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.bbox,r=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");i&&S(i),r&&M(r);var o={type:"Feature"};return r&&(o.id=r),i&&(o.bbox=i),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,s=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(s&&S(s),t){case"Point":r=i(e).geometry;break;case"LineString":r=a(e).geometry;break;case"Polygon":r=o(e).geometry;break;case"MultiPoint":r=c(e).geometry;break;case"MultiLineString":r=l(e).geometry;break;case"MultiPolygon":r=f(e).geometry;break;default:throw new Error(t+" is invalid")}return s&&(r.bbox=s),r}function i(t,n,i){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!E(t[0])||!E(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,i)}function r(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return h(t.map((function(t){return i(t,e)})),n)}function o(t,n,i){if(!t)throw new Error("coordinates is required");for(var r=0;r<t.length;r++){var o=t[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++){if(0===r&&0===s&&!E(o[0][0])||!E(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,i)}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return h(t.map((function(t){return o(t,e)})),n)}function a(t,n,i){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!E(t[0][1])||!E(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,i)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return h(t.map((function(t){return a(t,e)})),n)}function h(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&S(n),i&&M(i);var r={type:"FeatureCollection"};return i&&(r.id=i),n&&(r.bbox=n),r.features=t,r}function l(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,i)}function c(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,i)}function f(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,i)}function p(t,n,i){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,i)}function d(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function g(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Eo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function y(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Eo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function m(t,e){return v(y(t,e))}function _(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function v(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function b(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function x(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return g(y(t,e),n||"kilometers")}function w(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=So[e||"meters"];if(!i)throw new Error("invalid original units");var r=So[n||"kilometers"];if(!r)throw new Error("invalid final units");return t/i*r}function E(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function S(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!E(t))throw new Error("bbox must only contain numbers")}))}function M(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function I(t,e,n){if(null!==t)for(var i,r,o,s,a,u,h,l,c=0,f=0,p=t.type,d="FeatureCollection"===p,g="Feature"===p,y=d?t.features.length:1,m=0;m<y;m++){a=(l=!!(h=d?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var _=0;_<a;_++){var v=0,b=0;if(null!==(s=l?h.geometries[_]:h)){u=s.coordinates;var x=s.type;switch(c=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":e(u,f,m,v,b),f++,v++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++)e(u[i],f,m,v,b),f++,"MultiPoint"===x&&v++;"LineString"===x&&v++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(r=0;r<u[i].length-c;r++)e(u[i][r],f,m,v,b),f++;"MultiLineString"===x&&v++,"Polygon"===x&&b++}"Polygon"===x&&v++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for("MultiPolygon"===x&&(b=0),r=0;r<u[i].length;r++){for(o=0;o<u[i][r].length-c;o++)e(u[i][r][o],f,m,v,b),f++;b++}v++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)I(s.geometries[i],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function T(t,e,n,i){var r=n;return I(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)}),i),r}function O(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function N(t,e,n){var i=n;return O(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i}function L(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function A(t,e,n){var i=n;return L(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i}function R(t){var e=[];return I(t,(function(t){e.push(t)})),e}function k(t,e){var n,i,r,o,s,a,u,h,l,c,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(a=p?t.features[n].geometry:d?t.geometry:t,h=p?t.features[n].properties:d?t.properties:{},l=p?t.features[n].bbox:d?t.bbox:void 0,c=p?t.features[n].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=u?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,f,h,l,c);break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)e(o.geometries[i],f,h,l,c);break;default:throw new Error("Unknown Geometry Type")}else e(null,f,h,l,c);f++}}function P(t,e,n){var i=n;return k(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)})),i}function D(t,n){k(t,(function(t,i,r,o,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,r,{bbox:o,id:s}),i,0)}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}t.coordinates.forEach((function(t,o){n(e({type:a,coordinates:t},r),i,o)}))}))}function j(t,e,n){var i=n;return D(t,(function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)})),i}function F(t,e){D(t,(function(t,n,i){var r=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&T(t,(function(o,s,u,h,l,c){var f=a([o,s],t.properties);return e(f,n,i,c,r),r++,s}))}}))}function z(t,e,n){var i=n,r=!1;return F(t,(function(t,o,s,a,u){i=!1===r&&void 0===n?t:e(i,t,o,s,a,u),r=!0})),i}function B(t,e){if(!t)throw new Error("geojson is required");D(t,(function(t,n,i){if(null!==t.geometry){var r=t.geometry.type,o=t.geometry.coordinates;switch(r){case"LineString":e(t,n,i,0,0);break;case"Polygon":for(var s=0;s<o.length;s++)e(a(o[s],t.properties),n,i,s)}}}))}function q(t,e,n){var i=n;return B(t,(function(t,r,o,s){i=0===r&&void 0===n?t:e(i,t,r,o,s)})),i}function G(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function U(t){if(!t)throw new Error("obj is required");var e=H(t);if(e.length>1&&E(e[0])&&E(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function H(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return Y(e),e;throw new Error("No valid coordinates")}function Y(t){if(t.length>1&&E(t[0])&&E(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Y(t[0]);throw new Error("coordinates must only contain numbers")}function W(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function X(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function V(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}function K(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function $(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function Z(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function J(t,e,n){n=n||{};for(var i=Object.keys(Oo),r=0;r<i.length;r++){var o=i[r],s=n[o];s=null!=s?s:Oo[o],No[o]=s}No.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a=function(t){var e=[],n=0;return t.rows,t.cols,t.cells.forEach((function(i,r){i.forEach((function(i,o){if(void 0!==i&&!function(t){return 5===t.cval||10===t.cval}(i)&&!tt(i)){var s=function(t,e,n){var i,r,o,s=t.length,a=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],h=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],l=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],c=(t[e][n],t[e][n]),f=c.cval,p=nt(c,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][f]);a.push([n+p[0],e+p[1]]),p=nt(c,o=l[f]),a.push([n+p[0],e+p[1]]),et(c);for(var d=n+u[f],g=e+h[f],y=f;d>=0&&g>=0&&g<s&&(d!=n||g!=e)&&void 0!==(c=t[g][d]);){if(0===(f=c.cval)||15===f)return{path:a,info:"mergeable"};o=l[f],i=u[f],r=h[f],5!==f&&10!==f||(5===f?c.flipped?-1===h[y]?(o="left",i=-1,r=0):(o="right",i=1,r=0):-1===u[y]&&(o="bottom",i=0,r=-1):10===f&&(c.flipped?-1===u[y]?(o="top",i=0,r=1):(o="bottom",i=0,r=-1):1===h[y]&&(o="left",i=-1,r=0))),p=nt(c,o),a.push([d+p[0],g+p[1]]),et(c),d+=i,g+=r,y=f}return{path:a,info:"closed"}}(t.cells,r,o),a=!1;if("mergeable"===s.info)for(var u=s.path[s.path.length-1][0],h=s.path[s.path.length-1][1],l=n-1;l>=0;l--)if(Math.abs(e[l][0][0]-u)<=1e-7&&Math.abs(e[l][0][1]-h)<=1e-7){for(var c=s.path.length-2;c>=0;--c)e[l].unshift(s.path[c]);a=!0;break}a||(e[n++]=s.path)}}))})),e}(function(t,e){for(var n=t.length-1,i=t[0].length-1,r={rows:n,cols:i,cells:[]},o=0;o<n;++o){r.cells[o]=[];for(var s=0;s<i;++s){var a=0,u=t[o+1][s],h=t[o+1][s+1],l=t[o][s+1],c=t[o][s];if(!(isNaN(u)||isNaN(h)||isNaN(l)||isNaN(c))){a|=u>=e?8:0,a|=h>=e?4:0,a|=l>=e?2:0;var f,p,d,g,y=!1;if(5==(a|=c>=e?1:0)||10===a){var m=(u+h+l+c)/4;5===a&&m<e?(a=10,y=!0):10===a&&m<e&&(a=5,y=!0)}0!==a&&15!==a&&(f=p=d=g=.5,1===a?(d=1-Q(e,u,c),p=1-Q(e,l,c)):2===a?(p=Q(e,c,l),g=1-Q(e,h,l)):3===a?(d=1-Q(e,u,c),g=1-Q(e,h,l)):4===a?(f=Q(e,u,h),g=Q(e,l,h)):5===a?(f=Q(e,u,h),g=Q(e,l,h),p=1-Q(e,l,c),d=1-Q(e,u,c)):6===a?(p=Q(e,c,l),f=Q(e,u,h)):7===a?(d=1-Q(e,u,c),f=Q(e,u,h)):8===a?(d=Q(e,c,u),f=1-Q(e,h,u)):9===a?(p=1-Q(e,l,c),f=1-Q(e,h,u)):10===a?(f=1-Q(e,h,u),g=1-Q(e,h,l),p=Q(e,c,l),d=Q(e,c,u)):11===a?(f=1-Q(e,h,u),g=1-Q(e,h,l)):12===a?(d=Q(e,c,u),g=Q(e,l,h)):13===a?(p=1-Q(e,l,c),g=Q(e,l,h)):14===a?(d=Q(e,c,u),p=Q(e,c,l)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),r.cells[o][s]={cval:a,flipped:y,top:f,right:g,bottom:p,left:d})}}}return r}(t,e));return"function"==typeof No.successCallback&&No.successCallback(a),a}function Q(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function it(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function rt(t,e){if(!(this instanceof rt))return new rt(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ot(t,e){st(t,0,t.children.length,e,t)}function st(t,e,n,i,r){r||(r=dt(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],at(r,t.leaf?i(o):o);return r}function at(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ut(t,e){return t.minX-e.minX}function ht(t,e){return t.minY-e.minY}function lt(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ct(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ft(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function pt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function dt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gt(t,e,n,i,r){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(o=e+Math.ceil((n-e)/i/2)*i,Lo(t,o,e,n,r),s.push(e,o,o,n))}function yt(t,e){return t(e={exports:{}},e.exports),e.exports}function mt(t,e){if(!(this instanceof mt))return new mt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function _t(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var i,r=function(t){for(var e=t[0],n=t[0],i=t[0],r=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>i[0]&&(i=s),s[1]<n[1]&&(n=s),s[1]>r[1]&&(r=s)}var a=[e,n,i,r],u=a.slice();for(o=0;o<t.length;o++)Ho(t[o],a)||u.push(t[o]);var h=Bo(u),l=[];for(o=0;o<h.length;o++)l.push(u[h[o]]);return l}(t),o=Ao(16,["[0]","[1]","[0]","[1]"]).load(t),s=[],a=0;a<r.length;a++){var u=r[a];o.remove(u),i=Et(u,i),s.push(i)}var h=Ao(16);for(a=0;a<s.length;a++)h.insert(wt(s[a]));for(var l=e*e,c=n*n;s.length;){var f=s.shift(),p=f.p,d=f.next.p,g=Ct(p,d);if(!(g<c)){var y=g/l;(u=function(t,e,n,i,r,o,s){for(var a=new Go(null,vt),u=t.data;u;){for(var h=0;h<u.children.length;h++){var l=u.children[h],c=u.leaf?St(l,n,i):function(t,e,n){if(bt(t,n)||bt(e,n))return 0;var i=Mt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===i)return 0;var r=Mt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===r)return 0;var o=Mt(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=Mt(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(i,r,o,s)}(n,i,l);c>o||a.push({node:l,dist:c})}for(;a.length&&!a.peek().node.children;){var f=a.pop(),p=f.node,d=St(p,e,n),g=St(p,i,r);if(f.dist<d&&f.dist<g&&xt(n,p,s)&&xt(i,p,s))return p}(u=a.pop())&&(u=u.node)}return null}(o,f.prev.p,p,d,f.next.next.p,y,h))&&Math.min(Ct(u,p),Ct(u,d))<=y&&(s.push(f),s.push(Et(u,f)),o.remove(u),h.remove(f),h.insert(wt(f)),h.insert(wt(f.next)))}}f=i;var m=[];do{m.push(f.p),f=f.next}while(f!==i);return m.push(f.p),m}function vt(t,e){return t.dist-e.dist}function bt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function xt(t,e,n){for(var i=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),s=Math.max(t[1],e[1]),a=n.search({minX:i,minY:r,maxX:o,maxY:s}),u=0;u<a.length;u++)if(function(t,e,n,i){return t!==i&&e!==n&&Yo(t,e,n)>0!=Yo(t,e,i)>0&&Yo(n,i,t)>0!=Yo(n,i,e)>0}(a[u].p,a[u].next.p,t,e))return!1;return!0}function wt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Et(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Ct(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function St(t,e,n){var i=e[0],r=e[1],o=n[0]-i,s=n[1]-r;if(0!==o||0!==s){var a=((t[0]-i)*o+(t[1]-r)*s)/(o*o+s*s);a>1?(i=n[0],r=n[1]):a>0&&(i+=o*a,r+=s*a)}return(o=t[0]-i)*o+(s=t[1]-r)*s}function Mt(t,e,n,i,r,o,s,a){var u,h,l,c,f=n-t,p=i-e,d=s-r,g=a-o,y=t-r,m=e-o,_=f*f+p*p,v=f*d+p*g,b=d*d+g*g,x=f*y+p*m,w=d*y+g*m,E=_*b-v*v,C=E,S=E;0===E?(h=0,C=1,c=w,S=b):(c=_*w-v*x,(h=v*w-b*x)<0?(h=0,c=w,S=b):h>C&&(h=C,c=w+v,S=b)),c<0?(c=0,-x<0?h=0:-x>_?h=C:(h=-x,C=_)):c>S&&(c=S,-x+v<0?h=0:-x+v>_?h=C:(h=-x+v,C=_));var M=(1-(l=0===c?0:c/S))*r+l*s-((1-(u=0===h?0:h/C))*t+u*n),I=(1-l)*o+l*a-((1-u)*e+u*i);return M*M+I*I}function It(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,i=[];if(I(t,(function(t){i.push([t[0],t[1]])})),!i.length)return null;var r=Wo(i,n);return r.length>3?o([r]):null}function Tt(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=U(t),o=H(e),s=e.geometry?e.geometry.type:e.type,a=e.bbox;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,a))return!1;"Polygon"===s&&(o=[o]);for(var u=0,h=!1;u<o.length&&!h;u++)if(Ot(r,o[u][0],i)){for(var l=!1,c=1;c<o[u].length&&!l;)Ot(r,o[u][c],!i)&&(l=!0),c++;l||(h=!0)}return h}function Ot(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],u=e[o][0],h=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+h*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(h-t[1])<=0)return!n;a>t[1]!=h>t[1]&&t[0]<(u-s)*(t[1]-a)/(h-a)+s&&(i=!i)}return i}function Nt(t,e){var n=[];return k(e,(function(e){L(t,(function(t){Tt(t,e)&&n.push(t)}))})),h(n)}function Lt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return h(function(t){if(t.length<3)return[];t.sort(Rt);for(var e,n,i,r,o,s,a=t.length-1,u=t[a].x,h=t[0].x,l=t[a].y,c=l;a--;)t[a].y<l&&(l=t[a].y),t[a].y>c&&(c=t[a].y);var f,p=h-u,d=c-l,g=p>d?p:d,y=.5*(h+u),m=.5*(c+l),_=[new At({x:y-20*g,y:m-g,__sentinel:!0},{x:y,y:m+20*g,__sentinel:!0},{x:y+20*g,y:m-g,__sentinel:!0})],v=[],b=[];for(a=t.length;a--;){for(b.length=0,f=_.length;f--;)(p=t[a].x-_[f].x)>0&&p*p>_[f].r?(v.push(_[f]),_.splice(f,1)):p*p+(d=t[a].y-_[f].y)*d>_[f].r||(b.push(_[f].a,_[f].b,_[f].b,_[f].c,_[f].c,_[f].a),_.splice(f,1));for(kt(b),f=b.length;f;)n=b[--f],e=b[--f],i=t[a],r=n.x-e.x,o=n.y-e.y,s=2*(r*(i.y-n.y)-o*(i.x-n.x)),Math.abs(s)>1e-12&&_.push(new At(e,n,i))}for(Array.prototype.push.apply(v,_),a=v.length;a--;)(v[a].a.__sentinel||v[a].b.__sentinel||v[a].c.__sentinel)&&v.splice(a,1);return v}(t.features.map((function(t){var i={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?i.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,i.z=t.geometry.coordinates[2]),i}))).map((function(t){var e=[t.a.x,t.a.y],i=[t.b.x,t.b.y],r=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),i.push(t.b.z),r.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,i,r,e]],s)})))}function At(t,e,n){this.a=t,this.b=e,this.c=n;var i,r,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,h=o*(t.x+e.x)+s*(t.y+e.y),l=a*(t.x+n.x)+u*(t.y+n.y),c=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*h-s*l)/c,this.y=(o*l-a*h)/c,i=this.x-t.x,r=this.y-t.y,this.r=i*i+r*r}function Rt(t,e){return e.x-t.x}function kt(t){var e,n,i,r,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],i=s;i;)if(o=t[--i],r=t[--i],e===r&&n===o||e===o&&n===r){t.splice(s,2),t.splice(i,2),s-=2;continue t}}function Pt(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units,r=U(t),o=U(e),s=b(o[1]-r[1]),a=b(o[0]-r[0]),u=b(r[1]),h=b(o[1]),l=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(u)*Math.cos(h);return g(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),i)}function Dt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return jt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return jt(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ft(t);default:throw new Error("unknown GeoJSON type")}}function jt(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach((function(i){var r=e[i];"object"==typeof r?null===r?n[i]=null:r.length?n[i]=r.map((function(t){return t})):n[i]=t(r):n[i]=r})),n):n}(t.properties),e.geometry=Ft(t.geometry),e}function Ft(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Ft(t)})),e):(e.coordinates=function t(e){return"object"!=typeof e[0]?e.slice():e.map((function(e){return t(e)}))}(t.coordinates),e)}function zt(t,e){function n(t,e){e.length&&e.pop();for(var n=u[t<0?~t:t],i=0,r=n.length;i<r;++i)e.push(a(n[i],i));t<0&&$o(e,r)}function i(t){return a(t)}function r(t){for(var e=[],i=0,r=t.length;i<r;++i)n(t[i],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=r(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(o)}var a=Ko(t.transform),u=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=i(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(i);break;case"LineString":n=r(e.arcs);break;case"MultiLineString":n=e.arcs.map(r);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:o,coordinates:n}}(e)}function Bt(t,e){function n(t){t.forEach((function(e){e.forEach((function(e){(r[e=e<0?~e:e]||(r[e]=[])).push(t)}))})),o.push(t)}function i(e){return function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return Math.abs(o)}(zt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var r={},o=[],s=[];return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}})),o.forEach((function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){r[t<0?~t:t].forEach((function(t){t._||(t._=1,n.push(t))}))}))}))}})),o.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:s.map((function(e){var n,o=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){r[t<0?~t:t].length<2&&o.push(t)}))}))})),(n=(o=Zo(t,o)).length)>1)for(var s,a,u=1,h=i(o[0]);u<n;++u)(s=i(o[u]))>h&&(a=o[0],o[0]=o[u],o[u]=a,h=s);return o}))}}function qt(t,e,n){for(var i,r=e+(n---e>>1);e<r;++e,--n)i=t[e],t[e]=t[n],t[n]=i}function Gt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Ut)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Ut:Ht)(t)}function Ut(t){var e,n=Ht(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Ht(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Ht)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Yt(t){var e,n=t[0],i=t[1];return i<n&&(e=n,n=i,i=e),n+31*i}function Wt(t,e){var n,i=t[0],r=t[1],o=e[0],s=e[1];return r<i&&(n=i,i=r,r=n),s<o&&(n=o,o=s,s=n),i===o&&r===s}function Xt(t){return t[0].toString()+","+t[1].toString()}function Vt(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Z(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Dt(t));var i=function(t){var e={};D(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!i)throw new Error("geojson must be homogenous");switch(i){case"LineString":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Z(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Dt(t));var i=[],r=q(t,(function(t,e){return function(t,e){var n,i=t.geometry.coordinates,r=e.geometry.coordinates,o=Xt(i[0]),s=Xt(i[i.length-1]),u=Xt(r[0]),h=Xt(r[r.length-1]);if(o===h)n=r.concat(i.slice(1));else if(u===s)n=i.concat(r.slice(1));else if(o===u)n=i.slice(1).reverse().concat(r);else{if(s!==h)return null;n=i.concat(r.reverse().slice(1))}return a(n)}(t,e)||(i.push(t),e)}));return r&&i.push(r),i.length?1===i.length?i[0]:l(i.map((function(t){return t.coordinates}))):null}(t,e);case"Polygon":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Z(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Dt(t));var i=[];D(t,(function(t){i.push(t.geometry)}));var r=ss({geoms:p(i).geometry});return Jo(r,r.objects.geoms.geometries)}(t,e);default:throw new Error(i+" is not supported")}}function Kt(t,n){var i="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var r=Z(t),o=[];switch(r){case"LineString":o=$t(t);break;case"MultiLineString":case"Polygon":H(t).forEach((function(t){o.push($t(t))}));break;case"MultiPolygon":H(t).forEach((function(t){var e=[];t.forEach((function(t){e.push($t(t))})),o.push(e)}));break;case"Point":return t;case"MultiPoint":var s={};H(t).forEach((function(t){var e=t.join("-");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)}));break;default:throw new Error(r+" geometry not supported")}return t.coordinates?!0===i?(t.coordinates=o,t):{type:r,coordinates:o}:!0===i?(t.geometry.coordinates=o,t):e({type:r,coordinates:o},t.properties,t.bbox,t.id)}function $t(t){var e=H(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,i,r,o=[],s=e.length-1;o.push(e[0]);for(var a=1;a<s;a++)n=e[a-1],i=e[a],function(t,e,n){var i=n[0],r=n[1],o=t[0],s=t[1],a=e[0],u=e[1],h=a-o,l=u-s;return(i-o)*l-(r-s)*h==0&&(Math.abs(h)>=Math.abs(l)?h>0?o<=i&&i<=a:a<=i&&i<=o:l>0?s<=r&&r<=u:u<=r&&r<=s)}(n,r=e[a+1],i)||o.push(i);return o.push(r),o}function Zt(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function Jt(t,e,n){var i=e.x,r=e.y,o=n.x-i,s=n.y-r;if(0!==o||0!==s){var a=((t.x-i)*o+(t.y-r)*s)/(o*o+s*s);a>1?(i=n.x,r=n.y):a>0&&(i+=o*a,r+=s*a)}return(o=t.x-i)*o+(s=t.y-r)*s}function Qt(t,e,n){if(t.length<=2)return t;var i=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,i=[t[0]];return function t(e,n,i,r,o){for(var s,a=r,u=n+1;u<i;u++){var h=Jt(e[u],e[n],e[i]);h>a&&(s=u,a=h)}a>r&&(s-n>1&&t(e,n,s,r,o),o.push(e[s]),i-s>1&&t(e,s,i,r,o))}(t,0,n,e,i),i.push(t[n]),i}(t=n?t:function(t,e){for(var n,i=t[0],r=[i],o=1,s=t.length;o<s;o++)Zt(n=t[o],i)>e&&(r.push(n),i=n);return i!==n&&r.push(n),r}(t,i),i)}function te(t,e,n){return Qt(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function ee(t,e,n){return t.map((function(t){var i=t.map((function(t){return{x:t[0],y:t[1]}}));if(i.length<4)throw new Error("invalid polygon");for(var r=Qt(i,e,n).map((function(t){return[t.x,t.y]}));!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(r);)r=Qt(i,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),r}))}function ne(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,i=e.sharpness||.85;if(!t)throw new Error("line is required");if(!E(n))throw new Error("resolution must be an number");if(!E(i))throw new Error("sharpness must be an number");for(var r=[],o=new as({points:K(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),duration:n,sharpness:i}),s=0;s<o.duration;s+=10){var u=o.pos(s);Math.floor(s/100)%2==0&&r.push([u.x,u.y])}return a(r,t.properties)}function ie(t){S(t);var e=Number(t[0]),n=Number(t[1]),i=Number(t[2]),r=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[e,n];return o([[s,[i,n],[i,r],[e,r],s]])}function re(t){return ie(G(t))}function oe(t){var e=t[0],n=t[1],i=t[2],r=t[3];if(Pt(t.slice(0,2),[i,n])>=Pt(t.slice(0,2),[e,r])){var o=(n+r)/2;return[e,o-(i-e)/2,i,o+(i-e)/2]}var s=(e+i)/2;return[s-(r-n)/2,n,s+(r-n)/2,r]}function se(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var o=r.units,s=r.properties,a=U(t),u=b(a[0]),h=b(a[1]),l=b(n),c=y(e,o),f=Math.asin(Math.sin(h)*Math.cos(c)+Math.cos(h)*Math.sin(c)*Math.cos(l));return i([v(u+Math.atan2(Math.sin(l)*Math.sin(c)*Math.cos(h),Math.cos(c)-Math.sin(h)*Math.sin(f))),v(f)],s)}function ae(t,e,n){var i=(n=n||{}).steps||64,r=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be a number");i=i||64,r=r||t.properties||{};for(var s=[],a=0;a<i;a++)s.push(se(t,e,-360*a/i,n).geometry.coordinates);return s.push(s[0]),o([s],r)}function ue(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=ue(e,t);return(n+180)%360}(t,e);var i=U(t),r=U(e),o=b(i[0]),s=b(r[0]),a=b(i[1]),u=b(r[1]),h=Math.sin(s-o)*Math.cos(u),l=Math.cos(a)*Math.sin(u)-Math.sin(a)*Math.cos(u)*Math.cos(s-o);return v(Math.atan2(h,l))}function he(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var r=G(t);return i([(r[0]+r[2])/2,(r[1]+r[3])/2],n)}function le(t,e){var n=0,r=0,o=0;return I(t,(function(t){n+=t[0],r+=t[1],o++}),!0),i([n/o,r/o],e)}function ce(t){var e=[];return"FeatureCollection"===t.type?L(t,(function(t){I(t,(function(n){e.push(i(n,t.properties))}))})):I(t,(function(n){e.push(i(n,t.properties))})),h(e)}function fe(t,e,n){n=n||2;var i,r,o,s,a,u,h,l=e&&e.length,c=l?e[0]*n:t.length,f=pe(t,0,c,n,!0),p=[];if(!f)return p;if(l&&(f=function(t,e,n,i){var r,o,s,a=[];for(r=0,o=e.length;r<o;r++)(s=pe(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),a.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(s));for(a.sort(ge),r=0;r<a.length;r++)!function(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var u,h=n,l=n.x,c=n.y,f=1/0;for(i=n.next;i!==h;)r>=i.x&&i.x>=l&&r!==i.x&&me(o<c?r:s,o,l,c,o<c?s:r,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(r-i.x))<f||u===f&&i.x>n.x)&&xe(i,t)&&(n=i,f=u),i=i.next;return n}(t,e)){var n=we(e,t);de(n,n.next)}}(a[r],n),n=de(n,n.next);return n}(t,e,f,n)),t.length>80*n){i=o=t[0],r=s=t[1];for(var d=n;d<c;d+=n)(a=t[d])<i&&(i=a),(u=t[d+1])<r&&(r=u),a>o&&(o=a),u>s&&(s=u);h=0!==(h=Math.max(o-i,s-r))?1/h:0}return function t(e,n,i,r,o,s,a){if(e){!a&&s&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=ye(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,u,h=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<h&&(a++,i=i.nextZ);e++);for(u=h;a>0||u>0&&i;)0!==a&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,h*=2}while(s>1)}(r)}(e,r,o,s);for(var u,h,l=e;e.prev!==e.next;)if(u=e.prev,h=e.next,s?function(t,e,n,i){var r=t.prev,o=t,s=t.next;if(_e(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,h=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,l=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,c=ye(a,u,e,n,i),f=ye(h,l,e,n,i),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&me(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_e(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&me(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_e(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(e,r,o,s):function(t){var e=t.prev,n=t,i=t.next;if(_e(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(me(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&_e(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}(e))n.push(u.i/i),n.push(e.i/i),n.push(h.i/i),Ce(e),e=h.next,l=h.next;else if((e=h)===l){a?1===a?t(e=function(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!ve(r,o)&&be(r,i,i.next,o)&&xe(r,o)&&xe(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Ce(i),Ce(i.next),i=t=o),i=i.next}while(i!==t);return i}(e,n,i),n,i,r,o,s,2):2===a&&function(e,n,i,r,o,s){var a=e;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&be(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&xe(t,e)&&xe(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}(a,u)){var h=we(a,u);return a=de(a,a.next),h=de(h,h.next),t(a,n,i,r,o,s),void t(h,n,i,r,o,s)}u=u.next}a=a.next}while(a!==e)}(e,n,i,r,o,s):t(de(e),n,i,r,o,s,1);break}}}(f,p,n,i,r,h),p}function pe(t,e,n,i,r){var o,s;if(r===Me(t,e,n,i)>0)for(o=e;o<n;o+=i)s=Ee(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=Ee(o,t[o],t[o+1],s);return s&&ve(s,s.next)&&(Ce(s),s=s.next),s}function de(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!ve(i,i.next)&&0!==_e(i.prev,i,i.next))i=i.next;else{if(Ce(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function ge(t,e){return t.x-e.x}function ye(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function me(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function _e(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ve(t,e){return t.x===e.x&&t.y===e.y}function be(t,e,n,i){return!!(ve(t,e)&&ve(n,i)||ve(t,i)&&ve(n,e))||_e(t,e,n)>0!=_e(t,e,i)>0&&_e(n,i,t)>0!=_e(n,i,e)>0}function xe(t,e){return _e(t.prev,t,t.next)<0?_e(t,e,t.next)>=0&&_e(t,t.prev,e)>=0:_e(t,e,t.prev)<0||_e(t,t.next,e)<0}function we(t,e){var n=new Se(t.i,t.x,t.y),i=new Se(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Ee(t,e,n,i){var r=new Se(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Ce(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Se(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Me(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}function Ie(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}(t),n=us(e.vertices,e.holes,2),i=[],r=[];n.forEach((function(t,i){var o=n[i];r.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var s=0;s<r.length;s+=3){var a=r.slice(s,s+3);a.push(r[s]),i.push(o([a]))}return i}function Te(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,i=1/0;return L(e,(function(e,r){var o=Pt(t,e);o<i&&((n=Dt(e)).properties.featureIndex=r,n.properties.distanceToPoint=o,i=o)})),n}function Oe(t,e,n,i,r){!function t(e,n,i,r,o){for(;r>i;){if(r-i>600){var s=r-i+1,a=n-i+1,u=Math.log(s),h=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*h*(s-h)/s)*(a-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-a*h/s+l)),Math.min(r,Math.floor(n+(s-a)*h/s+l)),o)}var c=e[n],f=i,p=r;for(Ne(e,i,n),o(e[r],c)>0&&Ne(e,i,r);f<p;){for(Ne(e,f,p),f++,p--;o(e[f],c)<0;)f++;for(;o(e[p],c)>0;)p--}0===o(e[i],c)?Ne(e,i,p):Ne(e,++p,r),p<=n&&(i=p+1),n<=p&&(r=p-1)}}(t,e,n||0,i||t.length-1,r||function(t,e){return t<e?-1:t>e?1:0})}function Ne(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Le(t,e){if(!(this instanceof Le))return new Le(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ae(t,e){Re(t,0,t.children.length,e,t)}function Re(t,e,n,i,r){r||(r=qe(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],ke(r,t.leaf?i(o):o);return r}function ke(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Pe(t,e){return t.minX-e.minX}function De(t,e){return t.minY-e.minY}function je(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Fe(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ze(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Be(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function qe(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ge(t,e,n,i,r){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(Oe(t,o=e+Math.ceil((n-e)/i/2)*i,e,n,r),s.push(e,o,o,n))}function Ue(t){var e=Le(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=He(e)).bbox=e}else t.bbox=t.bbox?t.bbox:Ye(t);return Le.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){var n=He(t);n.bbox=t,e.push(n)})):L(t,(function(t){t.bbox=t.bbox?t.bbox:Ye(t),e.push(t)})),Le.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=He(e)).bbox=e}return Le.prototype.remove.call(this,t)},e.clear=function(){return Le.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Le.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Le.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Le.prototype.all.call(this)}},e.toJSON=function(){return Le.prototype.toJSON.call(this)},e.fromJSON=function(t){return Le.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:Ye(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function He(t){var e=[t[0],t[1]],n=[t[0],t[3]],i=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],i,n,e]]}}}function Ye(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function We(t){if(!t)throw new Error("geojson is required");var e=[];return D(t,(function(t){!function(t,e){var n=[],i=t.geometry;switch(i.type){case"Polygon":n=H(i);break;case"LineString":n=[H(i)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,i){var r=a([t,i],e);return r.bbox=function(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];return[n<r?n:r,i<o?i:o,n>r?n:r,i>o?i:o]}(t,i),n.push(r),i})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}(t,e)})),h(e)}function Xe(t,n){var i={},r=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=Ve(t,n);return o&&r.push(o),h(r)}var s=Ue();return s.load(We(n)),L(We(t),(function(t){L(s.search(t),(function(e){var n=Ve(t,e);if(n){var o=H(n).join(",");i[o]||(i[o]=!0,r.push(n))}}))})),h(r)}function Ve(t,e){var n=H(t),r=H(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],s=n[0][1],a=n[1][0],u=n[1][1],h=r[0][0],l=r[0][1],c=r[1][0],f=r[1][1],p=(f-l)*(a-o)-(c-h)*(u-s);if(0===p)return null;var d=((c-h)*(s-l)-(f-l)*(o-h))/p,g=((a-o)*(s-l)-(u-s)*(o-h))/p;return d>=0&&d<=1&&g>=0&&g<=1?i([o+d*(a-o),s+d*(u-s)]):null}function Ke(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=t.geometry?t.geometry.type:t.type;if("LineString"!==r&&"MultiLineString"!==r)throw new Error("lines must be LineString or MultiLineString");var o=i([1/0,1/0],{dist:1/0}),s=0;return D(t,(function(t){for(var r=H(t),u=0;u<r.length-1;u++){var h=i(r[u]);h.properties.dist=Pt(e,h,n);var l=i(r[u+1]);l.properties.dist=Pt(e,l,n);var c=Pt(h,l,n),f=Math.max(h.properties.dist,l.properties.dist),p=ue(h,l),d=se(e,f,p+90,n),g=se(e,f,p-90,n),y=Xe(a([d.geometry.coordinates,g.geometry.coordinates]),a([h.geometry.coordinates,l.geometry.coordinates])),m=null;y.features.length>0&&((m=y.features[0]).properties.dist=Pt(e,m,n),m.properties.location=s+Pt(h,m,n)),h.properties.dist<o.properties.dist&&((o=h).properties.index=u,o.properties.location=s),l.properties.dist<o.properties.dist&&((o=l).properties.index=u+1,o.properties.location=s+c),m&&m.properties.dist<o.properties.dist&&((o=m).properties.index=u),s+=c}})),o}function $e(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,r=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(i=r?Ze(U(e),U(t)):Ze(U(t),U(e)))>180?-(360-i):i}function Ze(t,e){var n=b(t[1]),i=b(e[1]),r=b(e[0]-t[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);var o=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(v(Math.atan2(r,o))+360)%360}function Je(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var r=U(t),o=U(e);return o[0]+=o[0]-r[0]>180?-360:r[0]-o[0]>180?360:0,x(function(t,e,n){var i=n=void 0===n?wo:Number(n),r=t[1]*Math.PI/180,o=e[1]*Math.PI/180,s=o-r,a=Math.abs(e[0]-t[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),h=Math.abs(u)>1e-11?s/u:Math.cos(r);return Math.sqrt(s*s+h*h*a*a)*i}(r,o),"meters",i)}function Qe(t,e){return en(t,"mercator",e)}function tn(t,e){return en(t,"wgs84",e)}function en(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&E(t[0])?t="mercator"===e?nn(t):rn(t):(!0!==i&&(t=Dt(t)),I(t,(function(t){var n="mercator"===e?nn(t):rn(t);t[0]=n[0],t[1]=n[1]}))),t}function nn(t){var e=Math.PI/180,n=20037508.342789244,i=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return i[0]>n&&(i[0]=n),i[0]<-n&&(i[0]=-n),i[1]>n&&(i[1]=n),i[1]<-n&&(i[1]=-n),i}function rn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function on(t,n,r){if(!C(r=r||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=i(t):"Point"===t.type?t=e(t):X(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=a(n):"LineString"===n.type?n=e(n):X(n,"LineString","line");var o=1/0,s=t.geometry.coordinates;return F(n,(function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],a=function(t,e,n,r){var o=r.mercator,s=!0!==o?Pt(e,t,r):sn(e,t,r),a=_(!0!==o?ue(e,t):$e(e,t)),u=_(!0!==o?ue(e,n):$e(e,n)),h=Math.abs(a-u);if(h>90)return s;var l=(u+180)%360,c=_(!0!==o?ue(n,t):$e(n,t)),f=Math.abs(c-l);return f>180&&(f=Math.abs(f-360)),f>90?!0!==o?Pt(t,n,r):sn(t,n,r):!0!==o?s*Math.sin(b(h)):function(t,e,n,r){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var s=i(n),a=tn(function(t,e,n){var i=t[0],r=t[1],o=e[0]-i,s=e[1]-r,a=((n[0]-i)*o+(n[1]-r)*s)/(o*o+s*s);return[i+a*o,r+a*s]}(Qe([t[0]+o,t[1]]),Qe([e[0]+o,e[1]]),Qe([n[0]+o,n[1]])));return 0!==o&&(a[0]-=o),Je(s,a,r)}(e,n,t,r)}(s,e,n,r);o>a&&(o=a)})),o}function sn(t,e,n){var i=n.units,r=0;Math.abs(t[0])>=180&&(r=t[0]>0?-180:180),Math.abs(e[0])>=180&&(r=e[0]>0?-180:180);var o=Qe([t[0]+r,t[1]]),s=Qe([e[0]+r,e[1]]),a=function(t){return t*t},u=a(o[0]-s[0])+a(o[1]-s[1]);return x(Math.sqrt(u),"meters",i)}function an(t){for(var n=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?h([e(t)]):h([t]):t}(t),r=he(n),o=!1,s=0;!o&&s<n.features.length;){var a,u=n.features[s].geometry,l=!1;if("Point"===u.type)r.geometry.coordinates[0]===u.coordinates[0]&&r.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if("MultiPoint"===u.type){var c=!1;for(a=0;!c&&a<u.coordinates.length;)r.geometry.coordinates[0]===u.coordinates[a][0]&&r.geometry.coordinates[1]===u.coordinates[a][1]&&(o=!0,c=!0),a++}else if("LineString"===u.type)for(a=0;!l&&a<u.coordinates.length-1;)un(r.geometry.coordinates[0],r.geometry.coordinates[1],u.coordinates[a][0],u.coordinates[a][1],u.coordinates[a+1][0],u.coordinates[a+1][1])&&(l=!0,o=!0),a++;else if("MultiLineString"===u.type)for(var f=0;f<u.coordinates.length;){l=!1,a=0;for(var p=u.coordinates[f];!l&&a<p.length-1;)un(r.geometry.coordinates[0],r.geometry.coordinates[1],p[a][0],p[a][1],p[a+1][0],p[a+1][1])&&(l=!0,o=!0),a++;f++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||Tt(r,u)&&(o=!0);s++}if(o)return r;var d=h([]);for(s=0;s<n.features.length;s++)d.features=d.features.concat(ce(n.features[s]).features);return i(Te(r,d).geometry.coordinates)}function un(t,e,n,i,r,o){return Math.sqrt((r-n)*(r-n)+(o-i)*(o-i))===Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))+Math.sqrt((r-t)*(r-t)+(o-e)*(o-e))}function hn(t){return P(t,(function(t,e){return t+function t(e){var n,i=0;switch(e.type){case"Polygon":return ln(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)i+=ln(e.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)i+=t(e.geometries[n]);return i}}(e)}),0)}function ln(t){var e=0;if(t&&t.length>0){e+=Math.abs(cn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(cn(t[n]))}return e}function cn(t){var e,n,i,r,o,s,a=0,u=t.length;if(u>2){for(s=0;s<u;s++)s===u-2?(i=u-2,r=u-1,o=0):s===u-1?(i=u-1,r=0,o=1):(i=s,r=s+1,o=s+2),e=t[i],n=t[r],a+=(fn(t[o][0])-fn(e[0]))*Math.sin(fn(n[1]));a=a*cs*cs/2}return a}function fn(t){return t*Math.PI/180}function pn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return z(t,(function(t,n){var i=n.geometry.coordinates;return t+Pt(i[0],i[1],e)}),0)}function dn(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var r,o=[];if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}for(var s,u,h,l=0,c=0;c<r.length&&!(e>=l&&c===r.length-1);c++){if(l>e&&0===o.length){if(!(s=e-l))return o.push(r[c]),a(o);u=ue(r[c],r[c-1])-180,h=se(r[c],s,u,i),o.push(h.geometry.coordinates)}if(l>=n)return(s=n-l)?(u=ue(r[c],r[c-1])-180,h=se(r[c],s,u,i),o.push(h.geometry.coordinates),a(o)):(o.push(r[c]),a(o));if(l>=e&&o.push(r[c]),c===r.length-1)return a(o);l+=Pt(r[c],r[c+1],i)}return a(r[r.length-1])}function gn(t,e,n){var i=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var r=U(t),o=H(e),s=0;s<o.length-1;s++){var a=!1;if(i&&(0===s&&(a="start"),s===o.length-2&&(a="end"),0===s&&s+1===o.length-1&&(a="both")),function(t,e,n,i){var r=n[0],o=n[1],s=t[0],a=t[1],u=e[0],h=e[1],l=u-s,c=h-a;return(n[0]-s)*c-(n[1]-a)*l==0&&(i?"start"===i?Math.abs(l)>=Math.abs(c)?l>0?s<r&&r<=u:u<=r&&r<s:c>0?a<o&&o<=h:h<=o&&o<a:"end"===i?Math.abs(l)>=Math.abs(c)?l>0?s<=r&&r<u:u<r&&r<=s:c>0?a<=o&&o<h:h<o&&o<=a:"both"===i?Math.abs(l)>=Math.abs(c)?l>0?s<r&&r<u:u<r&&r<s:c>0?a<o&&o<h:h<o&&o<a:void 0:Math.abs(l)>=Math.abs(c)?l>0?s<=r&&r<=u:u<=r&&r<=s:c>0?a<=o&&o<=h:h<=o&&o<=a)}(o[s],o[s+1],r,a))return!0}return!1}function yn(t,e){var n=Z(t),i=Z(e),r=K(t),o=K(e);switch(n){case"Point":switch(i){case"MultiPoint":return function(t,e){var n,i=!1;for(n=0;n<e.coordinates.length;n++)if(_n(e.coordinates[n],t.coordinates)){i=!0;break}return i}(r,o);case"LineString":return gn(r,o,{ignoreEndVertices:!0});case"Polygon":return Tt(r,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var i=!1,r=0;r<e.coordinates.length;r++)_n(t.coordinates[n],e.coordinates[r])&&(i=!0);if(!i)return!1}return!0}(r,o);case"LineString":return function(t,e){for(var n=!1,i=0;i<t.coordinates.length;i++){if(!gn(t.coordinates[i],e))return!1;n||(n=gn(t.coordinates[i],e,{ignoreEndVertices:!0}))}return n}(r,o);case"Polygon":return function(t,e){for(var n=!0,i=0;i<t.coordinates.length;i++){var r=Tt(t.coordinates[1],e);if(!r){n=!1;break}r=Tt(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&r}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!gn(t.coordinates[n],e))return!1;return!0}(r,o);case"Polygon":return function(t,e){if(!mn(G(e),G(t)))return!1;for(var n=!1,i=0;i<t.coordinates.length-1;i++){if(!Tt(t.coordinates[i],e))return!1;n||(n=Tt(t.coordinates[i],e,{ignoreBoundary:!0})),n||(n=Tt(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[i],t.coordinates[i+1]),e,{ignoreBoundary:!0}))}return n}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Polygon":return function(t,e){var n=G(t);if(!mn(G(e),n))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!Tt(t.coordinates[0][i],e))return!1;return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function mn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function _n(t,e){return t[0]===e[0]&&t[1]===e[1]}function vn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.mask,o=n.properties,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(Z(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],u=t[1],l=t[2],c=t[3],f=e/Pt([a,u],[l,u],n)*(l-a),p=e/Pt([a,u],[a,c],n)*(c-u),d=l-a,g=c-u,y=Math.floor(d/f),m=(g-Math.floor(g/p)*p)/2,_=a+(d-y*f)/2;_<=l;){for(var v=u+m;v<=c;){var b=i([_,v],o);r?yn(b,r)&&s.push(b):s.push(b),v+=p}_+=f}return h(s)}function bn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.precision,i=e.coordinates,r=e.mutate;if(n=null==n||isNaN(n)?6:n,i=null==i||isNaN(i)?3:i,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");!1!==r&&void 0!==r||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return I(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]*e)/e}(t,o,i)})),t}function xn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!xn(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function wn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function En(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!En(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Cn(t,e){var n=[],i=Ue();return D(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var r=i.search(e);if(r.features.length){var o=Mn(e,r);n=n.filter((function(t){return t.id!==o.id})),i.remove(o),L(Sn(o,e),(function(t){n.push(t),i.insert(t)}))}}else(n=Sn(t,e).features).forEach((function(t){t.bbox||(t.bbox=oe(G(t)))})),i.load(h(n))})),h(n)}function Sn(t,e){var n=[],i=H(t)[0],r=H(t)[t.geometry.coordinates.length-1];if(In(i,U(e))||In(r,U(e)))return h([t]);var o=Ue(),s=We(t);o.load(s);var u=o.search(e);if(!u.features.length)return h([t]);var l=Mn(e,u),c=A(s,(function(t,i,r){var o=H(i)[1],s=U(e);return r===l.id?(t.push(s),n.push(a(t)),In(s,o)?[s]:[s,o]):(t.push(o),t)}),[i]);return c.length>1&&n.push(a(c)),h(n)}function Mn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,i=1/0;return L(e,(function(e){var r=Ke(e,t).properties.dist;r<i&&(n=e,i=r)})),n}function In(t,e){return t[0]===e[0]&&t[1]===e[1]}function Tn(t,e,n,i,r){if(!C(r=r||{}))throw new Error("options is invalid");var o=r.steps,s=r.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if("object"!=typeof r)throw new Error("options must be an object");o=o||64;var u=On(n),h=On(i),l=t.properties;if(u===h)return a(ae(t,e,r).geometry.coordinates[0],l);for(var c=u,f=u<h?h:h+360,p=c,d=[],g=0;p<f;)d.push(se(t,e,p,s).geometry.coordinates),p=c+360*++g/o;return p>f&&d.push(se(t,e,f,s).geometry.coordinates),a(d,l)}function On(t){var e=t%360;return e<0&&(e+=360),e}function Nn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=Z(t),r=H(t);if(n=n||t.properties||{},!r.length)throw new Error("polygon must contain coordinates");switch(i){case"Polygon":return Ln(r,n);case"MultiPolygon":var o=[];return r.forEach((function(t){o.push(Ln(t,n))})),h(o);default:throw new Error("geom "+i+" not supported")}}function Ln(t,e){return t.length>1?l(t,e):a(t[0],e)}function An(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.autoComplete,r=e.orderCoords;if(!t)throw new Error("lines is required");switch(i=void 0===i||i,r=void 0===r||r,Z(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach((function(t){o.push(H(Rn(t,{},i,r)))})),f(o,n)}return Rn(t,n,i,r)}function Rn(t,e,n,i){e=e||t.properties||{};var r=H(t),s=Z(t);if(!r.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return n&&(r=kn(r)),o([r],e);case"MultiLineString":var u=[],h=0;return r.forEach((function(t){if(n&&(t=kn(t)),i){var e=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.abs(e-i)*Math.abs(n-r)}(G(a(t)));e>h?(u.unshift(t),h=e):u.push(t)}else u.push(t)})),o(u,e);default:throw new Error("geometry type "+s+" is not supported")}}function kn(t){var e=t[0],n=e[0],i=e[1],r=t[t.length-1],o=r[0],s=r[1];return n===o&&i===s||t.push(e),t}function Pn(t,e,n){var i,r,o,s,a,u=t.length,h=jn(t[0],e),l=[];for(n||(n=[]),i=1;i<u;i++){for(r=t[i-1],s=a=jn(o=t[i],e);;){if(!(h|s)){l.push(r),s!==a?(l.push(o),i<u-1&&(n.push(l),l=[])):i===u-1&&l.push(o);break}if(h&s)break;h?h=jn(r=Dn(r,o,h,e),e):s=jn(o=Dn(r,o,s,e),e)}h=a}return l.length&&n.push(l),n}function Dn(t,e,n,i){return 8&n?[t[0]+(e[0]-t[0])*(i[3]-t[1])/(e[1]-t[1]),i[3]]:4&n?[t[0]+(e[0]-t[0])*(i[1]-t[1])/(e[1]-t[1]),i[1]]:2&n?[i[2],t[1]+(e[1]-t[1])*(i[2]-t[0])/(e[0]-t[0])]:1&n?[i[0],t[1]+(e[1]-t[1])*(i[0]-t[0])/(e[0]-t[0])]:null}function jn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Fn(t,e){for(var n=[],i=0;i<t.length;i++){var r=xs.polygon(t[i],e);r.length>0&&(r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]||r.push(r[0]),r.length>=4&&n.push(r))}return n}function zn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Bn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?(n.strict,t===e):function(t,e,n){var i,r;if(qn(t)||qn(e))return!1;if(t.prototype!==e.prototype)return!1;if(zn(t))return!!zn(e)&&Bn(t=ws.call(t),e=ws.call(e),n);if(Gn(t)){if(!Gn(e))return!1;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}try{var o=Object.keys(t),s=Object.keys(e)}catch(t){return!1}if(o.length!==s.length)return!1;for(o.sort(),s.sort(),i=o.length-1;i>=0;i--)if(o[i]!==s[i])return!1;for(i=o.length-1;i>=0;i--)if(!Bn(t[r=o[i]],e[r],n))return!1;return typeof t==typeof e}(t,e,n))}function qn(t){return null==t}function Gn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function Un(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,r=n.tolerance||0,o=[],s=Ue();return s.load(We(t)),F(e,(function(t){var e=!1;L(s.search(t),(function(n){if(!1===e){var o=H(t).sort(),s=H(n).sort();Bn(o,s)||(0===r?gn(o[0],n)&&gn(o[1],n):Ke(n,o[0]).properties.dist<=r&&Ke(n,o[1]).properties.dist<=r)?(e=!0,i=i?Hn(i,t):t):(0===r?gn(s[0],t)&&gn(s[1],t):Ke(t,s[0]).properties.dist<=r&&Ke(t,s[1]).properties.dist<=r)&&(i=i?Hn(i,n):n)}})),!1===e&&i&&(o.push(i),i=void 0)})),i&&o.push(i),h(o)}function Hn(t,e){var n=H(e),i=H(t),r=i[0],o=i[i.length-1],s=t.geometry.coordinates;return Bn(n[0],r)?s.unshift(n[1]):Bn(n[0],o)?s.push(n[1]):Bn(n[1],r)?s.unshift(n[0]):Bn(n[1],o)&&s.push(n[0]),t}function Yn(t){var e=t%360;return e<0&&(e+=360),e}function Wn(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var o=r.units,s=r.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var a=x(e,o,"meters"),u=U(t),h=function(t,e,n,i){var r=e/(i=void 0===i?wo:Number(i)),o=t[0]*Math.PI/180,s=b(t[1]),a=b(n),u=r*Math.cos(a),h=s+u;Math.abs(h)>Math.PI/2&&(h=h>0?Math.PI-h:-Math.PI-h);var l=Math.log(Math.tan(h/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),c=Math.abs(l)>1e-11?u/l:Math.cos(s);return[(180*(o+r*Math.sin(a)/c)/Math.PI+540)%360-180,180*h/Math.PI]}(u,a,n);return h[0]+=h[0]-u[0]>180?-360:u[0]-h[0]>180?360:0,i(h,s)}function Xn(t,e,n,i,r,o){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),i=Vn(a,u,e),n<=0&&i>0?function(t,e,n){return Vn(t,e,n)<0}(e,a,r)||(r=a):n>0&&i<=0&&(function(t,e,n){return Vn(t,e,n)>0}(e,a,o)||(o=a)),n=i}return[r,o]}function Vn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Kn(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,i,r=H(t),o=0,s=1;s<r.length;)n=i||r[0],o+=((i=r[s])[0]-n[0])*(i[1]+n[1]),s++;return o>0}function $n(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return k(t,(function(t){$n(t,e)})),t;case"LineString":return Zn(H(t),e),t;case"Polygon":return Jn(H(t),e),t;case"MultiLineString":return H(t).forEach((function(t){Zn(t,e)})),t;case"MultiPolygon":return H(t).forEach((function(t){Jn(t,e)})),t;case"Point":case"MultiPoint":return t}}function Zn(t,e){Kn(t)===e&&t.reverse()}function Jn(t,e){Kn(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Kn(t[n])===e&&t[n].reverse()}function Qn(t,e,n,i){i=i||{};for(var r=Object.keys(Es),o=0;o<r.length;o++){var s=r[o],a=i[s];a=null!=a?a:Es[s],Cs[s]=a}Cs.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,h=function(t,e,n){for(var i=t.length-1,r=t[0].length-1,o={rows:i,cols:r,cells:[]},s=e+Math.abs(n),a=0;a<i;++a){o.cells[a]=[];for(var u=0;u<r;++u){var h=0,l=t[a+1][u],c=t[a+1][u+1],f=t[a][u+1],p=t[a][u];if(!(isNaN(l)||isNaN(c)||isNaN(f)||isNaN(p))){h|=l<e?0:l>s?128:64,h|=c<e?0:c>s?32:16,h|=f<e?0:f>s?8:4;var d=+(h|=p<e?0:p>s?2:1),g=0;if(17===h||18===h||33===h||34===h||38===h||68===h||72===h||98===h||102===h||132===h||136===h||137===h||152===h||153===h){var y=(l+c+f+p)/4;g=y>s?2:y<e?0:1,34===h?1===g?h=35:0===g&&(h=136):136===h?1===g?(h=35,g=4):0===g&&(h=34):17===h?1===g?(h=155,g=4):0===g&&(h=153):68===h?1===g?(h=103,g=4):0===g&&(h=102):153===h?1===g&&(h=155):102===h?1===g&&(h=103):152===h?g<2&&(h=156,g=1):137===h?g<2&&(h=139,g=1):98===h?g<2&&(h=99,g=1):38===h?g<2&&(h=39,g=1):18===h?g>0?(h=156,g=4):h=152:33===h?g>0?(h=139,g=4):h=137:72===h?g>0?(h=99,g=4):h=98:132===h&&(g>0?(h=39,g=4):h=38)}if(0!=h&&170!=h){var m,_,v,b,x,w,E,C;m=_=v=b=x=w=E=C=.5;var S=[];1===h?(v=1-ti(e,f,p),C=1-ti(e,l,p),S.push(la[h])):169===h?(v=ti(s,p,f),C=ti(s,p,l),S.push(la[h])):4===h?(w=1-ti(e,c,f),b=ti(e,p,f),S.push(ua[h])):166===h?(w=ti(s,f,c),b=1-ti(s,f,p),S.push(ua[h])):16===h?(x=ti(e,f,c),_=ti(e,l,c),S.push(aa[h])):154===h?(x=1-ti(s,c,f),_=1-ti(s,c,l),S.push(aa[h])):64===h?(E=ti(e,p,l),m=1-ti(e,c,l),S.push(fa[h])):106===h?(E=1-ti(s,l,p),m=ti(s,l,c),S.push(fa[h])):168===h?(b=ti(s,p,f),v=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),S.push(ha[h]),S.push(la[h])):2===h?(b=1-ti(e,f,p),v=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),S.push(ha[h]),S.push(la[h])):162===h?(x=ti(s,f,c),w=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),S.push(ha[h]),S.push(la[h])):8===h?(x=1-ti(e,c,f),w=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),S.push(aa[h]),S.push(ua[h])):138===h?(x=1-ti(e,c,f),w=1-ti(s,c,f),m=1-ti(s,c,l),_=1-ti(e,c,l),S.push(aa[h]),S.push(ua[h])):32===h?(x=ti(s,f,c),w=ti(e,f,c),m=ti(e,l,c),_=ti(s,l,c),S.push(aa[h]),S.push(ua[h])):42===h?(C=1-ti(s,l,p),E=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c),S.push(ca[h]),S.push(fa[h])):128===h&&(C=ti(e,p,l),E=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l),S.push(ca[h]),S.push(fa[h])),5===h?(w=1-ti(e,c,f),C=1-ti(e,l,p),S.push(ua[h])):165===h?(w=ti(s,f,c),C=ti(s,p,l),S.push(ua[h])):20===h?(b=ti(e,p,f),_=ti(e,l,c),S.push(ha[h])):150===h?(b=1-ti(s,f,p),_=1-ti(s,c,l),S.push(ha[h])):80===h?(x=ti(e,f,c),E=ti(e,p,l),S.push(aa[h])):90===h?(x=1-ti(s,c,f),E=1-ti(s,l,p),S.push(aa[h])):65===h?(v=1-ti(e,f,p),m=1-ti(e,c,l),S.push(la[h])):105===h?(v=ti(s,p,f),m=ti(s,l,c),S.push(la[h])):160===h?(x=ti(s,f,c),w=ti(e,f,c),C=ti(e,p,l),E=ti(s,p,l),S.push(aa[h]),S.push(ua[h])):10===h?(x=1-ti(e,c,f),w=1-ti(s,c,f),C=1-ti(s,l,p),E=1-ti(e,l,p),S.push(aa[h]),S.push(ua[h])):130===h?(b=1-ti(e,f,p),v=1-ti(s,f,p),m=1-ti(s,c,l),_=1-ti(e,c,l),S.push(ha[h]),S.push(la[h])):40===h?(b=ti(s,p,f),v=ti(e,p,f),m=ti(e,l,c),_=ti(s,l,c),S.push(ha[h]),S.push(la[h])):101===h?(w=ti(s,f,c),m=ti(s,l,c),S.push(ua[h])):69===h?(w=1-ti(e,c,f),m=1-ti(e,c,l),S.push(ua[h])):149===h?(C=ti(s,p,l),_=1-ti(s,c,l),S.push(ca[h])):21===h?(C=1-ti(e,l,p),_=ti(e,l,c),S.push(ca[h])):86===h?(b=1-ti(s,f,p),E=1-ti(s,l,p),S.push(ha[h])):84===h?(b=ti(e,p,f),E=ti(e,p,l),S.push(ha[h])):89===h?(x=1-ti(s,c,f),v=ti(s,p,f),S.push(la[h])):81===h?(x=ti(e,f,c),v=1-ti(e,f,p),S.push(la[h])):96===h?(x=ti(s,f,c),w=ti(e,f,c),E=ti(e,p,l),m=ti(s,l,c),S.push(aa[h]),S.push(ua[h])):74===h?(x=1-ti(e,c,f),w=1-ti(s,c,f),E=1-ti(s,l,p),m=1-ti(e,c,l),S.push(aa[h]),S.push(ua[h])):24===h?(x=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),_=ti(e,l,c),S.push(aa[h]),S.push(la[h])):146===h?(x=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),_=1-ti(s,c,l),S.push(aa[h]),S.push(la[h])):6===h?(w=1-ti(e,c,f),b=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),S.push(ua[h]),S.push(ha[h])):164===h?(w=ti(s,f,c),b=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),S.push(ua[h]),S.push(ha[h])):129===h?(v=1-ti(e,f,p),C=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l),S.push(la[h]),S.push(ca[h])):41===h?(v=ti(s,p,f),C=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c),S.push(la[h]),S.push(ca[h])):66===h?(b=1-ti(e,f,p),v=1-ti(s,f,p),E=1-ti(s,l,p),m=1-ti(e,c,l),S.push(ha[h]),S.push(la[h])):104===h?(b=ti(s,p,f),v=ti(e,p,f),E=ti(e,p,l),m=ti(s,l,c),S.push(la[h]),S.push(pa[h])):144===h?(x=ti(e,f,c),C=ti(e,p,l),E=ti(s,p,l),_=1-ti(s,c,l),S.push(aa[h]),S.push(fa[h])):26===h?(x=1-ti(s,c,f),C=1-ti(s,l,p),E=1-ti(e,l,p),_=ti(e,l,c),S.push(aa[h]),S.push(fa[h])):36===h?(w=ti(s,f,c),b=ti(e,p,f),m=ti(e,l,c),_=ti(s,l,c),S.push(ua[h]),S.push(ha[h])):134===h?(w=1-ti(e,c,f),b=1-ti(s,f,p),m=1-ti(s,c,l),_=1-ti(e,c,l),S.push(ua[h]),S.push(ha[h])):9===h?(x=1-ti(e,c,f),w=1-ti(s,c,f),v=ti(s,p,f),C=1-ti(e,l,p),S.push(aa[h]),S.push(ua[h])):161===h?(x=ti(s,f,c),w=ti(e,f,c),v=1-ti(e,f,p),C=ti(s,p,l),S.push(aa[h]),S.push(ua[h])):37===h?(w=ti(s,f,c),C=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c),S.push(ua[h]),S.push(ca[h])):133===h?(w=1-ti(e,c,f),C=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l),S.push(ua[h]),S.push(ca[h])):148===h?(b=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),_=1-ti(s,c,l),S.push(ha[h]),S.push(fa[h])):22===h?(b=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),_=ti(e,l,c),S.push(ha[h]),S.push(fa[h])):82===h?(x=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),E=1-ti(s,l,p),S.push(aa[h]),S.push(la[h])):88===h?(x=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),E=ti(e,p,l),S.push(aa[h]),S.push(la[h])):73===h?(x=1-ti(e,c,f),w=1-ti(s,c,f),v=ti(s,p,f),m=1-ti(e,c,l),S.push(aa[h]),S.push(ua[h])):97===h?(x=ti(s,f,c),w=ti(e,f,c),v=1-ti(e,f,p),m=ti(s,l,c),S.push(aa[h]),S.push(ua[h])):145===h?(x=ti(e,f,c),v=1-ti(e,f,p),C=ti(s,p,l),_=1-ti(s,c,l),S.push(aa[h]),S.push(ca[h])):25===h?(x=1-ti(s,c,f),v=ti(s,p,f),C=1-ti(e,l,p),_=ti(e,l,c),S.push(aa[h]),S.push(ca[h])):70===h?(w=1-ti(e,c,f),b=1-ti(s,f,p),E=1-ti(s,l,p),m=1-ti(e,c,l),S.push(ua[h]),S.push(ha[h])):100===h?(w=ti(s,f,c),b=ti(e,p,f),E=ti(e,p,l),m=ti(s,l,c),S.push(ua[h]),S.push(ha[h])):34===h?(0===g?(x=1-ti(e,c,f),w=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l)):(x=ti(s,f,c),w=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c)),S.push(aa[h]),S.push(ua[h]),S.push(ca[h]),S.push(fa[h])):35===h?(4===g?(x=1-ti(e,c,f),w=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l)):(x=ti(s,f,c),w=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c)),S.push(aa[h]),S.push(ua[h]),S.push(la[h]),S.push(fa[h])):136===h?(0===g?(x=ti(s,f,c),w=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c)):(x=1-ti(e,c,f),w=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l)),S.push(aa[h]),S.push(ua[h]),S.push(ca[h]),S.push(fa[h])):153===h?(0===g?(x=ti(e,f,c),v=1-ti(e,f,p),C=1-ti(e,l,p),_=ti(e,l,c)):(x=1-ti(s,c,f),v=ti(s,p,f),C=ti(s,p,l),_=1-ti(s,c,l)),S.push(aa[h]),S.push(la[h])):102===h?(0===g?(w=1-ti(e,c,f),b=ti(e,p,f),E=ti(e,p,l),m=1-ti(e,c,l)):(w=ti(s,f,c),b=1-ti(s,f,p),E=1-ti(s,l,p),m=ti(s,l,c)),S.push(ua[h]),S.push(fa[h])):155===h?(4===g?(x=ti(e,f,c),v=1-ti(e,f,p),C=1-ti(e,l,p),_=ti(e,l,c)):(x=1-ti(s,c,f),v=ti(s,p,f),C=ti(s,p,l),_=1-ti(s,c,l)),S.push(aa[h]),S.push(ca[h])):103===h?(4===g?(w=1-ti(e,c,f),b=ti(e,p,f),E=ti(e,p,l),m=1-ti(e,c,l)):(w=ti(s,f,c),b=1-ti(s,f,p),E=1-ti(s,l,p),m=ti(s,l,c)),S.push(ua[h]),S.push(ha[h])):152===h?(0===g?(x=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),_=ti(e,l,c)):(x=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),_=1-ti(s,c,l)),S.push(aa[h]),S.push(ha[h]),S.push(la[h])):156===h?(4===g?(x=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),_=ti(e,l,c)):(x=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),_=1-ti(s,c,l)),S.push(aa[h]),S.push(la[h]),S.push(fa[h])):137===h?(0===g?(x=ti(s,f,c),w=ti(e,f,c),v=1-ti(e,f,p),C=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c)):(x=1-ti(e,c,f),w=1-ti(s,c,f),v=ti(s,p,f),C=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l)),S.push(aa[h]),S.push(ua[h]),S.push(la[h])):139===h?(4===g?(x=ti(s,f,c),w=ti(e,f,c),v=1-ti(e,f,p),C=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c)):(x=1-ti(e,c,f),w=1-ti(s,c,f),v=ti(s,p,f),C=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l)),S.push(aa[h]),S.push(ua[h]),S.push(ca[h])):98===h?(0===g?(x=1-ti(e,c,f),w=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),E=ti(e,p,l),m=1-ti(e,c,l)):(x=ti(s,f,c),w=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),E=1-ti(s,l,p),m=ti(s,l,c)),S.push(aa[h]),S.push(ua[h]),S.push(fa[h])):99===h?(4===g?(x=1-ti(e,c,f),w=1-ti(s,c,f),b=ti(s,p,f),v=ti(e,p,f),E=ti(e,p,l),m=1-ti(e,c,l)):(x=ti(s,f,c),w=ti(e,f,c),b=1-ti(e,f,p),v=1-ti(s,f,p),E=1-ti(s,l,p),m=ti(s,l,c)),S.push(aa[h]),S.push(ua[h]),S.push(la[h])):38===h?(0===g?(w=1-ti(e,c,f),b=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l)):(w=ti(s,f,c),b=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c)),S.push(ua[h]),S.push(ca[h]),S.push(fa[h])):39===h?(4===g?(w=1-ti(e,c,f),b=ti(e,p,f),C=ti(e,p,l),E=ti(s,p,l),m=1-ti(s,c,l),_=1-ti(e,c,l)):(w=ti(s,f,c),b=1-ti(s,f,p),C=1-ti(s,l,p),E=1-ti(e,l,p),m=ti(e,l,c),_=ti(s,l,c)),S.push(ua[h]),S.push(ha[h]),S.push(fa[h])):85===h&&(x=1,w=0,b=1,v=0,C=0,E=1,m=0,_=1),(m<0||m>1||_<0||_>1||x<0||x>1||b<0||b>1||C<0||C>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+h+" "+d+" "+l+","+c+","+f+","+p+" "+g+" "+m+" "+_+" "+x+" "+w+" "+b+" "+v+" "+C+" "+E),o.cells[a][u]={cval:h,cval_real:d,flipped:g,topleft:m,topright:_,righttop:x,rightbottom:w,bottomright:b,bottomleft:v,leftbottom:C,lefttop:E,edges:S}}}}}return o}(t,e,n);return Cs.polygons?(Cs.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach((function(t,i){t.forEach((function(t,r){if(void 0!==t){var o=ga[t.cval](t);"object"==typeof o&&ei(o)?"object"==typeof o[0]&&ei(o[0])?"object"==typeof o[0][0]&&ei(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=r,t[1]+=i})),e[n++]=t})):(o.forEach((function(t){t[0]+=r,t[1]+=i})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(h)):(Cs.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,i=t.cols,r=[],o=0;o<n;o++)for(var s=0;s<i;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&Ms?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&Is?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Ts?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&Ms?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&Is?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Ts?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Ts?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Ts?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&Ss?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Ts?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Ts?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&Ss?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&Ss?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Ts?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&Ss?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&Ss?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&Ms?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&Ss?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&Ms?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][s]),u=null,h=s,l=o;null!==a&&r.push([a.p[0]+h,a.p[1]+l]);do{if(null===(u=function(t,e,n,i){var r,o,s,a,u,h=t.cval;switch(e){case-1:switch(i){case 0:r=ua[h],s=Fs[h],a=zs[h],u=Bs[h];break;default:r=aa[h],s=Ps[h],a=Ds[h],u=js[h]}break;case 1:switch(i){case 0:r=ca[h],s=$s[h],a=Zs[h],u=Js[h];break;default:r=fa[h],s=Xs[h],a=Vs[h],u=Ks[h]}break;default:switch(n){case-1:switch(i){case 0:r=pa[h],s=Os[h],a=Ns[h],u=Ls[h];break;default:r=da[h],s=As[h],a=Rs[h],u=ks[h]}break;case 1:switch(i){case 0:r=la[h],s=qs[h],a=Gs[h],u=Us[h];break;default:r=ha[h],s=Hs[h],a=Ys[h],u=Ws[h]}}}if(o=t.edges.indexOf(r),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),h=t.cval_real,r){case 0:h&Ms?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:h&Is?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:h&Is?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:h&Ts?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:h&Ms?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:h&Is?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:h&Is?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:h&Ts?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:h&Is?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:h&Ts?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:h&Ts?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:h&Ss?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:h&Is?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:h&Ts?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:h&Ts?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:h&Ss?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:h&Is?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:h&Ss?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:h&Ts?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:h&Ss?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:h&Ss?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:h&Ms?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:h&Ss?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:h&Ms?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+u)),{p:[e,n],x:s,y:a,o:u}}(t.cells[l][h],a.x,a.y,a.o)))break;if(r.push([u.p[0]+h,u.p[1]+l]),h+=u.x,a=u,(l+=u.y)<0||l>=n||h<0||h>=i||void 0===t.cells[l][h]){var c=function(t,e,n,i,r,o){for(var s=t.cells[n][e],a=s.cval_real,u=e+i,h=n+r,l=[],c=!1;!c;){if(void 0===t.cells[h]||void 0===t.cells[h][u])if(h-=r,u-=i,a=(s=t.cells[h][u]).cval_real,-1===r)if(0===o)if(a&Ts)l.push([u,h]),i=-1,r=0,o=0;else{if(!(a&Is)){l.push([u+s.bottomright,h]),i=0,r=1,o=1,c=!0;break}l.push([u+1,h]),i=1,r=0,o=0}else{if(!(a&Ts)){if(a&Is){l.push([u+s.bottomright,h]),i=0,r=1,o=1,c=!0;break}l.push([u+s.bottomleft,h]),i=0,r=1,o=0,c=!0;break}l.push([u,h]),i=-1,r=0,o=0}else if(1===r)if(0===o){if(!(a&Ms)){if(a&Ss){l.push([u+s.topleft,h+1]),i=0,r=-1,o=0,c=!0;break}l.push([u+s.topright,h+1]),i=0,r=-1,o=1,c=!0;break}l.push([u+1,h+1]),i=1,r=0,o=1}else l.push([u+1,h+1]),i=1,r=0,o=1;else if(-1===i)if(0===o){if(!(a&Ss)){if(a&Ts){l.push([u,h+s.leftbottom]),i=1,r=0,o=0,c=!0;break}l.push([u,h+s.lefttop]),i=1,r=0,o=1,c=!0;break}l.push([u,h+1]),i=0,r=1,o=0}else{if(!(a&Ss)){console.log("MarchingSquaresJS-isoBands: wtf");break}l.push([u,h+1]),i=0,r=1,o=0}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(a&Is)){l.push([u+1,h+s.rightbottom]),i=-1,r=0,o=0,c=!0;break}l.push([u+1,h]),i=0,r=-1,o=1}else{if(!(a&Is)){if(a&Ms){l.push([u+1,h+s.righttop]),i=-1,r=0,o=1;break}l.push([u+1,h+s.rightbottom]),i=-1,r=0,o=0,c=!0;break}l.push([u+1,h]),i=0,r=-1,o=1}}else if(a=(s=t.cells[h][u]).cval_real,-1===i)if(0===o)if(void 0!==t.cells[h-1]&&void 0!==t.cells[h-1][u])i=0,r=-1,o=1;else{if(!(a&Ts)){l.push([u+s.bottomright,h]),i=0,r=1,o=1,c=!0;break}l.push([u,h])}else{if(!(a&Ss)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+h);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===i){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[h+1]&&void 0!==t.cells[h+1][u])i=0,r=1,o=0;else{if(!(a&Ms)){l.push([u+s.topleft,h+1]),i=0,r=-1,o=0,c=!0;break}l.push([u+1,h+1]),i=1,r=0,o=1}}else if(-1===r){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[h][u+1])i=1,r=0,o=1;else{if(!(a&Is)){l.push([u+1,h+s.righttop]),i=-1,r=0,o=1,c=!0;break}l.push([u+1,h]),i=0,r=-1,o=1}}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[h][u-1])i=-1,r=0,o=0;else{if(!(a&Ss)){l.push([u,h+s.leftbottom]),i=1,r=0,o=0,c=!0;break}l.push([u,h+1]),i=0,r=1,o=0}}if(h+=r,(u+=i)===e&&h===n)break}return{path:l,i:u,j:h,x:i,y:r,o:o}}(t,h-=u.x,l-=u.y,u.x,u.y,u.o);if(null===c)break;c.path.forEach((function(t){r.push(t)})),h=c.i,l=c.j,a=c}}while(void 0!==t.cells[l][h]&&t.cells[l][h].edges.length>0);e.push(r),r=[],t.cells[o][s].edges.length>0&&s--}return e}(h)),"function"==typeof Cs.successCallback&&Cs.successCallback(u),u}function ti(t,e,n){return(t-e)/(n-e)}function ei(t){return t.constructor.toString().indexOf("Array")>-1}function ni(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.pivot,r=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(i||(i=le(t)),!1!==r&&void 0!==r||(t=Dt(t)),I(t,(function(t){var n=$e(i,t)+e,r=Je(i,t),o=H(Wn(i,r,n));t[0]=o[0],t[1]=o[1]}))),t}function ii(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.origin,r=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(i)||"object"==typeof i;return!0!==r&&(t=Dt(t)),"FeatureCollection"!==t.type||o?ri(t,e,i):(L(t,(function(n,r){t.features[r]=ri(n,e,i)})),t)}function ri(t,e,n){var r="Point"===Z(t);return n=function(t,e){if(null!=e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return U(e);var n=t.bbox?t.bbox:G(t),r=n[0],o=n[1],s=n[2],a=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return i([r,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return i([s,o]);case"nw":case"northwest":case"westnorth":case"topleft":return i([r,a]);case"ne":case"northeast":case"eastnorth":case"topright":return i([s,a]);case"center":return he(t);case void 0:case null:case"centroid":return le(t);default:throw new Error("invalid origin")}}(t,n),1===e||r||I(t,(function(t){var i=Je(n,t),r=$e(n,t),o=H(Wn(n,i*e,r));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t}function oi(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function si(t,e){return t[0]*e[1]-e[0]*t[1]}function ai(t,e,n){var i=[],r=m(e,n),o=H(t),s=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=function(t,e,n){var i=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),r=t[0]+n*(e[1]-t[1])/i,o=e[0]+n*(e[1]-t[1])/i;return[[r,t[1]+n*(t[0]-e[0])/i],[o,e[1]+n*(t[0]-e[0])/i]]}(t,o[e+1],r);if(i.push(n),e>0){var a=i[e-1],u=function(t,e){return!function(t,e){return 0===si(oi(t),oi(e))}(t,e)&&function(t,e){var n=t[0],i=oi(t),r=e[0],o=oi(e),s=si(i,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(si(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(r,n),o)/s,i))}(t,e)}(n,a);!1!==u&&(a[1]=u,n[0]=u),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}})),a(s,t.properties)}function ui(t,e,n){var i=e[0]-t[0],r=e[1]-t[1],o=n[0]-e[0],s=n[1]-e[1];return Math.sign(i*s-o*r)}function hi(t,e){return e.geometry.coordinates[0].every((function(e){return Tt(i(e),t)}))}function li(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var i=n[0]-t[0],r=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return i*s-r*o==0&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function ci(t,e){return Xe(e,Nn(t)).features.length>0}function fi(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function pi(t,e){return t[0]===e[0]&&t[1]===e[1]}function di(t,e){for(var n=!1,i=!1,r=t.coordinates.length,o=0;o<r&&!n&&!i;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),mi(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:i=!0}o++}return n&&i}function gi(t,e){return Xe(t,Nn(e)).features.length>0}function yi(t,e){for(var n=!1,r=!1,o=t.coordinates[0].length,s=0;s<o&&n&&r;)Tt(i(t.coordinates[0][s]),e)?n=!0:r=!0,s++;return r&&r}function mi(t,e,n,i){var r=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==r*a-o*s&&(i?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function _i(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function vi(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function bi(t,e){return Ea(t,e,{strict:!0})}function xi(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=Z(t);if(n!==Z(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Sa({precision:6}).compare(t,e))return!1;var i=0;switch(n){case"MultiPoint":var r=R(t),o=R(e);r.forEach((function(t){o.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&i++}))}));break;case"LineString":case"MultiLineString":F(t,(function(t){F(e,(function(e){Un(t,e).features.length&&i++}))}));break;case"Polygon":case"MultiPolygon":F(t,(function(t){F(e,(function(e){Xe(t,e).features.length&&i++}))}))}return i>0}function wi(t,e,n){n=n||[];for(var i=0;i<t;i++)n[i]=e;return n}function Ei(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Ci(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Si(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var i=0,r=t[n];i<r.length;i++){var o=new Mi(n,i,r[i]);this.grid[n][i]=o,this.nodes.push(o)}}this.init()}function Mi(t,e,n){this.x=t,this.y=e,this.weight=n}function Ii(t){this.content=[],this.scoreFunction=t}function Ti(t){return t[0]}function Oi(t){return t[1]}function Ni(){this._=null}function Li(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ai(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ri(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ki(t){for(;t.L;)t=t.L;return t}function Pi(t,e,n,i){var r=[null,null],o=Ga.push(r)-1;return r.left=t,r.right=e,n&&ji(r,t,e,n),i&&ji(r,e,t,i),Ba[t.index].halfedges.push(o),Ba[e.index].halfedges.push(o),r}function Di(t,e,n){var i=[e,n];return i.left=t,i}function ji(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Fi(t,e,n,i,r){var o,s=t[0],a=t[1],u=s[0],h=s[1],l=0,c=1,f=a[0]-u,p=a[1]-h;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}if(o=n-h,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<c&&(c=o)}else if(p>0){if(o>c)return;o>l&&(l=o)}if(o=r-h,p||!(o<0)){if(o/=p,p<0){if(o>c)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<c&&(c=o)}return!(l>0||c<1)||(l>0&&(t[0]=[u+l*f,h+l*p]),c<1&&(t[1]=[u+c*f,h+c*p]),!0)}}}}}function zi(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,u=t[0],h=t.left,l=t.right,c=h[0],f=h[1],p=l[0],d=l[1],g=(c+p)/2,y=(f+d)/2;if(d===f){if(g<e||g>=i)return;if(c>p){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(a=y-(s=(c-p)/(d-f))*g,s<-1||s>1)if(c>p){if(u){if(u[1]>=r)return}else u=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(u){if(u[1]<n)return}else u=[(r-a)/s,r];o=[(n-a)/s,n]}else if(f<d){if(u){if(u[0]>=i)return}else u=[e,s*e+a];o=[i,s*i+a]}else{if(u){if(u[0]<e)return}else u=[i,s*i+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Bi(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function qi(t,e){return e[+(e.left!==t.site)]}function Gi(t,e){return e[+(e.left===t.site)]}function Ui(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],u=i[0]-s,h=i[1]-a,l=o[0]-s,c=o[1]-a,f=2*(u*c-h*l);if(!(f>=-Wa)){var p=u*u+h*h,d=l*l+c*c,g=(c*p-h*d)/f,y=(u*d-l*p)/f,m=Ua.pop()||new function(){Li(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=r,m.x=g+s,m.y=(m.cy=y+a)+Math.sqrt(g*g+y*y),t.circle=m;for(var _=null,v=qa._;v;)if(m.y<v.y||m.y===v.y&&m.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}qa.insert(_,m),_||(Fa=m)}}}}function Hi(t){var e=t.circle;e&&(e.P||(Fa=e.N),qa.remove(e),Ua.push(e),Li(e),t.circle=null)}function Yi(t){var e=Ha.pop()||new function(){Li(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Wi(t){Hi(t),za.remove(t),Ha.push(t),Li(t)}function Xi(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];Wi(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Ya&&Math.abs(i-u.circle.cy)<Ya;)o=u.P,a.unshift(u),Wi(u),u=o;a.unshift(u),Hi(u);for(var h=s;h.circle&&Math.abs(n-h.circle.x)<Ya&&Math.abs(i-h.circle.cy)<Ya;)s=h.N,a.push(h),Wi(h),h=s;a.push(h),Hi(h);var l,c=a.length;for(l=1;l<c;++l)h=a[l],u=a[l-1],ji(h.edge,u.site,h.site,r);u=a[0],(h=a[c-1]).edge=Pi(u.site,h.site,null,r),Ui(u),Ui(h)}function Vi(t){for(var e,n,i,r,o=t[0],s=t[1],a=za._;a;)if((i=Ki(a,s)-o)>Ya)a=a.L;else{if(!((r=o-function(t,e){var n=t.N;if(n)return Ki(n,e);var i=t.site;return i[1]===e?i[0]:1/0}(a,s))>Ya)){i>-Ya?(e=a.P,n=a):r>-Ya?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Ba[t.index]={site:t,halfedges:[]}}(t);var u=Yi(t);if(za.insert(e,u),e||n){if(e===n)return Hi(e),n=Yi(e.site),za.insert(u,n),u.edge=n.edge=Pi(e.site,u.site),Ui(e),void Ui(n);if(n){Hi(e),Hi(n);var h=e.site,l=h[0],c=h[1],f=t[0]-l,p=t[1]-c,d=n.site,g=d[0]-l,y=d[1]-c,m=2*(f*y-p*g),_=f*f+p*p,v=g*g+y*y,b=[(y*_-p*v)/m+l,(f*v-g*_)/m+c];ji(n.edge,h,d,b),u.edge=Pi(h,t,null,b),n.edge=Pi(t,d,null,b),Ui(e),Ui(n)}else u.edge=Pi(e.site,u.site)}}function Ki(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],h=u-e;if(!h)return a;var l=a-i,c=1/o-1/h,f=l/h;return c?(-f+Math.sqrt(f*f-2*c*(l*l/(-2*h)-u+h/2+r-o/2)))/c+i:(i+a)/2}function $i(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Zi(t,e){return e[1]-t[1]||e[0]-t[0]}function Ji(t,e){var n,i,r,o=t.sort(Zi).pop();for(Ga=[],Ba=new Array(t.length),za=new Ni,qa=new Ni;;)if(r=Fa,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Vi(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Xi(r.arc)}if(function(){for(var t,e,n,i,r=0,o=Ba.length;r<o;++r)if((t=Ba[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=Bi(t,Ga[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],h=+e[1][1];!function(t,e,n,i){for(var r,o=Ga.length;o--;)zi(r=Ga[o],t,e,n,i)&&Fi(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Ya||Math.abs(r[0][1]-r[1][1])>Ya)||delete Ga[o]}(s,a,u,h),function(t,e,n,i){var r,o,s,a,u,h,l,c,f,p,d,g,y=Ba.length,m=!0;for(r=0;r<y;++r)if(o=Ba[r]){for(s=o.site,a=(u=o.halfedges).length;a--;)Ga[u[a]]||u.splice(a,1);for(a=0,h=u.length;a<h;)d=(p=Gi(o,Ga[u[a]]))[0],g=p[1],c=(l=qi(o,Ga[u[++a%h]]))[0],f=l[1],(Math.abs(d-c)>Ya||Math.abs(g-f)>Ya)&&(u.splice(a,0,Ga.push(Di(s,p,Math.abs(d-t)<Ya&&i-g>Ya?[t,Math.abs(c-t)<Ya?f:i]:Math.abs(g-i)<Ya&&n-d>Ya?[Math.abs(f-i)<Ya?c:n,i]:Math.abs(d-n)<Ya&&g-e>Ya?[n,Math.abs(c-n)<Ya?f:e]:Math.abs(g-e)<Ya&&d-t>Ya?[Math.abs(f-e)<Ya?c:t,e]:null))-1),++h);h&&(m=!1)}if(m){var _,v,b,x=1/0;for(r=0,m=null;r<y;++r)(o=Ba[r])&&(b=(_=(s=o.site)[0]-t)*_+(v=s[1]-e)*v)<x&&(x=b,m=o);if(m){var w=[t,e],E=[t,i],C=[n,i],S=[n,e];m.halfedges.push(Ga.push(Di(s=m.site,w,E))-1,Ga.push(Di(s,E,C))-1,Ga.push(Di(s,C,S))-1,Ga.push(Di(s,S,w))-1)}}for(r=0;r<y;++r)(o=Ba[r])&&(o.halfedges.length||delete Ba[r])}(s,a,u,h)}this.edges=Ga,this.cells=Ba,za=qa=Ga=Ba=null}function Qi(t){return(t=t.slice()).push(t[0]),o([t])}function tr(t,e,n,i){var r=(i=i||{}).steps||64,s=i.units||"kilometers",a=i.angle||0,u=i.pivot||t,h=i.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(i))throw new Error("options must be an object");if(!E(r))throw new Error("steps must be a number");if(!E(a))throw new Error("angle must be a number");var l=U(t);if("degrees"===s)var c=b(a);else e=Wn(t,e,90,{units:s}),n=Wn(t,n,0,{units:s}),e=U(e)[0]-l[0],n=U(n)[1]-l[1];for(var f=[],p=0;p<r;p+=1){var d=-360*p/r,g=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(er(d),2)),y=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(er(d),2));if(d<-90&&d>=-270&&(g=-g),d<-180&&d>=-360&&(y=-y),"degrees"===s){var m=g*Math.cos(c)+y*Math.sin(c),_=y*Math.cos(c)-g*Math.sin(c);g=m,y=_}f.push([g+l[0],y+l[1]])}return f.push(f[0]),"degrees"===s?o([f],h):ni(o([f],h),a,{pivot:u})}function er(t){var e=t*Math.PI/180;return Math.tan(e)}function nr(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.weight;if(!t)throw new Error("geojson is required");var o=0,s=0,a=0;return k(t,(function(t,e,n){var i=n[r];if(!E(i=null==i?1:i))throw new Error("weight value must be a number for feature index "+e);(i=Number(i))>0&&I(t,(function(t){o+=t[0]*i,s+=t[1]*i,a+=i}))})),i([o/a,s/a],n)}function ir(t,e,n,r){var o=n.properties.tolerance||.001,s=0,a=0,u=0,h=0;if(L(n,(function(e){var n=e.properties.weight,i=null==n?1:n;if(!E(i=Number(i)))throw new Error("weight value must be a number");if(i>0){h+=1;var r=i*Pt(e,t);0===r&&(r=1);var o=i/r;s+=e.geometry.coordinates[0]*o,a+=e.geometry.coordinates[1]*o,u+=o}})),h<1)throw new Error("no features to measure");var l=s/u,c=a/u;return 1===h||0===r||Math.abs(l-e[0])<o&&Math.abs(c-e[1])<o?i([l,c],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([l,c]),ir([l,c],t,n,r-1))}function rr(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function or(t){if(C(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*hr(),180*hr()]}function sr(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox;null!=t||(t=1);for(var r=[],o=0;o<t;o++)r.push(i(or(n)));return h(r)}function ar(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.num_vertices,r=e.max_radial_length;null!=t||(t=1),E(i)||(i=10),E(r)||(r=10);for(var s=[],a=0;a<t;a++){var u=[],l=Array.apply(null,new Array(i+1)).map(Math.random);l.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),l.forEach((function(t){t=2*t*Math.PI/l[l.length-1];var e=Math.random();u.push([e*r*Math.sin(t),e*r*Math.cos(t)])})),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(or(n))),s.push(o([u]))}return h(s)}function ur(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.num_vertices,r=e.max_length,o=e.max_rotation;null!=t||(t=1),(!E(i)||i<2)&&(i=10),E(r)||(r=1e-4),E(o)||(o=Math.PI/8);for(var s=[],u=0;u<t;u++){for(var l=[or(n)],c=0;c<i-1;c++){var f=(0===c?2*Math.random()*Math.PI:Math.tan((l[c][1]-l[c-1][1])/(l[c][0]-l[c-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*r;l.push([l[c][0]+p*Math.cos(f),l[c][1]+p*Math.sin(f)])}s.push(a(l))}return h(s)}function hr(){return Math.random()-.5}function lr(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return L(t,(function(t){dr(t.properties,e)&&n.push(t)})),h(n)}function cr(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var i=pr(t,e),r=Object.keys(i),o=0;o<r.length;o++){for(var s=r[o],a=i[s],u=[],l=0;l<a.length;l++)u.push(t.features[a[l]]);n(h(u),s,o)}}function fr(t,e,n,i){var r=i;return cr(t,e,(function(t,e,o){r=0===o&&void 0===i?t:n(r,t,e,o)})),r}function pr(t,e){var n={};return L(t,(function(t,i){var r=t.properties||{};if(r.hasOwnProperty(e)){var o=r[e];n.hasOwnProperty(o)?n[o].push(i):n[o]=[i]}})),n}function dr(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(!dr(t,e[i]))return!1;return!0}return gr(t,e)}function gr(t,e){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];if(t[r]!==e[r])return!1}return!0}function yr(t,e){if(!e)return{};if(!e.length)return{};for(var n={},i=0;i<e.length;i++){var r=e[i];t.hasOwnProperty(r)&&(n[r]=t[r])}return n}function mr(){}function _r(t){this.message=t||""}function vr(t){this.message=t||""}function br(){}function xr(t){return null===t?ph:t.color}function wr(t){return null===t?null:t.parent}function Er(t,e){null!==t&&(t.color=e)}function Cr(t){return null===t?null:t.left}function Sr(t){return null===t?null:t.right}function Mr(){this.root_=null,this.size_=0}function Ir(){}function Tr(){this.array_=[],arguments[0]instanceof Ju&&this.addAll(arguments[0])}function Or(){}function Nr(t){this.message=t||""}function Lr(){this.array_=[]}function Ar(t){switch(t.type){case"Polygon":return hn(t)>1?t:null;case"MultiPolygon":var e=[];if(D(t,(function(t){hn(t)>1&&e.push(t.geometry.coordinates)})),e.length)return{type:"MultiPolygon",coordinates:e}}}function Rr(){this.reset()}function kr(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function Pr(t){return t>1?vp:t<-1?-vp:Math.asin(t)}function Dr(){}function jr(t,e){t&&kp.hasOwnProperty(t.type)&&kp[t.type](t,e)}function Fr(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function zr(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Fr(t[n],e,1);e.polygonEnd()}function Br(t){return[Mp(t[1],t[0]),Pr(t[2])]}function qr(t){var e=t[0],n=t[1],i=Ip(n);return[i*Ip(e),i*Np(e),Np(n)]}function Gr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ur(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Hr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Yr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Wr(t){var e=Lp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Xr(t,e){return[t>_p?t-xp:t<-_p?t+xp:t,e]}function Vr(t,e,n){return(t%=xp)?e||n?Dp($r(t),Zr(e,n)):$r(t):e||n?Zr(e,n):Xr}function Kr(t){return function(e,n){return[(e+=t)>_p?e-xp:e<-_p?e+xp:e,n]}}function $r(t){var e=Kr(t);return e.invert=Kr(-t),e}function Zr(t,e){function n(t,e){var n=Ip(e),a=Ip(t)*n,u=Np(t)*n,h=Np(e),l=h*i+a*r;return[Mp(u*o-l*s,a*i-h*r),Pr(l*o+u*s)]}var i=Ip(t),r=Np(t),o=Ip(e),s=Np(e);return n.invert=function(t,e){var n=Ip(e),a=Ip(t)*n,u=Np(t)*n,h=Np(e),l=h*o-u*s;return[Mp(u*o+h*s,a*i+l*r),Pr(l*i-a*r)]},n}function Jr(t,e){(e=qr(e))[0]-=t,Wr(e);var n=function(t){return t>1?0:t<-1?_p:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+xp-mp)%xp}function Qr(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function to(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function eo(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,h){var l=0,c=0;if(null==r||(l=s(r,a))!==(c=s(o,a))||u(r,o)<0^a>0)do{h.point(0===l||3===l?t:n,l>1?i:e)}while((l=(l+a+4)%4)!==c);else h.point(o[0],o[1])}function s(i,r){return Cp(i[0]-t)<mp?r>0?0:3:Cp(i[0]-n)<mp?r>0?2:1:Cp(i[1]-e)<mp?r>0?1:0:r>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t,e){r(t,e)&&x.point(t,e)}function h(o,s){var a=r(o,s);if(c&&f.push([o,s]),v)p=o,d=s,g=a,v=!1,a&&(x.lineStart(),x.point(o,s));else if(a&&_)x.point(o,s);else{var u=[y=Math.max(Hp,Math.min(Up,y)),m=Math.max(Hp,Math.min(Up,m))],h=[o=Math.max(Hp,Math.min(Up,o)),s=Math.max(Hp,Math.min(Up,s))];Fp(u,h,t,e,n,i)?(_||(x.lineStart(),x.point(u[0],u[1])),x.point(h[0],h[1]),a||x.lineEnd(),b=!1):a&&(x.lineStart(),x.point(o,s),b=!1)}y=o,m=s,_=a}var l,c,f,p,d,g,y,m,_,v,b,x=s,w=jp(),E={point:u,lineStart:function(){E.point=h,c&&c.push(f=[]),v=!0,_=!1,y=m=NaN},lineEnd:function(){l&&(h(p,d),g&&_&&w.rejoin(),l.push(w.result())),E.point=u,_&&x.lineEnd()},polygonStart:function(){x=w,l=[],c=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=c.length;n<r;++n)for(var o,s,a=c[n],u=1,h=a.length,l=a[0],f=l[0],p=l[1];u<h;++u)o=f,s=p,f=(l=a[u])[0],p=l[1],s<=i?p>i&&(f-o)*(i-s)>(p-s)*(t-o)&&++e:p<=i&&(f-o)*(i-s)<(p-s)*(t-o)&&--e;return e}(),n=b&&e,r=(l=Gp(l)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&Bp(l,a,e,o,s),s.polygonEnd()),x=s,l=c=f=null}};return E}}function no(t){return t.length>1}function io(t,e){return((t=t.x)[0]<0?t[1]-vp-mp:vp-t[1])-((e=e.x)[0]<0?e[1]-vp-mp:vp-e[1])}function ro(t){return function(e){var n=new oo;for(var i in t)n[i]=t[i];return n.stream=e,n}}function oo(){}function so(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Pp(n,t.stream(Zp));var s=Zp.result(),a=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),u=+e[0][0]+(i-a*(s[1][0]+s[0][0]))/2,h=+e[0][1]+(r-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,h])}function ao(t,e){return[t,Op(Ap((vp+e)/2))]}function uo(t,e){return[Op(Ap((vp+e)/2)),-t]}function ho(t,n,i,r){var o=t.properties||{},s="Feature"===t.type?t.geometry:t;if("GeometryCollection"===s.type){var a=[];return k(t,(function(t){var e=ho(t,n,i,r);e&&a.push(e)})),h(a)}var u,l=G(t),c=l[1]>50&&l[3]>50;u=c?{type:s.type,coordinates:lo(s.coordinates,fo(s))}:Qe(s);var f,p=(new nl).read(u),d=g(y(n,i),"meters"),m=Xc.bufferOp(p,d);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((m=(new il).write(m)).coordinates))return(f=c?{type:m.type,coordinates:co(m.coordinates,fo(s))}:tn(m)).geometry?f:e(f,o)}function lo(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return lo(t,e)}))}function co(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return co(t,e)}))}function fo(t){var e=he(t).geometry.coordinates.reverse(),n=e.map((function(t){return-t}));return rd().center(e).rotate(n).scale(wo)}function po(){for(var t=new nl,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=dp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new il).write(e),properties:arguments[0].properties}}function go(t,n){var i=K(t),r=K(n);if(Kt(bn(r,{precision:4})).coordinates[0].length<4)return null;if(Kt(bn(i,{precision:4})).coordinates[0].length<4)return null;var o=new nl,s=o.read(bn(i)),a=o.read(bn(r)),u=op.intersection(s,a);return u.isEmpty()?null:e((new il).write(u))}function yo(t,e){return function(t,e,n){var i,r;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach((function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===r||o<r)&&(r=o,i=n)})),i}(t,e)}function mo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.properties||{},r=n.triangles,s=n.mask;if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(s&&-1===["Polygon","MultiPolygon"].indexOf(Z(s)))throw new Error("options.mask must be a (Multi)Polygon");var a=t[0],u=t[1],l=t[2],c=t[3],f=(u+c)/2,p=(a+l)/2,d=2*e/Pt([a,f],[l,f],n)*(l-a),g=2*e/Pt([p,u],[p,c],n)*(c-u),y=d/2,m=2*y,_=Math.sqrt(3)/2*g,v=l-a,b=c-u,x=.75*m,w=_,S=(v-m)/(m-y/2),M=Math.floor(S),I=(M*x-y/2-v)/2-y/2+x/2,T=Math.floor((b-_)/_),O=(b-T*_)/2,N=T*_-b>_/2;N&&(O-=_/4);for(var L=[],A=[],R=0;R<6;R++){var k=2*Math.PI/6*R;L.push(Math.cos(k)),A.push(Math.sin(k))}for(var P=[],D=0;D<=M;D++)for(var j=0;j<=T;j++){var F=D%2==1;if(!(0===j&&F||0===j&&N)){var z=D*x+a-I,B=j*w+u+O;if(F&&(B-=_/2),!0===r)(function(t,e,n,i,r,s){for(var a=[],u=0;u<6;u++){var h=[];h.push(t),h.push([t[0]+e*r[u],t[1]+n*s[u]]),h.push([t[0]+e*r[(u+1)%6],t[1]+n*s[(u+1)%6]]),h.push(t),a.push(o([h],i))}return a})([z,B],d/2,g/2,i,L,A).forEach((function(t){s?go(s,t)&&P.push(t):P.push(t)}));else{var q=function(t,e,n,i,r,s){for(var a=[],u=0;u<6;u++){var h=t[0]+e*r[u],l=t[1]+n*s[u];a.push([h,l])}return a.push(a[0].slice()),o([a],i)}([z,B],d/2,g/2,i,L,A);s?go(s,q)&&P.push(q):P.push(q)}}}return h(P)}function _o(t){if(t.features.length<=1)return t;var e=function(t){var e=Ao(),n=[];return D(t,(function(t,e){var i=G(t);n.push({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],geojson:t,index:e})})),e.load(n),e}(t),n=[],i={};return D(t,(function(t,r){if(i[r])return!0;for(e.remove({index:r},vo),i[r]=!0;;){var o=G(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0){var a=s.map((function(t){return i[t.index]=!0,e.remove({index:t.index},vo),t.geojson}));a.push(t),t=po.apply(this,a)}if(0===s.length)break}n.push(t)})),h(n)}function vo(t,e){return t.index===e.index}function bo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(Z(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],u=t[1],l=t[2],c=t[3],f=e/Pt([a,u],[l,u],n)*(l-a),p=e/Pt([a,u],[a,c],n)*(c-u),d=l-a,g=c-u,y=Math.floor(d/f),m=Math.floor(g/p),_=(g-m*p)/2,v=a+(d-y*f)/2,b=0;b<y;b++){for(var x=u+_,w=0;w<m;w++){var S=o([[[v,x],[v,x+p],[v+f,x+p],[v+f,x],[v,x]]],i);r?go(r,S)&&s.push(S):s.push(S),x+=p}v+=f}return h(s)}function xo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(Z(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=e/Pt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/Pt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),l=0,c=t[0];c<=t[2];){for(var f=0,p=t[1];p<=t[3];){var d=null,g=null;l%2==0&&f%2==0?(d=o([[[c,p],[c,p+u],[c+a,p],[c,p]]],i),g=o([[[c,p+u],[c+a,p+u],[c+a,p],[c,p+u]]],i)):l%2==0&&f%2==1?(d=o([[[c,p],[c+a,p+u],[c+a,p],[c,p]]],i),g=o([[[c,p],[c,p+u],[c+a,p+u],[c,p]]],i)):f%2==0&&l%2==1?(d=o([[[c,p],[c,p+u],[c+a,p+u],[c,p]]],i),g=o([[[c,p],[c+a,p+u],[c+a,p],[c,p]]],i)):f%2==1&&l%2==1&&(d=o([[[c,p],[c,p+u],[c+a,p],[c,p]]],i),g=o([[[c,p+u],[c+a,p+u],[c+a,p],[c,p+u]]],i)),r?(go(r,d)&&s.push(d),go(r,g)&&s.push(g)):(s.push(d),s.push(g)),p+=u,f++}l++,c+=a}return h(s)}var wo=6371008.8,Eo={meters:wo,metres:wo,millimeters:1e3*wo,millimetres:1e3*wo,centimeters:100*wo,centimetres:100*wo,kilometers:wo/1e3,kilometres:wo/1e3,miles:wo/1609.344,nauticalmiles:wo/1852,inches:39.37*wo,yards:wo/1.0936,feet:3.28084*wo,radians:1,degrees:wo/111325},Co={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/wo,degrees:1/111325},So={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Mo=Object.freeze({earthRadius:wo,factors:Eo,unitsFactors:Co,areaFactors:So,feature:e,geometry:n,point:i,points:r,polygon:o,polygons:s,lineString:a,lineStrings:u,featureCollection:h,multiLineString:l,multiPoint:c,multiPolygon:f,geometryCollection:p,round:d,radiansToLength:g,lengthToRadians:y,lengthToDegrees:m,bearingToAzimuth:_,radiansToDegrees:v,degreesToRadians:b,convertLength:x,convertArea:w,isNumber:E,isObject:C,validateBBox:S,validateId:M,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Io=Object.freeze({coordEach:I,coordReduce:T,propEach:O,propReduce:N,featureEach:L,featureReduce:A,coordAll:R,geomEach:k,geomReduce:P,flattenEach:D,flattenReduce:j,segmentEach:F,segmentReduce:z,lineEach:B,lineReduce:q}),To=Object.freeze({getCoord:U,getCoords:H,containsNumber:Y,geojsonType:W,featureOf:X,collectionOf:V,getGeom:K,getGeomType:$,getType:Z}),Oo={successCallback:null,verbose:!1},No={},Lo=function t(e,n,i,r,o){for(i=i||0,r=r||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};r>i;){if(r-i>600){var s=r-i+1,a=n-i+1,u=Math.log(s),h=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*h*(s-h)/s)*(a-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-a*h/s+l)),Math.min(r,Math.floor(n+(s-a)*h/s+l)),o)}var c=e[n],f=i,p=r;for(it(e,i,n),o(e[r],c)>0&&it(e,i,r);f<p;){for(it(e,f,p),f++,p--;o(e[f],c)<0;)f++;for(;o(e[p],c)>0;)p--}0===o(e[i],c)?it(e,i,p):it(e,++p,r),p<=n&&(i=p+1),n<=p&&(r=p-1)}},Ao=rt;rt.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!pt(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],pt(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):ft(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!pt(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],pt(t,s=e.leaf?n(o):o)){if(e.leaf||ft(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=dt([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,s=this.data,a=this.toBBox(t),u=[],h=[];s||u.length;){if(s||(s=u.pop(),i=u[u.length-1],n=h.pop(),o=!0),s.leaf&&-1!==(r=function(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}(t,s.children,e)))return s.children.splice(r,1),u.push(s),this._condense(u),this;o||s.leaf||!ft(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(u.push(s),h.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:ut,compareMinY:ht,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,s=this._maxEntries;if(o<=s)return ot(r=dt(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=dt([])).leaf=!1,r.height=i;var a,u,h,l,c=Math.ceil(o/s),f=c*Math.ceil(Math.sqrt(s));for(gt(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(gt(t,a,h=Math.min(a+f-1,n),c,this.compareMinY),u=a;u<=h;u+=c)l=Math.min(u+c-1,h),r.children.push(this._build(t,u,l,i-1));return ot(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,h,l,c;i.push(e),!e.leaf&&i.length-1!==n;){for(l=c=1/0,r=0,o=e.children.length;r<o;r++)u=lt(s=e.children[r]),(h=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<c?(c=h,l=u<l?u:l,a=s):h===c&&u<l&&(l=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),at(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=dt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,ot(n,this.toBBox),ot(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=dt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,a,u,h,l;for(u=h=1/0,i=e;i<=n-e;i++)s=function(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}(r=st(t,0,i,this.toBBox),o=st(t,i,n,this.toBBox)),a=lt(r)+lt(o),s<u?(u=s,l=i,h=a<h?a:h):s===u&&a<h&&(h=a,l=i);return l},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:ut,r=t.leaf?this.compareMinY:ht;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,a=st(t,0,e,s),u=st(t,n-e,n,s),h=ct(a)+ct(u);for(r=e;r<n-e;r++)o=t.children[r],at(a,t.leaf?s(o):o),h+=ct(a);for(r=n-e-1;r>=e;r--)o=t.children[r],at(u,t.leaf?s(o):o),h+=ct(u);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)at(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ot(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Ro=function(t,e,n){var i=t*e,r=ko*t,o=r-(r-t),s=t-o,a=ko*e,u=a-(a-e),h=e-u,l=s*h-(i-o*u-s*u-o*h);return n?(n[0]=l,n[1]=i,n):[l,i]},ko=+(Math.pow(2,27)+1),Po=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],e[0]);var r,o,s=new Array(n+i),a=0,u=0,h=0,l=Math.abs,c=t[u],f=l(c),p=e[h],d=l(p);f<d?(o=c,(u+=1)<n&&(f=l(c=t[u]))):(o=p,(h+=1)<i&&(d=l(p=e[h]))),u<n&&f<d||h>=i?(r=c,(u+=1)<n&&(f=l(c=t[u]))):(r=p,(h+=1)<i&&(d=l(p=e[h])));for(var g,y,m=r+o,_=m-r,v=o-_,b=v,x=m;u<n&&h<i;)f<d?(r=c,(u+=1)<n&&(f=l(c=t[u]))):(r=p,(h+=1)<i&&(d=l(p=e[h]))),(v=(o=b)-(_=(m=r+o)-r))&&(s[a++]=v),b=x-((g=x+m)-(y=g-x))+(m-y),x=g;for(;u<n;)(v=(o=b)-(_=(m=(r=c)+o)-r))&&(s[a++]=v),b=x-((g=x+m)-(y=g-x))+(m-y),x=g,(u+=1)<n&&(c=t[u]);for(;h<i;)(v=(o=b)-(_=(m=(r=p)+o)-r))&&(s[a++]=v),b=x-((g=x+m)-(y=g-x))+(m-y),x=g,(h+=1)<i&&(p=e[h]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s},Do=function(t,e,n){var i=t+e,r=i-t,o=e-r,s=t-(i-r);return n?(n[0]=s+o,n[1]=i,n):[s+o,i]},jo=function(t,e){var n=t.length;if(1===n){var i=Ro(t[0],e);return i[0]?i:[i[1]]}var r=new Array(2*n),o=[.1,.1],s=[.1,.1],a=0;Ro(t[0],e,o),o[0]&&(r[a++]=o[0]);for(var u=1;u<n;++u){Ro(t[u],e,s);var h=o[1];Do(h,s[0],o),o[0]&&(r[a++]=o[0]);var l=s[1],c=o[1],f=l+c,p=c-(f-l);o[1]=f,p&&(r[a++]=p)}return o[1]&&(r[a++]=o[1]),0===a&&(r[a++]=0),r.length=a,r},Fo=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],-e[0]);var r,o,s=new Array(n+i),a=0,u=0,h=0,l=Math.abs,c=t[u],f=l(c),p=-e[h],d=l(p);f<d?(o=c,(u+=1)<n&&(f=l(c=t[u]))):(o=p,(h+=1)<i&&(d=l(p=-e[h]))),u<n&&f<d||h>=i?(r=c,(u+=1)<n&&(f=l(c=t[u]))):(r=p,(h+=1)<i&&(d=l(p=-e[h])));for(var g,y,m=r+o,_=m-r,v=o-_,b=v,x=m;u<n&&h<i;)f<d?(r=c,(u+=1)<n&&(f=l(c=t[u]))):(r=p,(h+=1)<i&&(d=l(p=-e[h]))),(v=(o=b)-(_=(m=r+o)-r))&&(s[a++]=v),b=x-((g=x+m)-(y=g-x))+(m-y),x=g;for(;u<n;)(v=(o=b)-(_=(m=(r=c)+o)-r))&&(s[a++]=v),b=x-((g=x+m)-(y=g-x))+(m-y),x=g,(u+=1)<n&&(c=t[u]);for(;h<i;)(v=(o=b)-(_=(m=(r=p)+o)-r))&&(s[a++]=v),b=x-((g=x+m)-(y=g-x))+(m-y),x=g,(h+=1)<i&&(p=-e[h]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s},zo=yt((function(t){function e(t,e){for(var n=new Array(t.length-1),i=1;i<t.length;++i)for(var r=n[i-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(r[s++]=t[i][o]);return n}function n(t){return 1&t?"-":""}function i(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",i(t.slice(0,e)),",",i(t.slice(e)),")"].join("")}function r(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],s=0;s<t.length;++s)o.push(["scale(",i(r(e(t,s))),",",n(s),t[0][s],")"].join(""));return o}function o(t){for(var n=[],o=[],s=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var i=0;i<t;++i)e[n][i]=["m",i,"[",t-n-1,"]"].join("")}return e}(t),a=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,r(e(s,u))):o.push.apply(o,r(e(s,u))),a.push("m"+u);var h=i(n),l=i(o),c="orientation"+t+"Exact",f=["function ",c,"(",a.join(),"){var p=",h,",n=",l,",d=sub(p,n);return d[d.length-1];};return ",c].join("");return new Function("sum","prod","scale","sub",f)(Po,Ro,jo,Fo)}var s=o(3),a=o(4),u=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var i,r=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=r-o;if(r>0){if(o<=0)return a;i=r+o}else{if(!(r<0))return a;if(o>=0)return a;i=-(r+o)}var u=33306690738754716e-32*i;return a>=u||a<=-u?a:s(t,e,n)},function(t,e,n,i){var r=t[0]-i[0],o=e[0]-i[0],s=n[0]-i[0],u=t[1]-i[1],h=e[1]-i[1],l=n[1]-i[1],c=t[2]-i[2],f=e[2]-i[2],p=n[2]-i[2],d=o*l,g=s*h,y=s*u,m=r*l,_=r*h,v=o*u,b=c*(d-g)+f*(y-m)+p*(_-v),x=7771561172376103e-31*((Math.abs(d)+Math.abs(g))*Math.abs(c)+(Math.abs(y)+Math.abs(m))*Math.abs(f)+(Math.abs(_)+Math.abs(v))*Math.abs(p));return b>x||-b>x?b:a(t,e,n,i)}];!function(){for(;u.length<=5;)u.push(o(u.length));for(var e=[],n=["slow"],i=0;i<=5;++i)e.push("a"+i),n.push("o"+i);var r=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=5;++i)r.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(r.join(""));var s=Function.apply(void 0,n);for(t.exports=s.apply(void 0,[function(t){var e=u[t.length];return e||(e=u[t.length]=o(t.length)),e.apply(void 0,t)}].concat(u)),i=0;i<=5;++i)t.exports[i]=u[i]}()})),Bo=function(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var r=new Array(e);for(i=0;i<e;++i)r[i]=i;r.sort((function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]}));var o=[r[0],r[1]],s=[r[0],r[1]];for(i=2;i<e;++i){for(var a=r[i],u=t[a],h=o.length;h>1&&qo(t[o[h-2]],t[o[h-1]],u)<=0;)h-=1,o.pop();for(o.push(a),h=s.length;h>1&&qo(t[s[h-2]],t[s[h-1]],u)>=0;)h-=1,s.pop();s.push(a)}n=new Array(s.length+o.length-2);for(var l=0,c=(i=0,o.length);i<c;++i)n[l++]=o[i];for(var f=s.length-2;f>0;--f)n[l++]=s[f];return n},qo=zo[3],Go=mt,Uo=mt;mt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i},_down:function(t){for(var e=this.data,n=this.compare,i=this.length>>1,r=e[t];t<i;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,r)>=0)break;e[t]=a,t=o}e[t]=r}},Go.default=Uo;var Ho=function(t,e){for(var n=t[0],i=t[1],r=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],h=e[s][0],l=e[s][1];u>i!=l>i&&n<(h-a)*(i-u)/(l-u)+a&&(r=!r)}return r},Yo=zo[3],Wo=_t,Xo=_t;Wo.default=Xo;var Vo=function(t){return t},Ko=function(t){if(null==t)return Vo;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var u=2,h=t.length,l=new Array(h);for(l[0]=(e+=t[0])*i+o,l[1]=(n+=t[1])*r+s;u<h;)l[u]=t[u],++u;return l}},$o=function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n},Zo=function(t,e){function n(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach((function(t){i[t<0?~t:t]=1})),s.push(r)}}var i={},r={},o={},s=[],a=-1;return e.forEach((function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++a],e[a]=n,e[i]=r)})),e.forEach((function(e){var n,i,s=function(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=i[i.length-1],e<0?[n,r]:[r,n]}(e),a=s[0],u=s[1];if(n=o[a])if(delete o[n.end],n.push(e),n.end=u,i=r[u]){delete r[i.start];var h=i===n?n:n.concat(i);r[h.start=n.start]=o[h.end=i.end]=h}else r[n.start]=o[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=a,i=o[a]){delete o[i.end];var l=i===n?n:i.concat(n);r[l.start=i.start]=o[l.end=n.end]=l}else r[n.start]=o[n.end]=n;else r[(n=[e]).start=a]=o[n.end=u]=n})),n(o,r),n(r,o),e.forEach((function(t){i[t<0?~t:t]||s.push([t])})),s},Jo=function(t){return zt(t,Bt.apply(this,arguments))},Qo=function(t,e,n,i,r,o){3===arguments.length&&(i=o=Array,r=null);for(var s=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,h=0;h<t;++h)s[h]=r;return{set:function(i,o){for(var h=e(i)&u,l=s[h],c=0;l!=r;){if(n(l,i))return a[h]=o;if(++c>=t)throw new Error("full hashmap");l=s[h=h+1&u]}return s[h]=i,a[h]=o,o},maybeSet:function(i,o){for(var h=e(i)&u,l=s[h],c=0;l!=r;){if(n(l,i))return a[h];if(++c>=t)throw new Error("full hashmap");l=s[h=h+1&u]}return s[h]=i,a[h]=o,o},get:function(i,o){for(var h=e(i)&u,l=s[h],c=0;l!=r;){if(n(l,i))return a[h];if(++c>=t)break;l=s[h=h+1&u]}return o},keys:function(){for(var t=[],e=0,n=s.length;e<n;++e){var i=s[e];i!=r&&t.push(i)}return t}}},ts=function(t,e){return t[0]===e[0]&&t[1]===e[1]},es=new ArrayBuffer(16),ns=new Float64Array(es),is=new Uint32Array(es),rs=function(t){ns[0]=t[0],ns[1]=t[1];var e=is[0]^is[1];return 2147483647&(e<<5^e>>7^is[2]^is[3])},os=function(t){var e,n,i,r=function(t){function e(t,e,n,i){if(f[n]!==t){f[n]=t;var r=p[n];if(r>=0){var o=d[n];r===e&&o===i||r===i&&o===e||(++y,g[n]=1)}else p[n]=e,d[n]=i}}function n(t){return rs(u[t])}function i(t,e){return ts(u[t],u[e])}var r,o,s,a,u=t.coordinates,h=t.lines,l=t.rings,c=function(){for(var t=Qo(1.4*u.length,n,i,Int32Array,-1,Int32Array),e=new Int32Array(u.length),r=0,o=u.length;r<o;++r)e[r]=t.maybeSet(r,r);return e}(),f=new Int32Array(u.length),p=new Int32Array(u.length),d=new Int32Array(u.length),g=new Int8Array(u.length),y=0;for(r=0,o=u.length;r<o;++r)f[r]=p[r]=d[r]=-1;for(r=0,o=h.length;r<o;++r){var m=h[r],_=m[0],v=m[1];for(s=c[_],a=c[++_],++y,g[s]=1;++_<=v;)e(r,s,s=a,a=c[_]);++y,g[a]=1}for(r=0,o=u.length;r<o;++r)f[r]=-1;for(r=0,o=l.length;r<o;++r){var b=l[r],x=b[0]+1,w=b[1];for(e(r,c[w-1],s=c[x-1],a=c[x]);++x<=w;)e(r,s,s=a,a=c[x])}f=p=d=null;var E,C=function(t,e,n,i,r){3===arguments.length&&(i=Array,r=null);for(var o=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=r;return{add:function(i){for(var a=e(i)&s,u=o[a],h=0;u!=r;){if(n(u,i))return!0;if(++h>=t)throw new Error("full hashset");u=o[a=a+1&s]}return o[a]=i,!0},has:function(i){for(var a=e(i)&s,u=o[a],h=0;u!=r;){if(n(u,i))return!0;if(++h>=t)break;u=o[a=a+1&s]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var i=o[e];i!=r&&t.push(i)}return t}}}(1.4*y,rs,ts);for(r=0,o=u.length;r<o;++r)g[E=c[r]]&&C.add(u[E]);return C}(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,i=s.length;n<i;++n)for(var u=s[n],h=u[0],l=u[1];++h<l;)r.has(o[h])&&(e={0:h,1:u[1]},u[1]=h,u=u.next=e);for(n=0,i=a.length;n<i;++n)for(var c=a[n],f=c[0],p=f,d=c[1],g=r.has(o[f]);++p<d;)r.has(o[p])&&(g?(e={0:p,1:c[1]},c[1]=p,c=c.next=e):(function(t,e,n,i){qt(t,e,n),qt(t,e,e+i),qt(t,e+i,n)}(o,f,d,d-p),o[d]=o[f],g=!0,p=f));return t},ss=function(t,e){function n(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function i(t){var e=[];do{var n=h.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function r(t){return t.map(i)}var o=function(t){function e(t){null!=t&&h.hasOwnProperty(t.type)&&h[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>a&&(a=e),n<s&&(s=n),n>u&&(u=n)}function i(t){t.forEach(n)}function r(t){t.forEach(i)}var o=1/0,s=1/0,a=-1/0,u=-1/0,h={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){i(t.arcs)},MultiLineString:function(t){t.arcs.forEach(i)},Polygon:function(t){t.arcs.forEach(i)},MultiPolygon:function(t){t.arcs.forEach(r)}};for(var l in t)e(t[l]);return a>=o&&u>=s?[o,s,a,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Gt(t[e]);return n}(t)),s=e>0&&o&&function(t,e,n){function i(t){return[Math.round((t[0]-h)*p),Math.round((t[1]-l)*d)]}function r(t,e){for(var n,i,r,o,s,a=-1,u=0,c=t.length,f=new Array(c);++a<c;)n=t[a],o=Math.round((n[0]-h)*p),s=Math.round((n[1]-l)*d),o===i&&s===r||(f[u++]=[i=o,r=s]);for(f.length=u;u<e;)u=f.push([f[0][0],f[0][1]]);return f}function o(t){return r(t,2)}function s(t){return r(t,4)}function a(t){return t.map(s)}function u(t){null!=t&&g.hasOwnProperty(t.type)&&g[t.type](t)}var h=e[0],l=e[1],c=e[2],f=e[3],p=c-h?(n-1)/(c-h):1,d=f-l?(n-1)/(f-l):1,g={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=i(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(i)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=a(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(a)}};for(var y in t)u(t[y]);return{scale:[1/p,1/d],translate:[h,l]}}(t,o,e),a=function(t){function e(t){var e,n,i,r,o,s,a,u;if(i=p.get(e=h[t[0]]))for(a=0,u=i.length;a<u;++a)if(function(t,e){var n=t[0],i=e[0],r=t[1];if(n-r!=i-e[1])return!1;for(;n<=r;++n,++i)if(!ts(h[n],h[i]))return!1;return!0}(r=i[a],t))return t[0]=r[0],void(t[1]=r[1]);if(o=p.get(n=h[t[1]]))for(a=0,u=o.length;a<u;++a)if(function(t,e){var n=t[0],i=e[0],r=t[1],o=e[1];if(n-r!=i-o)return!1;for(;n<=r;++n,--o)if(!ts(h[n],h[o]))return!1;return!0}(s=o[a],t))return t[1]=s[0],void(t[0]=s[1]);i?i.push(t):p.set(e,[t]),o?o.push(t):p.set(n,[t]),d.push(t)}function n(t,e){var n=t[0],i=e[0],o=t[1]-n;if(o!==e[1]-i)return!1;for(var s=r(t),a=r(e),u=0;u<o;++u)if(!ts(h[n+(u+s)%o],h[i+(u+a)%o]))return!1;return!0}function i(t,e){var n=t[0],i=e[0],o=t[1],s=e[1],a=o-n;if(a!==s-i)return!1;for(var u=r(t),l=a-r(e),c=0;c<a;++c)if(!ts(h[n+(c+u)%a],h[s-(c+l)%a]))return!1;return!0}function r(t){for(var e=t[0],n=t[1],i=e,r=i,o=h[i];++i<n;){var s=h[i];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(r=i,o=s)}return r-e}var o,s,a,u,h=t.coordinates,l=t.lines,c=t.rings,f=l.length+c.length;for(delete t.lines,delete t.rings,a=0,u=l.length;a<u;++a)for(o=l[a];o=o.next;)++f;for(a=0,u=c.length;a<u;++a)for(s=c[a];s=s.next;)++f;var p=Qo(2*f*1.4,rs,ts),d=t.arcs=[];for(a=0,u=l.length;a<u;++a){o=l[a];do{e(o)}while(o=o.next)}for(a=0,u=c.length;a<u;++a)if((s=c[a]).next)do{e(s)}while(s=s.next);else!function(t){var e,o,s,a,u;if(o=p.get(h[t[0]]))for(a=0,u=o.length;a<u;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(i(s,t))return t[0]=s[1],void(t[1]=s[0])}if(o=p.get(e=h[t[0]+r(t)]))for(a=0,u=o.length;a<u;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(i(s,t))return t[0]=s[1],void(t[1]=s[0])}o?o.push(t):p.set(e,[t]),d.push(t)}(s);return t}(os(function(t){function e(t){t&&h.hasOwnProperty(t.type)&&h[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var i={0:o-n+1,1:o};return s.push(i),i}function i(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var i={0:o-n+1,1:o};return a.push(i),i}function r(t){return t.map(i)}var o=-1,s=[],a=[],u=[],h={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(r)}};for(var l in t)e(t[l]);return{type:"Topology",coordinates:u,lines:s,rings:a,objects:t}}(t))),u=a.coordinates,h=Qo(1.4*a.arcs.length,Yt,Wt);t=a.objects,a.bbox=o,a.arcs=a.arcs.map((function(t,e){return h.set(t,e),u.slice(t[0],t[1]+1)})),delete a.coordinates,u=null;var l={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=i(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(i)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(r)}};for(var c in t)n(t[c]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var i,r,o=t[e],s=0,a=1,u=o.length,h=o[0],l=h[0],c=h[1];++s<u;)i=(h=o[s])[0],r=h[1],i===l&&r===c||(o[a++]=[i-l,r-c],l=i,c=r);1===a&&(o[a++]=[0,0]),o.length=a}return t}(a.arcs)),a},as=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],i=this.points[e+1];this.centers.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],i=this.centers[e+1];var r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};as.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var r=this.pos(i);Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))>t&&(e.push(i),n=r)}return e},as.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},as.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n);return function(t,e,n,i,r){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*o[0]+i.x*o[1]+n.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+n.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])};var us=fe,hs=fe;fe.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(Me(t,0,o,n));if(r)for(var a=0,u=e.length;a<u;a++){var h=e[a]*n,l=a<u-1?e[a+1]*n:t.length;s-=Math.abs(Me(t,h,l,n))}var c=0;for(a=0;a<i.length;a+=3){var f=i[a]*n,p=i[a+1]*n,d=i[a+2]*n;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},fe.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n},us.default=hs,Le.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!Be(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],Be(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):ze(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Be(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],Be(t,s=e.leaf?n(o):o)){if(e.leaf||ze(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=qe([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,s=this.data,a=this.toBBox(t),u=[],h=[];s||u.length;){if(s||(s=u.pop(),i=u[u.length-1],n=h.pop(),o=!0),s.leaf&&-1!==(r=function(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}(t,s.children,e)))return s.children.splice(r,1),u.push(s),this._condense(u),this;o||s.leaf||!ze(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(u.push(s),h.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Pe,compareMinY:De,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,s=this._maxEntries;if(o<=s)return Ae(r=qe(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=qe([])).leaf=!1,r.height=i;var a,u,h,l,c=Math.ceil(o/s),f=c*Math.ceil(Math.sqrt(s));for(Ge(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(Ge(t,a,h=Math.min(a+f-1,n),c,this.compareMinY),u=a;u<=h;u+=c)l=Math.min(u+c-1,h),r.children.push(this._build(t,u,l,i-1));return Ae(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,h,l,c;i.push(e),!e.leaf&&i.length-1!==n;){for(l=c=1/0,r=0,o=e.children.length;r<o;r++)u=je(s=e.children[r]),(h=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<c?(c=h,l=u<l?u:l,a=s):h===c&&u<l&&(l=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),ke(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=qe(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,Ae(n,this.toBBox),Ae(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=qe([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Ae(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,a,u,h,l;for(u=h=1/0,i=e;i<=n-e;i++)s=function(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}(r=Re(t,0,i,this.toBBox),o=Re(t,i,n,this.toBBox)),a=je(r)+je(o),s<u?(u=s,l=i,h=a<h?a:h):s===u&&a<h&&(h=a,l=i);return l},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:Pe,r=t.leaf?this.compareMinY:De;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,a=Re(t,0,e,s),u=Re(t,n-e,n,s),h=Fe(a)+Fe(u);for(r=e;r<n-e;r++)o=t.children[r],ke(a,t.leaf?s(o):o),h+=Fe(a);for(r=n-e-1;r>=e;r--)o=t.children[r],ke(u,t.leaf?s(o):o),h+=Fe(u);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)ke(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Ae(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var ls=Object.freeze({toMercator:Qe,toWgs84:tn}),cs=6378137,fs=function(t){function e(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,i=0;i<d.features.length;i++)t[e]!=i&&Tt(d.features[t[e]].geometry.coordinates[0][0],d.features[i],{ignoreBoundary:!0})&&hn(d.features[i])<1/0&&(n=i);d.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,i(t,e)}}function i(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var r=e+d.features[n].properties.winding;d.features[n].properties.netWinding=r,i(n,r)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var r=t.geometry.coordinates.length,s=[],a=0;a<r;a++){var u=t.geometry.coordinates[a];En(u[0],u[u.length-1])||u.push(u[0]),s.push.apply(s,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,i=0,r=t.length;i<r;++i){if(e.hasOwnProperty(t[i])){n=0;break}e[t[i]]=1}return n}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var l=s.length,c=function(t,e,n){function i(t,n,i,r){var u,h,l=o[t][n],c=o[t][n+1],f=o[i][r],p=o[i][r+1],d=function(t,e,n,i){if(xn(t,n)||xn(t,i)||xn(e,n)||xn(i,n))return null;var r=t[0],o=t[1],s=e[0],a=e[1],u=n[0],h=n[1],l=i[0],c=i[1],f=(r-s)*(h-c)-(o-a)*(u-l);return 0===f?null:[((r*a-o*s)*(u-l)-(r-s)*(u*c-h*l))/f,((r*a-o*s)*(h-c)-(o-a)*(u*c-h*l))/f]}(l,c,f,p);if(null!==d&&(u=c[0]!==l[0]?(d[0]-l[0])/(c[0]-l[0]):(d[1]-l[1])/(c[1]-l[1]),h=p[0]!==f[0]?(d[0]-f[0])/(p[0]-f[0]):(d[1]-f[1])/(p[1]-f[1]),!(u>=1||u<=0||h>=1||h<=0))){var g=d,y=!a[g];y&&(a[g]=!0),e?s.push(e(d,t,n,l,c,u,i,r,f,p,h,y)):s.push(d)}}function r(t,e){var n,i,r,s,a=o[t][e],u=o[t][e+1];return a[0]<u[0]?(n=a[0],i=u[0]):(n=u[0],i=a[0]),a[1]<u[1]?(r=a[1],s=u[1]):(r=u[1],s=a[1]),{minX:n,minY:r,maxX:i,maxY:s,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,s=[],a={};if(n){for(var u=[],h=0;h<o.length;h++)for(var l=0;l<o[h].length-1;l++)u.push(r(h,l));var c=Ao();c.load(u)}for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length-1;p++)if(n)c.search(r(f,p)).forEach((function(t){var e=t.ring,n=t.edge;i(f,p,e,n)}));else for(var d=0;d<o.length;d++)for(var g=0;g<o[d].length-1;g++)i(f,p,d,g);return e||(s={type:"Feature",geometry:{type:"MultiPoint",coordinates:s}}),s}(t,(function(t,e,n,i,r,o,s,a,u,h,l,c){return[t,e,n,i,r,o,s,a,u,h,l,c]})),f=c.length;if(0==f){var p=[];for(a=0;a<r;a++)p.push(o([t.geometry.coordinates[a]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(wn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var i=1;else i=-1;return i}(t.geometry.coordinates[a])}));var d=h(p);return e(),n(),d}var g=[],y=[];for(a=0;a<r;a++){g.push([]);for(var m=0;m<t.geometry.coordinates[a].length-1;m++)g[a].push([new ps(t.geometry.coordinates[a][(m+1).modulo(t.geometry.coordinates[a].length-1)],1,[a,m],[a,(m+1).modulo(t.geometry.coordinates[a].length-1)],void 0)]),y.push(new ds(t.geometry.coordinates[a][m],[a,(m-1).modulo(t.geometry.coordinates[a].length-1)],[a,m],void 0,void 0,!1,!0))}for(a=0;a<f;a++)g[c[a][1]][c[a][2]].push(new ps(c[a][0],c[a][5],[c[a][1],c[a][2]],[c[a][6],c[a][7]],void 0)),c[a][11]&&y.push(new ds(c[a][0],[c[a][1],c[a][2]],[c[a][6],c[a][7]],void 0,void 0,!0,!0));var _=y.length;for(a=0;a<g.length;a++)for(m=0;m<g[a].length;m++)g[a][m].sort((function(t,e){return t.param<e.param?-1:1}));var v=[];for(a=0;a<_;a++)v.push({minX:y[a].coord[0],minY:y[a].coord[1],maxX:y[a].coord[0],maxY:y[a].coord[1],index:a});var b=Ao();for(b.load(v),a=0;a<g.length;a++)for(m=0;m<g[a].length;m++)for(var x=0;x<g[a][m].length;x++){E=x==g[a][m].length-1?g[a][(m+1).modulo(t.geometry.coordinates[a].length-1)][0].coord:g[a][m][x+1].coord;var w=b.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0];g[a][m][x].nxtIsectAlongEdgeIn=w.index}for(a=0;a<g.length;a++)for(m=0;m<g[a].length;m++)for(x=0;x<g[a][m].length;x++){var E=g[a][m][x].coord,C=(w=b.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0]).index;C<l?y[C].nxtIsectAlongRingAndEdge2=g[a][m][x].nxtIsectAlongEdgeIn:En(y[C].ringAndEdge1,g[a][m][x].ringAndEdgeIn)?y[C].nxtIsectAlongRingAndEdge1=g[a][m][x].nxtIsectAlongEdgeIn:y[C].nxtIsectAlongRingAndEdge2=g[a][m][x].nxtIsectAlongEdgeIn}var S=[];for(a=0,m=0;m<r;m++){var M=a;for(x=0;x<t.geometry.coordinates[m].length-1;x++)y[a].coord[0]<y[M].coord[0]&&(M=a),a++;var I=y[M].nxtIsectAlongRingAndEdge2;for(x=0;x<y.length;x++)if(y[x].nxtIsectAlongRingAndEdge1==M||y[x].nxtIsectAlongRingAndEdge2==M){var T=x;break}var O=wn([y[T].coord,y[M].coord,y[I].coord],!0)?1:-1;S.push({isect:M,parent:-1,winding:O})}for(S.sort((function(t,e){return y[t.isect].coord>y[e.isect].coord?-1:1})),p=[];S.length>0;){var N=S.pop(),L=N.isect,A=N.parent,R=N.winding,k=p.length,P=[y[L].coord],D=L;if(y[L].ringAndEdge1Walkable)var j=y[L].ringAndEdge1,F=y[L].nxtIsectAlongRingAndEdge1;else j=y[L].ringAndEdge2,F=y[L].nxtIsectAlongRingAndEdge2;for(;!En(y[L].coord,y[F].coord);){P.push(y[F].coord);var z=void 0;for(a=0;a<S.length;a++)if(S[a].isect==F){z=a;break}if(null!=z&&S.splice(z,1),En(j,y[F].ringAndEdge1)){if(j=y[F].ringAndEdge2,y[F].ringAndEdge2Walkable=!1,y[F].ringAndEdge1Walkable){var B={isect:F};wn([y[D].coord,y[F].coord,y[y[F].nxtIsectAlongRingAndEdge2].coord],1==R)?(B.parent=A,B.winding=-R):(B.parent=k,B.winding=R),S.push(B)}D=F,F=y[F].nxtIsectAlongRingAndEdge2}else j=y[F].ringAndEdge1,y[F].ringAndEdge1Walkable=!1,y[F].ringAndEdge2Walkable&&(B={isect:F},wn([y[D].coord,y[F].coord,y[y[F].nxtIsectAlongRingAndEdge1].coord],1==R)?(B.parent=A,B.winding=-R):(B.parent=k,B.winding=R),S.push(B)),D=F,F=y[F].nxtIsectAlongRingAndEdge1}P.push(y[F].coord),p.push(o([P],{index:k,parent:A,winding:R,netWinding:void 0}))}return d=h(p),e(),n(),d},ps=function(t,e,n,i,r){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=i,this.nxtIsectAlongEdgeIn=r},ds=function(t,e,n,i,r,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=i,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};Number.prototype.modulo=function(t){return(this%t+t)%t};var gs=Math.PI/180,ys=180/Math.PI,ms=function(t,e){this.lon=t,this.lat=e,this.x=gs*t,this.y=gs*e};ms.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},ms.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new ms(e,t)};var _s=function(){this.coords=[],this.length=0};_s.prototype.move_to=function(t){this.length++,this.coords.push(t)};var vs=function(t){this.properties=t||{},this.geometries=[]};vs.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},vs.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var bs=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new ms(t.x,t.y),this.end=new ms(e.x,e.y),this.properties=n||{};var i=this.start.x-this.end.x,r=this.start.y-this.end.y,o=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};bs.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=ys*Math.atan2(o,Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));return[ys*Math.atan2(r,i),s]},bs.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var i=1/(t-1),r=0;r<t;++r){var o=i*r,s=this.interpolate(o);n.push(s)}for(var a=!1,u=0,h=e&&e.offset?e.offset:10,l=180-h,c=-180+h,f=360-h,p=1;p<n.length;++p){var d=n[p-1][0],g=n[p][0],y=Math.abs(g-d);y>f&&(g>l&&d<c||d>l&&g<c)?a=!0:y>u&&(u=y)}var m=[];if(a&&u<h){var _=[];m.push(_);for(var v=0;v<n.length;++v){var b=parseFloat(n[v][0]);if(v>0&&Math.abs(b-n[v-1][0])>f){var x=parseFloat(n[v-1][0]),w=parseFloat(n[v-1][1]),E=parseFloat(n[v][0]),C=parseFloat(n[v][1]);if(x>-180&&x<c&&180===E&&v+1<n.length&&n[v-1][0]>-180&&n[v-1][0]<c){_.push([-180,n[v][1]]),v++,_.push([n[v][0],n[v][1]]);continue}if(x>l&&x<180&&-180===E&&v+1<n.length&&n[v-1][0]>l&&n[v-1][0]<180){_.push([180,n[v][1]]),v++,_.push([n[v][0],n[v][1]]);continue}if(x<c&&E>l){var S=x;x=E,E=S;var M=w;w=C,C=M}if(x>l&&E<c&&(E+=360),x<=180&&E>=180&&x<E){var I=(180-x)/(E-x),T=I*C+(1-I)*w;_.push([n[v-1][0]>l?180:-180,T]),(_=[]).push([n[v-1][0]>l?-180:180,T]),m.push(_)}else _=[],m.push(_);_.push([b,n[v][1]])}else _.push([n[v][0],n[v][1]])}}else{var O=[];m.push(O);for(var N=0;N<n.length;++N)O.push([n[N][0],n[N][1]])}for(var L=new vs(this.properties),A=0;A<m.length;++A){var R=new _s;L.geometries.push(R);for(var k=m[A],P=0;P<k.length;++P)R.move_to(k[P])}return L};var xs=Pn;Pn.polyline=Pn,Pn.polygon=function(t,e){var n,i,r,o,s,a,u;for(i=1;i<=8;i*=2){for(n=[],o=!(jn(r=t[t.length-1],e)&i),s=0;s<t.length;s++)(u=!(jn(a=t[s],e)&i))!==o&&n.push(Dn(r,a,i,e)),u&&n.push(a),r=a,o=u;if(!(t=n).length)break}return n};var ws=Array.prototype.slice,Es={successCallback:null,verbose:!1,polygons:!1},Cs={},Ss=64,Ms=16,Is=4,Ts=1,Os=[],Ns=[],Ls=[],As=[],Rs=[],ks=[],Ps=[],Ds=[],js=[],Fs=[],zs=[],Bs=[],qs=[],Gs=[],Us=[],Hs=[],Ys=[],Ws=[],Xs=[],Vs=[],Ks=[],$s=[],Zs=[],Js=[];Ps[85]=Fs[85]=-1,Ds[85]=zs[85]=0,js[85]=Bs[85]=1,Xs[85]=$s[85]=1,Vs[85]=Zs[85]=0,Ks[85]=Js[85]=1,Os[85]=As[85]=0,Ns[85]=Rs[85]=-1,Ls[85]=Us[85]=0,Hs[85]=qs[85]=0,Ys[85]=Gs[85]=1,ks[85]=Ws[85]=1,$s[1]=$s[169]=0,Zs[1]=Zs[169]=-1,Js[1]=Js[169]=0,qs[1]=qs[169]=-1,Gs[1]=Gs[169]=0,Us[1]=Us[169]=0,Fs[4]=Fs[166]=0,zs[4]=zs[166]=-1,Bs[4]=Bs[166]=1,Hs[4]=Hs[166]=1,Ys[4]=Ys[166]=0,Ws[4]=Ws[166]=0,Ps[16]=Ps[154]=0,Ds[16]=Ds[154]=1,js[16]=js[154]=1,As[16]=As[154]=1,Rs[16]=Rs[154]=0,ks[16]=ks[154]=1,Xs[64]=Xs[106]=0,Vs[64]=Vs[106]=1,Ks[64]=Ks[106]=0,Os[64]=Os[106]=-1,Ns[64]=Ns[106]=0,Ls[64]=Ls[106]=1,Xs[2]=Xs[168]=0,Vs[2]=Vs[168]=-1,Ks[2]=Ks[168]=1,$s[2]=$s[168]=0,Zs[2]=Zs[168]=-1,Js[2]=Js[168]=0,qs[2]=qs[168]=-1,Gs[2]=Gs[168]=0,Us[2]=Us[168]=0,Hs[2]=Hs[168]=-1,Ys[2]=Ys[168]=0,Ws[2]=Ws[168]=1,Ps[8]=Ps[162]=0,Ds[8]=Ds[162]=-1,js[8]=js[162]=0,Fs[8]=Fs[162]=0,zs[8]=zs[162]=-1,Bs[8]=Bs[162]=1,qs[8]=qs[162]=1,Gs[8]=Gs[162]=0,Us[8]=Us[162]=1,Hs[8]=Hs[162]=1,Ys[8]=Ys[162]=0,Ws[8]=Ws[162]=0,Ps[32]=Ps[138]=0,Ds[32]=Ds[138]=1,js[32]=js[138]=1,Fs[32]=Fs[138]=0,zs[32]=zs[138]=1,Bs[32]=Bs[138]=0,Os[32]=Os[138]=1,Ns[32]=Ns[138]=0,Ls[32]=Ls[138]=0,As[32]=As[138]=1,Rs[32]=Rs[138]=0,ks[32]=ks[138]=1,$s[128]=$s[42]=0,Zs[128]=Zs[42]=1,Js[128]=Js[42]=1,Xs[128]=Xs[42]=0,Vs[128]=Vs[42]=1,Ks[128]=Ks[42]=0,Os[128]=Os[42]=-1,Ns[128]=Ns[42]=0,Ls[128]=Ls[42]=1,As[128]=As[42]=-1,Rs[128]=Rs[42]=0,ks[128]=ks[42]=0,Fs[5]=Fs[165]=-1,zs[5]=zs[165]=0,Bs[5]=Bs[165]=0,$s[5]=$s[165]=1,Zs[5]=Zs[165]=0,Js[5]=Js[165]=0,Hs[20]=Hs[150]=0,Ys[20]=Ys[150]=1,Ws[20]=Ws[150]=1,As[20]=As[150]=0,Rs[20]=Rs[150]=-1,ks[20]=ks[150]=1,Ps[80]=Ps[90]=-1,Ds[80]=Ds[90]=0,js[80]=js[90]=1,Xs[80]=Xs[90]=1,Vs[80]=Vs[90]=0,Ks[80]=Ks[90]=1,qs[65]=qs[105]=0,Gs[65]=Gs[105]=1,Us[65]=Us[105]=0,Os[65]=Os[105]=0,Ns[65]=Ns[105]=-1,Ls[65]=Ls[105]=0,Ps[160]=Ps[10]=-1,Ds[160]=Ds[10]=0,js[160]=js[10]=1,Fs[160]=Fs[10]=-1,zs[160]=zs[10]=0,Bs[160]=Bs[10]=0,$s[160]=$s[10]=1,Zs[160]=Zs[10]=0,Js[160]=Js[10]=0,Xs[160]=Xs[10]=1,Vs[160]=Vs[10]=0,Ks[160]=Ks[10]=1,Hs[130]=Hs[40]=0,Ys[130]=Ys[40]=1,Ws[130]=Ws[40]=1,qs[130]=qs[40]=0,Gs[130]=Gs[40]=1,Us[130]=Us[40]=0,Os[130]=Os[40]=0,Ns[130]=Ns[40]=-1,Ls[130]=Ls[40]=0,As[130]=As[40]=0,Rs[130]=Rs[40]=-1,ks[130]=ks[40]=1,Fs[37]=Fs[133]=0,zs[37]=zs[133]=1,Bs[37]=Bs[133]=1,$s[37]=$s[133]=0,Zs[37]=Zs[133]=1,Js[37]=Js[133]=0,Os[37]=Os[133]=-1,Ns[37]=Ns[133]=0,Ls[37]=Ls[133]=0,As[37]=As[133]=1,Rs[37]=Rs[133]=0,ks[37]=ks[133]=0,Hs[148]=Hs[22]=-1,Ys[148]=Ys[22]=0,Ws[148]=Ws[22]=0,$s[148]=$s[22]=0,Zs[148]=Zs[22]=-1,Js[148]=Js[22]=1,Xs[148]=Xs[22]=0,Vs[148]=Vs[22]=1,Ks[148]=Ks[22]=1,As[148]=As[22]=-1,Rs[148]=Rs[22]=0,ks[148]=ks[22]=1,Ps[82]=Ps[88]=0,Ds[82]=Ds[88]=-1,js[82]=js[88]=1,Hs[82]=Hs[88]=1,Ys[82]=Ys[88]=0,Ws[82]=Ws[88]=1,qs[82]=qs[88]=-1,Gs[82]=Gs[88]=0,Us[82]=Us[88]=1,Xs[82]=Xs[88]=0,Vs[82]=Vs[88]=-1,Ks[82]=Ks[88]=0,Ps[73]=Ps[97]=0,Ds[73]=Ds[97]=1,js[73]=js[97]=0,Fs[73]=Fs[97]=0,zs[73]=zs[97]=-1,Bs[73]=Bs[97]=0,qs[73]=qs[97]=1,Gs[73]=Gs[97]=0,Us[73]=Us[97]=0,Os[73]=Os[97]=1,Ns[73]=Ns[97]=0,Ls[73]=Ls[97]=1,Ps[145]=Ps[25]=0,Ds[145]=Ds[25]=-1,js[145]=js[25]=0,qs[145]=qs[25]=1,Gs[145]=Gs[25]=0,Us[145]=Us[25]=1,$s[145]=$s[25]=0,Zs[145]=Zs[25]=1,Js[145]=Js[25]=1,As[145]=As[25]=-1,Rs[145]=Rs[25]=0,ks[145]=ks[25]=0,Fs[70]=Fs[100]=0,zs[70]=zs[100]=1,Bs[70]=Bs[100]=0,Hs[70]=Hs[100]=-1,Ys[70]=Ys[100]=0,Ws[70]=Ws[100]=1,Xs[70]=Xs[100]=0,Vs[70]=Vs[100]=-1,Ks[70]=Ks[100]=1,Os[70]=Os[100]=1,Ns[70]=Ns[100]=0,Ls[70]=Ls[100]=0,Fs[101]=Fs[69]=0,zs[101]=zs[69]=1,Bs[101]=Bs[69]=0,Os[101]=Os[69]=1,Ns[101]=Ns[69]=0,Ls[101]=Ls[69]=0,$s[149]=$s[21]=0,Zs[149]=Zs[21]=1,Js[149]=Js[21]=1,As[149]=As[21]=-1,Rs[149]=Rs[21]=0,ks[149]=ks[21]=0,Hs[86]=Hs[84]=-1,Ys[86]=Ys[84]=0,Ws[86]=Ws[84]=1,Xs[86]=Xs[84]=0,Vs[86]=Vs[84]=-1,Ks[86]=Ks[84]=1,Ps[89]=Ps[81]=0,Ds[89]=Ds[81]=-1,js[89]=js[81]=0,qs[89]=qs[81]=1,Gs[89]=Gs[81]=0,Us[89]=Us[81]=1,Ps[96]=Ps[74]=0,Ds[96]=Ds[74]=1,js[96]=js[74]=0,Fs[96]=Fs[74]=-1,zs[96]=zs[74]=0,Bs[96]=Bs[74]=1,Xs[96]=Xs[74]=1,Vs[96]=Vs[74]=0,Ks[96]=Ks[74]=0,Os[96]=Os[74]=1,Ns[96]=Ns[74]=0,Ls[96]=Ls[74]=1,Ps[24]=Ps[146]=0,Ds[24]=Ds[146]=-1,js[24]=js[146]=1,Hs[24]=Hs[146]=1,Ys[24]=Ys[146]=0,Ws[24]=Ws[146]=1,qs[24]=qs[146]=0,Gs[24]=Gs[146]=1,Us[24]=Us[146]=1,As[24]=As[146]=0,Rs[24]=Rs[146]=-1,ks[24]=ks[146]=0,Fs[6]=Fs[164]=-1,zs[6]=zs[164]=0,Bs[6]=Bs[164]=1,Hs[6]=Hs[164]=-1,Ys[6]=Ys[164]=0,Ws[6]=Ws[164]=0,$s[6]=$s[164]=0,Zs[6]=Zs[164]=-1,Js[6]=Js[164]=1,Xs[6]=Xs[164]=1,Vs[6]=Vs[164]=0,Ks[6]=Ks[164]=0,qs[129]=qs[41]=0,Gs[129]=Gs[41]=1,Us[129]=Us[41]=1,$s[129]=$s[41]=0,Zs[129]=Zs[41]=1,Js[129]=Js[41]=0,Os[129]=Os[41]=-1,Ns[129]=Ns[41]=0,Ls[129]=Ls[41]=0,As[129]=As[41]=0,Rs[129]=Rs[41]=-1,ks[129]=ks[41]=0,Hs[66]=Hs[104]=0,Ys[66]=Ys[104]=1,Ws[66]=Ws[104]=0,qs[66]=qs[104]=-1,Gs[66]=Gs[104]=0,Us[66]=Us[104]=1,Xs[66]=Xs[104]=0,Vs[66]=Vs[104]=-1,Ks[66]=Ks[104]=0,Os[66]=Os[104]=0,Ns[66]=Ns[104]=-1,Ls[66]=Ls[104]=1,Ps[144]=Ps[26]=-1,Ds[144]=Ds[26]=0,js[144]=js[26]=0,$s[144]=$s[26]=1,Zs[144]=Zs[26]=0,Js[144]=Js[26]=1,Xs[144]=Xs[26]=0,Vs[144]=Vs[26]=1,Ks[144]=Ks[26]=1,As[144]=As[26]=-1,Rs[144]=Rs[26]=0,ks[144]=ks[26]=1,Fs[36]=Fs[134]=0,zs[36]=zs[134]=1,Bs[36]=Bs[134]=1,Hs[36]=Hs[134]=0,Ys[36]=Ys[134]=1,Ws[36]=Ws[134]=0,Os[36]=Os[134]=0,Ns[36]=Ns[134]=-1,Ls[36]=Ls[134]=1,As[36]=As[134]=1,Rs[36]=Rs[134]=0,ks[36]=ks[134]=0,Ps[9]=Ps[161]=-1,Ds[9]=Ds[161]=0,js[9]=js[161]=0,Fs[9]=Fs[161]=0,zs[9]=zs[161]=-1,Bs[9]=Bs[161]=0,qs[9]=qs[161]=1,Gs[9]=Gs[161]=0,Us[9]=Us[161]=0,$s[9]=$s[161]=1,Zs[9]=Zs[161]=0,Js[9]=Js[161]=1,Ps[136]=0,Ds[136]=1,js[136]=1,Fs[136]=0,zs[136]=1,Bs[136]=0,Hs[136]=-1,Ys[136]=0,Ws[136]=1,qs[136]=-1,Gs[136]=0,Us[136]=0,$s[136]=0,Zs[136]=-1,Js[136]=0,Xs[136]=0,Vs[136]=-1,Ks[136]=1,Os[136]=1,Ns[136]=0,Ls[136]=0,As[136]=1,Rs[136]=0,ks[136]=1,Ps[34]=0,Ds[34]=-1,js[34]=0,Fs[34]=0,zs[34]=-1,Bs[34]=1,Hs[34]=1,Ys[34]=0,Ws[34]=0,qs[34]=1,Gs[34]=0,Us[34]=1,$s[34]=0,Zs[34]=1,Js[34]=1,Xs[34]=0,Vs[34]=1,Ks[34]=0,Os[34]=-1,Ns[34]=0,Ls[34]=1,As[34]=-1,Rs[34]=0,ks[34]=0,Ps[35]=0,Ds[35]=1,js[35]=1,Fs[35]=0,zs[35]=-1,Bs[35]=1,Hs[35]=1,Ys[35]=0,Ws[35]=0,qs[35]=-1,Gs[35]=0,Us[35]=0,$s[35]=0,Zs[35]=-1,Js[35]=0,Xs[35]=0,Vs[35]=1,Ks[35]=0,Os[35]=-1,Ns[35]=0,Ls[35]=1,As[35]=1,Rs[35]=0,ks[35]=1,Ps[153]=0,Ds[153]=1,js[153]=1,qs[153]=-1,Gs[153]=0,Us[153]=0,$s[153]=0,Zs[153]=-1,Js[153]=0,As[153]=1,Rs[153]=0,ks[153]=1,Fs[102]=0,zs[102]=-1,Bs[102]=1,Hs[102]=1,Ys[102]=0,Ws[102]=0,Xs[102]=0,Vs[102]=1,Ks[102]=0,Os[102]=-1,Ns[102]=0,Ls[102]=1,Ps[155]=0,Ds[155]=-1,js[155]=0,qs[155]=1,Gs[155]=0,Us[155]=1,$s[155]=0,Zs[155]=1,Js[155]=1,As[155]=-1,Rs[155]=0,ks[155]=0,Fs[103]=0,zs[103]=1,Bs[103]=0,Hs[103]=-1,Ys[103]=0,Ws[103]=1,Xs[103]=0,Vs[103]=-1,Ks[103]=1,Os[103]=1,Ns[103]=0,Ls[103]=0,Ps[152]=0,Ds[152]=1,js[152]=1,Hs[152]=-1,Ys[152]=0,Ws[152]=1,qs[152]=-1,Gs[152]=0,Us[152]=0,$s[152]=0,Zs[152]=-1,Js[152]=0,Xs[152]=0,Vs[152]=-1,Ks[152]=1,As[152]=1,Rs[152]=0,ks[152]=1,Ps[156]=0,Ds[156]=-1,js[156]=1,Hs[156]=1,Ys[156]=0,Ws[156]=1,qs[156]=-1,Gs[156]=0,Us[156]=0,$s[156]=0,Zs[156]=-1,Js[156]=0,Xs[156]=0,Vs[156]=1,Ks[156]=1,As[156]=-1,Rs[156]=0,ks[156]=1,Ps[137]=0,Ds[137]=1,js[137]=1,Fs[137]=0,zs[137]=1,Bs[137]=0,qs[137]=-1,Gs[137]=0,Us[137]=0,$s[137]=0,Zs[137]=-1,Js[137]=0,Os[137]=1,Ns[137]=0,Ls[137]=0,As[137]=1,Rs[137]=0,ks[137]=1,Ps[139]=0,Ds[139]=1,js[139]=1,Fs[139]=0,zs[139]=-1,Bs[139]=0,qs[139]=1,Gs[139]=0,Us[139]=0,$s[139]=0,Zs[139]=1,Js[139]=0,Os[139]=-1,Ns[139]=0,Ls[139]=0,As[139]=1,Rs[139]=0,ks[139]=1,Ps[98]=0,Ds[98]=-1,js[98]=0,Fs[98]=0,zs[98]=-1,Bs[98]=1,Hs[98]=1,Ys[98]=0,Ws[98]=0,qs[98]=1,Gs[98]=0,Us[98]=1,Xs[98]=0,Vs[98]=1,Ks[98]=0,Os[98]=-1,Ns[98]=0,Ls[98]=1,Ps[99]=0,Ds[99]=1,js[99]=0,Fs[99]=0,zs[99]=-1,Bs[99]=1,Hs[99]=1,Ys[99]=0,Ws[99]=0,qs[99]=-1,Gs[99]=0,Us[99]=1,Xs[99]=0,Vs[99]=-1,Ks[99]=0,Os[99]=1,Ns[99]=0,Ls[99]=1,Fs[38]=0,zs[38]=-1,Bs[38]=1,Hs[38]=1,Ys[38]=0,Ws[38]=0,$s[38]=0,Zs[38]=1,Js[38]=1,Xs[38]=0,Vs[38]=1,Ks[38]=0,Os[38]=-1,Ns[38]=0,Ls[38]=1,As[38]=-1,Rs[38]=0,ks[38]=0,Fs[39]=0,zs[39]=1,Bs[39]=1,Hs[39]=-1,Ys[39]=0,Ws[39]=0,$s[39]=0,Zs[39]=-1,Js[39]=1,Xs[39]=0,Vs[39]=1,Ks[39]=0,Os[39]=-1,Ns[39]=0,Ls[39]=1,As[39]=1,Rs[39]=0,ks[39]=0;var Qs=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ta=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ea=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},na=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},ia=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},ra=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},oa=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},sa=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},aa=[],ua=[],ha=[],la=[],ca=[],fa=[],pa=[],da=[];la[1]=ca[1]=18,la[169]=ca[169]=18,ha[4]=ua[4]=12,ha[166]=ua[166]=12,aa[16]=da[16]=4,aa[154]=da[154]=4,fa[64]=pa[64]=22,fa[106]=pa[106]=22,ha[2]=fa[2]=17,la[2]=ca[2]=18,ha[168]=fa[168]=17,la[168]=ca[168]=18,aa[8]=la[8]=9,ua[8]=ha[8]=12,aa[162]=la[162]=9,ua[162]=ha[162]=12,aa[32]=da[32]=4,ua[32]=pa[32]=1,aa[138]=da[138]=4,ua[138]=pa[138]=1,ca[128]=da[128]=21,fa[128]=pa[128]=22,ca[42]=da[42]=21,fa[42]=pa[42]=22,ua[5]=ca[5]=14,ua[165]=ca[165]=14,ha[20]=da[20]=6,ha[150]=da[150]=6,aa[80]=fa[80]=11,aa[90]=fa[90]=11,la[65]=pa[65]=3,la[105]=pa[105]=3,aa[160]=fa[160]=11,ua[160]=ca[160]=14,aa[10]=fa[10]=11,ua[10]=ca[10]=14,ha[130]=da[130]=6,la[130]=pa[130]=3,ha[40]=da[40]=6,la[40]=pa[40]=3,ua[101]=pa[101]=1,ua[69]=pa[69]=1,ca[149]=da[149]=21,ca[21]=da[21]=21,ha[86]=fa[86]=17,ha[84]=fa[84]=17,aa[89]=la[89]=9,aa[81]=la[81]=9,aa[96]=pa[96]=0,ua[96]=fa[96]=15,aa[74]=pa[74]=0,ua[74]=fa[74]=15,aa[24]=ha[24]=8,la[24]=da[24]=7,aa[146]=ha[146]=8,la[146]=da[146]=7,ua[6]=fa[6]=15,ha[6]=ca[6]=16,ua[164]=fa[164]=15,ha[164]=ca[164]=16,la[129]=da[129]=7,ca[129]=pa[129]=20,la[41]=da[41]=7,ca[41]=pa[41]=20,ha[66]=pa[66]=2,la[66]=fa[66]=19,ha[104]=pa[104]=2,la[104]=fa[104]=19,aa[144]=ca[144]=10,fa[144]=da[144]=23,aa[26]=ca[26]=10,fa[26]=da[26]=23,ua[36]=da[36]=5,ha[36]=pa[36]=2,ua[134]=da[134]=5,ha[134]=pa[134]=2,aa[9]=ca[9]=10,ua[9]=la[9]=13,aa[161]=ca[161]=10,ua[161]=la[161]=13,ua[37]=da[37]=5,ca[37]=pa[37]=20,ua[133]=da[133]=5,ca[133]=pa[133]=20,ha[148]=ca[148]=16,fa[148]=da[148]=23,ha[22]=ca[22]=16,fa[22]=da[22]=23,aa[82]=ha[82]=8,la[82]=fa[82]=19,aa[88]=ha[88]=8,la[88]=fa[88]=19,aa[73]=pa[73]=0,ua[73]=la[73]=13,aa[97]=pa[97]=0,ua[97]=la[97]=13,aa[145]=la[145]=9,ca[145]=da[145]=21,aa[25]=la[25]=9,ca[25]=da[25]=21,ua[70]=pa[70]=1,ha[70]=fa[70]=17,ua[100]=pa[100]=1,ha[100]=fa[100]=17,aa[34]=la[34]=9,ua[34]=ha[34]=12,ca[34]=da[34]=21,fa[34]=pa[34]=22,aa[136]=da[136]=4,ua[136]=pa[136]=1,ha[136]=fa[136]=17,la[136]=ca[136]=18,aa[35]=da[35]=4,ua[35]=ha[35]=12,la[35]=ca[35]=18,fa[35]=pa[35]=22,aa[153]=da[153]=4,la[153]=ca[153]=18,ua[102]=ha[102]=12,fa[102]=pa[102]=22,aa[155]=la[155]=9,ca[155]=da[155]=23,ua[103]=pa[103]=1,ha[103]=fa[103]=17,aa[152]=da[152]=4,ha[152]=fa[152]=17,la[152]=ca[152]=18,aa[156]=ha[156]=8,la[156]=ca[156]=18,fa[156]=da[156]=23,aa[137]=da[137]=4,ua[137]=pa[137]=1,la[137]=ca[137]=18,aa[139]=da[139]=4,ua[139]=la[139]=13,ca[139]=pa[139]=20,aa[98]=la[98]=9,ua[98]=ha[98]=12,fa[98]=pa[98]=22,aa[99]=pa[99]=0,ua[99]=ha[99]=12,la[99]=fa[99]=19,ua[38]=ha[38]=12,ca[38]=da[38]=21,fa[38]=pa[38]=22,ua[39]=da[39]=5,ha[39]=ca[39]=16,fa[39]=pa[39]=22;var ga=[];ga[1]=ga[169]=Qs,ga[4]=ga[166]=ta,ga[16]=ga[154]=ea,ga[64]=ga[106]=na,ga[168]=ga[2]=ia,ga[162]=ga[8]=ra,ga[138]=ga[32]=oa,ga[42]=ga[128]=sa,ga[5]=ga[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},ga[20]=ga[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},ga[80]=ga[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},ga[65]=ga[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ga[160]=ga[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},ga[130]=ga[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},ga[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ga[101]=ga[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},ga[149]=ga[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},ga[86]=ga[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},ga[89]=ga[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},ga[96]=ga[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},ga[24]=ga[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ga[6]=ga[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},ga[129]=ga[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},ga[66]=ga[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ga[144]=ga[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ga[36]=ga[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},ga[9]=ga[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ga[37]=ga[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ga[148]=ga[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ga[82]=ga[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},ga[73]=ga[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ga[145]=ga[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ga[70]=ga[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ga[34]=function(t){return[sa(t),ra(t)]},ga[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ga[136]=function(t){return[oa(t),ia(t)]},ga[153]=function(t){return[ea(t),Qs(t)]},ga[102]=function(t){return[ta(t),na(t)]},ga[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ga[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ga[152]=function(t){return[ea(t),ia(t)]},ga[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ga[137]=function(t){return[oa(t),Qs(t)]},ga[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ga[98]=function(t){return[ra(t),na(t)]},ga[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ga[38]=function(t){return[ta(t),sa(t)]},ga[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var ya=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};ya.buildId=function(t){return t.join(",")},ya.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},ya.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},ya.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},ya.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var i=e.to,r=n.to;if(i.coordinates[0]-t.coordinates[0]>=0&&r.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&r.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&r.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||r.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-r.coordinates[1]:r.coordinates[1]-i.coordinates[1];var o=ui(t.coordinates,i.coordinates,r.coordinates);return o<0?1:o>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},ya.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},ya.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},ya.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var ma=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};ma.prototype.getSymetric=function(){return this.symetric||(this.symetric=new ma(this.to,this.from),this.symetric.symetric=this),this.symetric},ma.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},ma.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},ma.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},ma.prototype.toLineString=function(){return a([this.from.coordinates,this.to.coordinates])},ma.prototype.compareTo=function(t){return ui(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var _a=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},va={length:{configurable:!0}};_a.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},_a.prototype.get=function(t){return this.edges[t]},va.length.get=function(){return this.edges.length},_a.prototype.forEach=function(t){this.edges.forEach(t)},_a.prototype.map=function(t){return this.edges.map(t)},_a.prototype.some=function(t){return this.edges.some(t)},_a.prototype.isValid=function(){return!0},_a.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,i){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=i),e}),0),n=(0===e?this.length:e)-1,i=(e+1)%this.length,r=ui(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return 0===r?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:r>0},_a.prototype.toMultiPoint=function(){return c(this.edges.map((function(t){return t.from.coordinates})))},_a.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},_a.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=re(this.toPolygon())},_a.findEdgeRingContaining=function(t,e){var n,r,o=t.getEnvelope();return e.forEach((function(e){var s=e.getEnvelope();if(r&&(n=r.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map((function(t){return t[0]})),i=t.geometry.coordinates.map((function(t){return t[1]})),r=e.geometry.coordinates.map((function(t){return t[0]})),o=e.geometry.coordinates.map((function(t){return t[1]}));return Math.max(null,n)===Math.max(null,r)&&Math.max(null,i)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,r)&&Math.min(null,i)===Math.min(null,o)}(s,o)&&hi(s,o)){var a=t.map((function(t){return t.from.coordinates})).find((function(t){return!e.some((function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)}))}));a&&e.inside(i(a))&&(r&&!hi(n,s)||(r=e))}})),r},_a.prototype.inside=function(t){return Tt(t,this.toPolygon())},Object.defineProperties(_a.prototype,va);var ba=function(){this.edges=[],this.nodes={}};ba.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new ba;return D(t,(function(t){X(t,"LineString","Graph::fromGeoJson"),T(t,(function(t,n){if(t){var i=e.getNode(t),r=e.getNode(n);e.addEdge(i,r)}return n}))})),e},ba.prototype.getNode=function(t){var e=ya.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new ya(t)),n},ba.prototype.addEdge=function(t,e){var n=new ma(t,e),i=n.getSymetric();this.edges.push(n),this.edges.push(i)},ba.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},ba.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},ba.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},ba.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},ba.prototype._computeNextCCWEdges=function(t,e){for(var n,i,r=t.getOuterEdges(),o=r.length-1;o>=0;--o){var s=r[o],a=s.symetric,u=void 0,h=void 0;s.label===e&&(u=s),a.label===e&&(h=a),u&&h&&(h&&(i=h),u&&(i&&(i.next=u,i=void 0),n||(n=u)))}i&&(i.next=n)},ba.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var i=n;do{i.label=e,i=i.next}while(!n.isEqual(i));e++}})),t},ba.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},ba.prototype._findIntersectionNodes=function(t){var e=[],n=t,i=function(){var i=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++i})),i>1&&e.push(n.from),n=n.next};do{i()}while(!t.isEqual(n));return e},ba.prototype._findEdgeRing=function(t){var e=t,n=new _a;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},ba.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},ba.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()};var xa=yt((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),wa=(xa.shim,yt((function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=r?n:i).supported=n,e.unsupported=i}))),Ea=(wa.supported,wa.unsupported,yt((function(t){function e(t){return null==t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var i=Array.prototype.slice,r=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(wa(t))return!!wa(o)&&(t=i.call(t),o=i.call(o),r(t,o,s));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var h=xa(t),l=xa(o)}catch(t){return!1}if(h.length!=l.length)return!1;for(h.sort(),l.sort(),a=h.length-1;a>=0;a--)if(h[a]!=l[a])return!1;for(a=h.length-1;a>=0;a--)if(u=h[a],!r(t[u],o[u],s))return!1;return typeof t==typeof o}(t,o,s))}}))),Ca=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:bi};Ca.prototype.compare=function(t,e){if(t.type!==e.type||!vi(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,i=_i(t),r=_i(e);return i.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),r)}}return!1},Ca.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Ca.prototype.compareLine=function(t,e,n,i){if(!vi(t,e))return!1;var r=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!i||this.compareCoord(r[0],o[0])||(o=this.fixStartIndex(o,r))){var s=this.compareCoord(r[n],o[n]);return this.direction||s?this.comparePath(r,o):!!this.compareCoord(r[n],o[o.length-(1+n)])&&this.comparePath(r.slice().reverse(),o)}},Ca.prototype.fixStartIndex=function(t,e){for(var n,i=-1,r=0;r<t.length;r++)if(this.compareCoord(t[r],e[0])){i=r;break}return i>=0&&(n=[].concat(t.slice(i,t.length),t.slice(1,i+1))),n},Ca.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},Ca.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),i=e.coordinates.slice(1,e.coordinates.length),r=this;return n.every((function(t){return this.some((function(e){return r.compareLine(t,e,1,!0)}))}),i)}return!1},Ca.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Ca.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Ca.prototype.removePseudo=function(t){return t};var Sa=Ca,Ma=yt((function(t){function e(t,e,n,i){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,i)}e.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);if(o.length<this.minPts)this.noise.push(r);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(r,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(1!==this._visited[i]){this._visited[i]=1;var r=this._regionQuery(i);r.length>=this.minPts&&(e=this._mergeArrays(e,r))}1!==this._assigned[i]&&this._addToCluster(i,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i];t.indexOf(r)<0&&t.push(r)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ia=yt((function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,i=0;i<this.k;i++)this.centroids[i]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(l),a=0,u=0;u<l;u++)s[u]=0;for(var h=0;h<n;h++){var l=this.dataset[h].length;if(o===this.assignments[h]){for(u=0;u<l;u++)s[u]+=this.dataset[h][u];a++}}if(a>0){for(u=0;u<l;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),r=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,i=0;i<n;i++)(t=this.argmin(this.dataset[i],this.centroids,this.distance))!=this.assignments[i]&&(this.assignments[i]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var i,r=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(i=n(t,e[a]))<r&&(r=i,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;){var r=t[i]-e[i];n+=r*r}return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ta=yt((function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,i=n;i--;){var r=this._priorities[i];"desc"===this._sorting?e>r&&(n=i):e<r&&(n=i)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var i=0;i<t.length;i++)this.insert(t[i],e[i])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)})),Oa=yt((function(t){function e(t,e,n,i){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,i)}if(t.exports)var n=Ta;e.prototype.run=function(t,e,i,r){this._init(t,e,i,r);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var u=new n(null,null,"asc"),h=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,h,u),this._expandCluster(a,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var i=this._orderedList[e],r=this._reachability[i];t.push([i,r])}return t},e.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},e.prototype._updateQueue=function(t,e,n){var i=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===i._processed[e]){var r=i.distance(i.dataset[t],i.dataset[e]),o=Math.max(i._coreDistance,r);void 0===i._reachability[e]?(i._reachability[e]=o,n.insert(e,o)):o<i._reachability[e]&&(i._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),i=0,r=n.length;i<r;i++){var o=n[i];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],i=0,r=this.dataset.length;i<r;i++)this.distance(this.dataset[t],this.dataset[i])<e&&n.push(i);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Na=yt((function(t){t.exports&&(t.exports={DBSCAN:Ma,KMEANS:Ia,OPTICS:Oa,PriorityQueue:Ta})})),La=(Na.DBSCAN,Na.KMEANS,Na.OPTICS,Na.PriorityQueue,function(t,e,n){for(var i=t.length,r=0,o=0;o<i;o++){var s=(t[o]||0)-(e[o]||0);r+=s*s}return n?Math.sqrt(r):r}),Aa=La,Ra=function(t,e,n){var i=Math.abs(t-e);return n?i:i*i},ka=La,Pa=function(t,e,n,i){var r=[],o=[],s=[],a=[],u=!1,h=i||1e4,l=t.length,c=t[0].length,f=c>0,p=[];if(n)r="kmrand"==n?function(t,e){for(var n={},i=[],r=e<<2,o=t.length,s=t[0].length>0;i.length<e&&r-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join("_"):""+a;n[u]||(n[u]=!0,i.push(a))}if(i.length<e)throw new Error("Error initializating clusters");return i}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?Aa:Ra,i=[],r=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*r)];for(o&&s.join("_"),i.push(s);i.length<e;){for(var a=[],u=i.length,h=0,l=[],c=0;c<r;c++){for(var f=1/0,p=0;p<u;p++){var d=n(t[c],i[p]);d<=f&&(f=d)}a[c]=f}for(var g=0;g<r;g++)h+=a[g];for(var y=0;y<r;y++)l[y]={i:y,v:t[y],pr:a[y]/h,cs:0};l.sort((function(t,e){return t.pr-e.pr})),l[0].cs=l[0].pr;for(var m=1;m<r;m++)l[m].cs=l[m-1].cs+l[m].pr;for(var _=Math.random(),v=0;v<r-1&&l[v++].cs<_;);i.push(l[v-1].v)}return i}(t,e):n;else for(var d={};r.length<e;){var g=Math.floor(Math.random()*l);d[g]||(d[g]=!0,r.push(t[g]))}do{wi(e,0,p);for(var y=0;y<l;y++){for(var m=1/0,_=0,v=0;v<e;v++)(a=f?ka(t[y],r[v]):Math.abs(t[y]-r[v]))<=m&&(m=a,_=v);s[y]=_,p[_]++}for(var b=[],x=(o=[],0);x<e;x++)b[x]=f?wi(c,0,b[x]):0,o[x]=r[x];if(f){for(var w=0;w<e;w++)r[w]=[];for(var E=0;E<l;E++)for(var C=b[s[E]],S=t[E],M=0;M<c;M++)C[M]+=S[M];u=!0;for(var I=0;I<e;I++){for(var T=r[I],O=b[I],N=o[I],L=p[I],A=0;A<c;A++)T[A]=O[A]/L||0;if(u)for(var R=0;R<c;R++)if(N[R]!=T[R]){u=!1;break}}}else{for(var k=0;k<l;k++)b[s[k]]+=t[k];for(var P=0;P<e;P++)r[P]=b[P]/p[P]||0;u=!0;for(var D=0;D<e;D++)if(o[D]!=r[D]){u=!1;break}}u=u||--h<=0}while(!u);return{it:1e4-h,k:e,idxs:s,centroids:r}},Da={search:function(t,e,n,i){t.cleanDirty();var r=(i=i||{}).heuristic||Da.heuristics.manhattan,o=i.closest||!1,s=new Ii((function(t){return t.f})),a=e;for(e.h=r(e,n),s.push(e);s.size()>0;){var u=s.pop();if(u===n)return Ci(u);u.closed=!0;for(var h=t.neighbors(u),l=0,c=h.length;l<c;++l){var f=h[l];if(!f.closed&&!f.isWall()){var p=u.g+f.getCost(u),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||r(f,n),f.g=p,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),d?s.rescoreElement(f):s.push(f))}}}return o?Ci(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return 1*(i+r)+(n-2)*Math.min(i,r)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Si.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Da.cleanNode(this.nodes[t])},Si.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Da.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Si.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Si.prototype.neighbors=function(t){var e=[],n=t.x,i=t.y,r=this.grid;return r[n-1]&&r[n-1][i]&&e.push(r[n-1][i]),r[n+1]&&r[n+1][i]&&e.push(r[n+1][i]),r[n]&&r[n][i-1]&&e.push(r[n][i-1]),r[n]&&r[n][i+1]&&e.push(r[n][i+1]),this.diagonal&&(r[n-1]&&r[n-1][i-1]&&e.push(r[n-1][i-1]),r[n+1]&&r[n+1][i-1]&&e.push(r[n+1][i-1]),r[n-1]&&r[n-1][i+1]&&e.push(r[n-1][i+1]),r[n+1]&&r[n+1][i+1]&&e.push(r[n+1][i+1])),e},Si.prototype.toString=function(){for(var t,e,n,i,r=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,i=(e=o[s]).length;n<i;n++)t.push(e[n].weight);r.push(t.join(" "))}return r.join("\n")},Mi.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Mi.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Mi.prototype.isWall=function(){return 0===this.weight},Ii.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,i=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[n]=e,this.content[t]=i,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],i=this.scoreFunction(n);;){var r,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];(r=this.scoreFunction(u))<i&&(a=s)}if(o<e){var h=this.content[o];this.scoreFunction(h)<(null===a?i:r)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}};var ja=function(t){return function(){return t}};Ni.prototype={constructor:Ni,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ki(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Ai(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ri(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Ri(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ai(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?ki(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Ai(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ri(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Ai(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Ri(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ai(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Ri(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Fa,za,Ba,qa,Ga,Ua=[],Ha=[],Ya=1e-6,Wa=1e-12;Ji.prototype={constructor:Ji,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return qi(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a=n.site,u=-1,h=e[r[o-1]],l=h.left===a?h.right:h.left;++u<o;)s=l,l=(h=e[r[u]]).left===a?h.right:h.left,s&&l&&i<s.index&&i<l.index&&$i(a,s,l)<0&&t.push([a.data,s.data,l.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var u=t-r.site[0],h=e-r.site[1],l=u*u+h*h;do{r=o.cells[i=s],s=null,r.halfedges.forEach((function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var u=t-a[0],h=e-a[1],c=u*u+h*h;c<l&&(l=c,s=a.index)}}))}while(null!==s);return o._found=i,null==n||l<=n*n?r.site:null}};var Xa=Object.freeze({randomPosition:or,randomPoint:sr,randomPolygon:ar,randomLineString:ur}),Va=Object.freeze({getCluster:lr,clusterEach:cr,clusterReduce:fr,createBins:pr,applyFilter:dr,propertiesContainsFilter:gr,filterProperties:yr});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Ka=function(){};Ka.prototype.interfaces_=function(){return[]},Ka.prototype.getClass=function(){return Ka},Ka.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var $a=function(){},Za=function(){},Ja={MAX_VALUE:{configurable:!0}};Za.isNaN=function(t){return Number.isNaN(t)},Za.doubleToLongBits=function(t){return t},Za.longBitsToDouble=function(t){return t},Za.isInfinite=function(t){return!Number.isFinite(t)},Ja.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Za,Ja);var Qa=function(){},tu=function(){},eu=function(){},nu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},iu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};nu.prototype.setOrdinate=function(t,e){switch(t){case nu.X:this.x=e;break;case nu.Y:this.y=e;break;case nu.Z:this.z=e;break;default:throw new $a("Invalid ordinate index: "+t)}},nu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Ka.equalsWithTolerance(this.x,e.x,n)&&!!Ka.equalsWithTolerance(this.y,e.y,n)}},nu.prototype.getOrdinate=function(t){switch(t){case nu.X:return this.x;case nu.Y:return this.y;case nu.Z:return this.z}throw new $a("Invalid ordinate index: "+t)},nu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Za.isNaN(this.z))&&Za.isNaN(t.z)},nu.prototype.equals=function(t){return t instanceof nu&&this.equals2D(t)},nu.prototype.equalInZ=function(t,e){return Ka.equalsWithTolerance(this.z,t.z,e)},nu.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},nu.prototype.clone=function(){},nu.prototype.copy=function(){return new nu(this)},nu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},nu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},nu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},nu.prototype.hashCode=function(){var t=17;return 37*(t=37*t+nu.hashCode(this.x))+nu.hashCode(this.y)},nu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},nu.prototype.interfaces_=function(){return[Qa,tu,mr]},nu.prototype.getClass=function(){return nu},nu.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=Za.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},iu.DimensionalComparator.get=function(){return ru},iu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},iu.NULL_ORDINATE.get=function(){return Za.NaN},iu.X.get=function(){return 0},iu.Y.get=function(){return 1},iu.Z.get=function(){return 2},Object.defineProperties(nu,iu);var ru=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new $a("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};ru.prototype.compare=function(t,e){var n=t,i=e,r=ru.compare(n.x,i.x);if(0!==r)return r;var o=ru.compare(n.y,i.y);return 0!==o?o:this._dimensionsToTest<=2?0:ru.compare(n.z,i.z)},ru.prototype.interfaces_=function(){return[eu]},ru.prototype.getClass=function(){return ru},ru.compare=function(t,e){return t<e?-1:t>e?1:Za.isNaN(t)?Za.isNaN(e)?0:-1:Za.isNaN(e)?1:0};var ou=function(){};ou.prototype.create=function(){},ou.prototype.interfaces_=function(){return[]},ou.prototype.getClass=function(){return ou};var su=function(){},au={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};su.prototype.interfaces_=function(){return[]},su.prototype.getClass=function(){return su},su.toLocationSymbol=function(t){switch(t){case su.EXTERIOR:return"e";case su.BOUNDARY:return"b";case su.INTERIOR:return"i";case su.NONE:return"-"}throw new $a("Unknown location value: "+t)},au.INTERIOR.get=function(){return 0},au.BOUNDARY.get=function(){return 1},au.EXTERIOR.get=function(){return 2},au.NONE.get=function(){return-1},Object.defineProperties(su,au);var uu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},hu=function(){},lu={LOG_10:{configurable:!0}};hu.prototype.interfaces_=function(){return[]},hu.prototype.getClass=function(){return hu},hu.log10=function(t){var e=Math.log(t);return Za.isInfinite(e)||Za.isNaN(e)?e:e/hu.LOG_10},hu.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},hu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},hu.wrap=function(t,e){return t<0?e- -t%e:t%e},hu.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=r;return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},hu.average=function(t,e){return(t+e)/2},lu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(hu,lu);var cu=function(t){this.str=t};cu.prototype.append=function(t){this.str+=t},cu.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},cu.prototype.toString=function(t){return this.str};var fu=function(t){this.value=t};fu.prototype.intValue=function(){return this.value},fu.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},fu.isNaN=function(t){return Number.isNaN(t)};var pu=function(){};pu.isWhitespace=function(t){return t<=32&&t>=0||127===t},pu.toUpperCase=function(t){return t.toUpperCase()};var du=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var i=arguments[0];t.call(this,t.parse(i))}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},gu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};du.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},du.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=du.magnitude(n._hi),r=du.TEN.pow(i);(n=n.divide(r)).gt(du.TEN)?(n=n.divide(du.TEN),i+=1):n.lt(du.ONE)&&(n=n.multiply(du.TEN),i-=1);for(var o=i+1,s=new cu,a=du.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var h=Math.trunc(n._hi);if(h<0)break;var l=!1,c=0;h>9?(l=!0,c="9"):c="0"+h,s.append(c),n=n.subtract(du.valueOf(h)).multiply(du.TEN),l&&n.selfAdd(du.TEN);var f=!0,p=du.magnitude(n._hi);if(p<0&&Math.abs(p)>=a-u&&(f=!1),!f)break}return e[0]=i,s.toString()},du.prototype.sqr=function(){return this.multiply(this)},du.prototype.doubleValue=function(){return this._hi+this._lo},du.prototype.subtract=function(){if(arguments[0]instanceof du){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},du.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},du.prototype.isZero=function(){return 0===this._hi&&0===this._lo},du.prototype.selfSubtract=function(){if(arguments[0]instanceof du){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},du.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},du.prototype.min=function(t){return this.le(t)?this:t},du.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof du){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,h=null,l=null,c=null;return u=this._hi/n,c=(r=(h=du.SPLIT*u)-(r=h-u))*(s=(c=du.SPLIT*n)-(s=c-n))-(l=u*n)+r*(a=n-s)+(o=u-r)*s+o*a,c=u+(h=(this._hi-l-c+this._lo-u*i)/n),this._hi=c,this._lo=u-c+h,this}},du.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},du.prototype.divide=function(){if(arguments[0]instanceof du){var t=arguments[0],e=null,n=null,i=null,r=null,o=null,s=null,a=null,u=null;return n=(o=this._hi/t._hi)-(e=(s=du.SPLIT*o)-(e=s-o)),u=e*(i=(u=du.SPLIT*t._hi)-(i=u-t._hi))-(a=o*t._hi)+e*(r=t._hi-i)+n*i+n*r,s=(this._hi-a-u+this._lo-o*t._lo)/t._hi,new du(u=o+s,o-u+s)}if("number"==typeof arguments[0]){var h=arguments[0];return Za.isNaN(h)?du.createNaN():du.copy(this).selfDivide(h,0)}},du.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},du.prototype.pow=function(t){if(0===t)return du.valueOf(1);var e=new du(this),n=du.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},du.prototype.ceil=function(){if(this.isNaN())return du.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new du(t,e)},du.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},du.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},du.prototype.setValue=function(){if(arguments[0]instanceof du){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},du.prototype.max=function(t){return this.ge(t)?this:t},du.prototype.sqrt=function(){if(this.isZero())return du.valueOf(0);if(this.isNegative())return du.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=du.valueOf(e),i=this.subtract(n.sqr())._hi*(.5*t);return n.add(i)},du.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof du){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return o=(r=this._hi+e)-(s=r-this._hi),i=(a=(o=e-s+(this._hi-o))+this._lo)+(r-(n=r+a)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],h=arguments[1],l=null,c=null,f=null,p=null,d=null,g=null,y=null;p=this._hi+u,c=this._lo+h,d=p-(g=p-this._hi),f=c-(y=c-this._lo);var m=(l=p+(g=(d=u-g+(this._hi-d))+c))+(g=(f=h-y+(this._lo-f))+(g+(p-l))),_=g+(l-m);return this._hi=m,this._lo=_,this}},du.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof du){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,h=null;r=(u=du.SPLIT*this._hi)-this._hi,h=du.SPLIT*n,r=u-r,o=this._hi-r,s=h-n;var l=(u=this._hi*n)+(h=r*(s=h-s)-u+r*(a=n-s)+o*s+o*a+(this._hi*i+this._lo*n)),c=h+(r=u-l);return this._hi=l,this._lo=c,this}},du.prototype.selfSqr=function(){return this.selfMultiply(this)},du.prototype.floor=function(){if(this.isNaN())return du.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new du(t,e)},du.prototype.negate=function(){return this.isNaN()?this:new du(-this._hi,-this._lo)},du.prototype.clone=function(){},du.prototype.multiply=function(){if(arguments[0]instanceof du){var t=arguments[0];return t.isNaN()?du.createNaN():du.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Za.isNaN(e)?du.createNaN():du.copy(this).selfMultiply(e,0)}},du.prototype.isNaN=function(){return Za.isNaN(this._hi)},du.prototype.intValue=function(){return Math.trunc(this._hi)},du.prototype.toString=function(){var t=du.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},du.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(i<0)r="0."+du.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var o=i-n.length;r=n+du.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+r:r},du.prototype.reciprocal=function(){var t,e,n,i,r=null,o=null,s=null,a=null;t=(n=1/this._hi)-(r=(s=du.SPLIT*n)-(r=s-n)),o=(a=du.SPLIT*this._hi)-this._hi;var u=n+(s=(1-(i=n*this._hi)-(a=r*(o=a-o)-i+r*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new du(u,n-u+s)},du.prototype.toSciNotation=function(){if(this.isZero())return du.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=du.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},du.prototype.abs=function(){return this.isNaN()?du.NaN:this.isNegative()?this.negate():new du(this)},du.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},du.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},du.prototype.add=function(){if(arguments[0]instanceof du){var t=arguments[0];return du.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return du.copy(this).selfAdd(e)}},du.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof du){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},du.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},du.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},du.prototype.trunc=function(){return this.isNaN()?du.NaN:this.isPositive()?this.floor():this.ceil()},du.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},du.prototype.interfaces_=function(){return[mr,Qa,tu]},du.prototype.getClass=function(){return du},du.sqr=function(t){return du.valueOf(t).selfMultiply(t)},du.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return du.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new du(e)}},du.sqrt=function(t){return du.valueOf(t).sqrt()},du.parse=function(t){for(var e=0,n=t.length;pu.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new du,s=0,a=0,u=0;!(e>=n);){var h=t.charAt(e);if(e++,pu.isDigit(h)){var l=h-"0";o.selfMultiply(du.TEN),o.selfAdd(l),s++}else{if("."!==h){if("e"===h||"E"===h){var c=t.substring(e);try{u=fu.parseInt(c)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+c+" in string "+t):e}break}throw new Error("Unexpected character '"+h+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-u;if(0===p)f=o;else if(p>0){var d=du.TEN.pow(p);f=o.divide(d)}else if(p<0){var g=du.TEN.pow(-p);f=o.multiply(g)}return i?f.negate():f},du.createNaN=function(){return new du(Za.NaN,Za.NaN)},du.copy=function(t){return new du(t)},du.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},du.stringOfChar=function(t,e){for(var n=new cu,i=0;i<e;i++)n.append(t);return n.toString()},gu.PI.get=function(){return new du(3.141592653589793,12246467991473532e-32)},gu.TWO_PI.get=function(){return new du(6.283185307179586,24492935982947064e-32)},gu.PI_2.get=function(){return new du(1.5707963267948966,6123233995736766e-32)},gu.E.get=function(){return new du(2.718281828459045,14456468917292502e-32)},gu.NaN.get=function(){return new du(Za.NaN,Za.NaN)},gu.EPS.get=function(){return 123259516440783e-46},gu.SPLIT.get=function(){return 134217729},gu.MAX_PRINT_DIGITS.get=function(){return 32},gu.TEN.get=function(){return du.valueOf(10)},gu.ONE.get=function(){return du.valueOf(1)},gu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},gu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(du,gu);var yu=function(){},mu={DP_SAFE_EPSILON:{configurable:!0}};yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu},yu.orientationIndex=function(t,e,n){var i=yu.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=du.valueOf(e.x).selfAdd(-t.x),o=du.valueOf(e.y).selfAdd(-t.y),s=du.valueOf(n.x).selfAdd(-e.x),a=du.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},yu.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},yu.intersection=function(t,e,n,i){var r=du.valueOf(i.y).selfSubtract(n.y).selfMultiply(du.valueOf(e.x).selfSubtract(t.x)),o=du.valueOf(i.x).selfSubtract(n.x).selfMultiply(du.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=du.valueOf(i.x).selfSubtract(n.x).selfMultiply(du.valueOf(t.y).selfSubtract(n.y)),u=du.valueOf(i.y).selfSubtract(n.y).selfMultiply(du.valueOf(t.x).selfSubtract(n.x)),h=a.subtract(u).selfDivide(s).doubleValue(),l=du.valueOf(t.x).selfAdd(du.valueOf(e.x).selfSubtract(t.x).selfMultiply(h)).doubleValue(),c=du.valueOf(e.x).selfSubtract(t.x).selfMultiply(du.valueOf(t.y).selfSubtract(n.y)),f=du.valueOf(e.y).selfSubtract(t.y).selfMultiply(du.valueOf(t.x).selfSubtract(n.x)),p=c.subtract(f).selfDivide(s).doubleValue(),d=du.valueOf(n.y).selfAdd(du.valueOf(i.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new nu(l,d)},yu.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(o<=0)return yu.signum(s);i=r+o}else{if(!(r<0))return yu.signum(s);if(o>=0)return yu.signum(s);i=-r-o}var a=yu.DP_SAFE_EPSILON*i;return s>=a||-s>=a?yu.signum(s):2},yu.signum=function(t){return t>0?1:t<0?-1:0},mu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(yu,mu);var _u=function(){},vu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};vu.X.get=function(){return 0},vu.Y.get=function(){return 1},vu.Z.get=function(){return 2},vu.M.get=function(){return 3},_u.prototype.setOrdinate=function(t,e,n){},_u.prototype.size=function(){},_u.prototype.getOrdinate=function(t,e){},_u.prototype.getCoordinate=function(){},_u.prototype.getCoordinateCopy=function(t){},_u.prototype.getDimension=function(){},_u.prototype.getX=function(t){},_u.prototype.clone=function(){},_u.prototype.expandEnvelope=function(t){},_u.prototype.copy=function(){},_u.prototype.getY=function(t){},_u.prototype.toCoordinateArray=function(){},_u.prototype.interfaces_=function(){return[tu]},_u.prototype.getClass=function(){return _u},Object.defineProperties(_u,vu);var bu=function(){},xu=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bu),wu=function(){};wu.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},wu.getProperty=function(t){return{"line.separator":"\n"}[t]};var Eu=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof nu&&arguments[1]instanceof nu){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],h=arguments[1],l=arguments[2];this.x=u,this.y=h,this.w=l}else if(4===arguments.length){var c=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3],g=c.y-f.y,y=f.x-c.x,m=c.x*f.y-f.x*c.y,_=p.y-d.y,v=d.x-p.x,b=p.x*d.y-d.x*p.y;this.x=y*b-v*m,this.y=_*m-g*b,this.w=g*v-_*y}};Eu.prototype.getY=function(){var t=this.y/this.w;if(Za.isNaN(t)||Za.isInfinite(t))throw new xu;return t},Eu.prototype.getX=function(){var t=this.x/this.w;if(Za.isNaN(t)||Za.isInfinite(t))throw new xu;return t},Eu.prototype.getCoordinate=function(){var t=new nu;return t.x=this.getX(),t.y=this.getY(),t},Eu.prototype.interfaces_=function(){return[]},Eu.prototype.getClass=function(){return Eu},Eu.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-i.y,u=i.x-n.x,h=n.x*i.y-i.x*n.y,l=r*u-a*o,c=(o*h-u*s)/l,f=(a*s-r*h)/l;if(Za.isNaN(c)||Za.isInfinite(c)||Za.isNaN(f)||Za.isInfinite(f))throw new xu;return new nu(c,f)};var Cu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof nu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},Su={serialVersionUID:{configurable:!0}};Cu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Cu.prototype.equals=function(t){if(!(t instanceof Cu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Cu.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Cu;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,r=this._maxy<t._maxy?this._maxy:t._maxy;return new Cu(e,i,n,r)},Cu.prototype.isNull=function(){return this._maxx<this._minx},Cu.prototype.getMaxX=function(){return this._maxx},Cu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Cu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy}},Cu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Cu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof nu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},Cu.prototype.getMinY=function(){return this._miny},Cu.prototype.getMinX=function(){return this._minx},Cu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Cu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},Cu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Cu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Cu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Cu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Cu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Cu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Cu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Cu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Cu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Cu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Cu){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof nu){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},Cu.prototype.centre=function(){return this.isNull()?null:new nu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Cu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Cu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},Cu.prototype.getMaxY=function(){return this._maxy},Cu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Cu.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+nu.hashCode(this._minx))+nu.hashCode(this._maxx))+nu.hashCode(this._miny))+nu.hashCode(this._maxy)},Cu.prototype.interfaces_=function(){return[Qa,mr]},Cu.prototype.getClass=function(){return Cu},Cu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),h=Math.min(i.x,r.x),l=Math.max(i.x,r.x);return!(h>u||l<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),h=Math.min(i.y,r.y),l=Math.max(i.y,r.y),h>u||l<a))}},Su.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Cu,Su);var Mu={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Iu=function(t){this.geometryFactory=t||new $h};Iu.prototype.read=function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=Mu.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=Mu.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],Ou[n]&&(e=Ou[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Iu.prototype.write=function(t){return this.extractGeometry(t)},Iu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Tu[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Tu[e].apply(this,[t])+")"};var Tu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Tu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Tu.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Tu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Tu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Tu.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Tu.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+Tu.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Tu.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Ou={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Mu.spaces);return this.geometryFactory.createPoint(new nu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Mu.trimParens,"$1"),i.push(Ou.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Mu.spaces),i.push(new nu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Mu.spaces),i.push(new nu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Mu.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Mu.trimParens,"$1"),i.push(Ou.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(Mu.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Mu.trimParens,"$1"),n=Ou.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Mu.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Mu.trimParens,"$1"),i.push(Ou.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Nu=function(t){this.parser=new Iu(t)};Nu.prototype.write=function(t){return this.parser.write(t)},Nu.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Lu=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Au=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Lu),Ru=function(){};Ru.prototype.interfaces_=function(){return[]},Ru.prototype.getClass=function(){return Ru},Ru.shouldNeverReachHere=function(){if(0===arguments.length)Ru.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Au("Should never reach here"+(null!==t?": "+t:""))}},Ru.isTrue=function(){var t;if(1===arguments.length)Ru.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new Au:new Au(t)},Ru.equals=function(){var t,e,n;if(2===arguments.length)Ru.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new Au("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var ku=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new nu,this._intPt[1]=new nu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Pu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ku.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},ku.prototype.getTopologySummary=function(){var t=new cu;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},ku.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},ku.prototype.getIntersectionNum=function(){return this._result},ku.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},ku.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ku.prototype.setPrecisionModel=function(t){this._precisionModel=t},ku.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},ku.prototype.getIntersection=function(t){return this._intPt[t]},ku.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ku.prototype.hasIntersection=function(){return this._result!==ku.NO_INTERSECTION},ku.prototype.getEdgeDistance=function(t,e){return ku.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},ku.prototype.isCollinear=function(){return this._result===ku.COLLINEAR_INTERSECTION},ku.prototype.toString=function(){return Nu.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Nu.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ku.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},ku.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},ku.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},ku.prototype.interfaces_=function(){return[]},ku.prototype.getClass=function(){return ku},ku.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=i>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return Ru.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},ku.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return Ru.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Pu.DONT_INTERSECT.get=function(){return 0},Pu.DO_INTERSECT.get=function(){return 1},Pu.COLLINEAR.get=function(){return 2},Pu.NO_INTERSECTION.get=function(){return 0},Pu.POINT_INTERSECTION.get=function(){return 1},Pu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ku,Pu);var Du=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Cu(this._inputLines[0][0],this._inputLines[0][1]),n=new Cu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,Cu.intersects(n,i,e)&&0===zu.orientationIndex(n,i,e)&&0===zu.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,r){var o=null;try{o=Eu.intersection(t,n,i,r)}catch(s){if(!(s instanceof xu))throw s;o=e.nearestEndpoint(t,n,i,r)}return o},e.prototype.intersection=function(t,n,i,r){var o=this.intersectionWithNormalization(t,n,i,r);return this.isInSegmentEnvelopes(o)||(o=new nu(e.nearestEndpoint(t,n,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},e.prototype.checkDD=function(t,e,n,i,r){var o=yu.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);wu.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&wu.out.println("Distance = "+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var r=new nu(t),o=new nu(e),s=new nu(n),a=new nu(i),u=new nu;this.normalizeToEnvCentre(r,o,s,a,u);var h=this.safeHCoordinateIntersection(r,o,s,a);return h.x+=u.x,h.y+=u.y,h},e.prototype.computeCollinearIntersection=function(e,n,i,r){var o=Cu.intersects(e,n,i),s=Cu.intersects(e,n,r),a=Cu.intersects(i,r,e),u=Cu.intersects(i,r,n);return o&&s?(this._intPt[0]=i,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,h=n.x<i.x?n.x:i.x,l=n.y<i.y?n.y:i.y,c=n.x>i.x?n.x:i.x,f=n.y>i.y?n.y:i.y,p=((o>h?o:h)+(a<c?a:c))/2,d=((s>l?s:l)+(u<f?u:f))/2;r.x=p,r.y=d,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.computeIntersect=function(e,n,i,r){if(this._isProper=!1,!Cu.intersects(e,n,i,r))return t.NO_INTERSECTION;var o=zu.orientationIndex(e,n,i),s=zu.orientationIndex(e,n,r);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=zu.orientationIndex(i,r,e),u=zu.orientationIndex(i,r,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,i,r):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(i)||e.equals2D(r)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(r)?this._intPt[0]=n:0===o?this._intPt[0]=new nu(i):0===s?this._intPt[0]=new nu(r):0===a?this._intPt[0]=new nu(e):0===u&&(this._intPt[0]=new nu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var r=t,o=zu.distancePointLine(t,n,i),s=zu.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=zu.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=zu.distancePointLine(i,t,e))<o&&(o=s,r=i),r},e}(ku),ju=function(){};ju.prototype.interfaces_=function(){return[]},ju.prototype.getClass=function(){return ju},ju.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ju.signOfDet2x2(i,r,o,s)},ju.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(t<=n))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if((i-=(s=Math.floor(n/t))*e)<0)return-r;if(i>e)return r;if(t>(n-=s*t)+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if((e-=(s=Math.floor(t/n))*i)<0)return r;if(e>i)return-r;if(n>(t-=s*n)+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var Fu=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};Fu.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ju.signOfDet2x2(r,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},Fu.prototype.isPointInPolygon=function(){return this.getLocation()!==su.EXTERIOR},Fu.prototype.getLocation=function(){return this._isPointOnSegment?su.BOUNDARY:this._crossingCount%2==1?su.INTERIOR:su.EXTERIOR},Fu.prototype.isOnSegment=function(){return this._isPointOnSegment},Fu.prototype.interfaces_=function(){return[]},Fu.prototype.getClass=function(){return Fu},Fu.locatePointInRing=function(){if(arguments[0]instanceof nu&&uu(arguments[1],_u)){for(var t=arguments[0],e=arguments[1],n=new Fu(t),i=new nu,r=new nu,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof nu&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],u=new Fu(s),h=1;h<a.length;h++){var l=a[h],c=a[h-1];if(u.countSegment(l,c),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var zu=function(){},Bu={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu},zu.orientationIndex=function(t,e,n){return yu.orientationIndex(t,e,n)},zu.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(uu(arguments[0],_u)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new nu,h=new nu,l=new nu;s.getCoordinate(0,h),s.getCoordinate(1,l);var c=h.x;l.x-=c;for(var f=0,p=1;p<a-1;p++)u.y=h.y,h.x=l.x,h.y=l.y,s.getCoordinate(p+1,l),l.x-=c,f+=h.x*(u.y-l.y);return f/2}},zu.distanceLineLine=function(t,e,n,i){if(t.equals(e))return zu.distancePointLine(t,n,i);if(n.equals(i))return zu.distancePointLine(i,t,e);var r=!1;if(Cu.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?hu.min(zu.distancePointLine(t,n,i),zu.distancePointLine(e,n,i),zu.distancePointLine(n,t,e),zu.distancePointLine(i,t,e)):0},zu.isPointInRing=function(t,e){return zu.locatePointInRing(t,e)!==su.EXTERIOR},zu.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new nu;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,h=a-r,l=u-o;n+=Math.sqrt(h*h+l*l),r=a,o=u}return n},zu.isCCW=function(t){var e=t.length-1;if(e<3)throw new $a("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==i);var a=i;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==i);var u=t[s],h=t[a];if(u.equals2D(n)||h.equals2D(n)||u.equals2D(h))return!1;var l=zu.computeOrientation(u,n,h);return 0===l?u.x>h.x:l>0},zu.locatePointInRing=function(t,e){return Fu.locatePointInRing(t,e)},zu.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},zu.computeOrientation=function(t,e,n){return zu.orientationIndex(t,e,n)},zu.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new $a("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=zu.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),h=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(h<=0)return o.distance(s);if(h>=1)return o.distance(a);var l=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(l)*Math.sqrt(u)}},zu.isOnLine=function(t,e){for(var n=new Du,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},Bu.CLOCKWISE.get=function(){return-1},Bu.RIGHT.get=function(){return zu.CLOCKWISE},Bu.COUNTERCLOCKWISE.get=function(){return 1},Bu.LEFT.get=function(){return zu.COUNTERCLOCKWISE},Bu.COLLINEAR.get=function(){return 0},Bu.STRAIGHT.get=function(){return zu.COLLINEAR},Object.defineProperties(zu,Bu);var qu=function(){};qu.prototype.filter=function(t){},qu.prototype.interfaces_=function(){return[]},qu.prototype.getClass=function(){return qu};var Gu=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Uu={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Gu.prototype.isGeometryCollection=function(){return this.getSortIndex()===Gu.SORTINDEX_GEOMETRYCOLLECTION},Gu.prototype.getFactory=function(){return this._factory},Gu.prototype.getGeometryN=function(t){return this},Gu.prototype.getArea=function(){return 0},Gu.prototype.isRectangle=function(){return!1},Gu.prototype.equals=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof Gu))return!1;var n=e;return this.equalsExact(n)}},Gu.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Gu.prototype.geometryChanged=function(){this.apply(Gu.geometryChangedFilter)},Gu.prototype.geometryChangedAction=function(){this._envelope=null},Gu.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Gu.prototype.getLength=function(){return 0},Gu.prototype.getNumGeometries=function(){return 1},Gu.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},Gu.prototype.getUserData=function(){return this._userData},Gu.prototype.getSRID=function(){return this._SRID},Gu.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Gu.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Gu.SORTINDEX_GEOMETRYCOLLECTION)throw new $a("This method does not support GeometryCollection arguments")},Gu.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Gu.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Gu.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Gu.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Cu(this._envelope)},Gu.prototype.setSRID=function(t){this._SRID=t},Gu.prototype.setUserData=function(t){this._userData=t},Gu.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},Gu.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Gu.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Gu.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Gu.SORTINDEX_MULTIPOINT||this.getSortIndex()===Gu.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Gu.SORTINDEX_MULTIPOLYGON},Gu.prototype.interfaces_=function(){return[tu,Qa,mr]},Gu.prototype.getClass=function(){return Gu},Gu.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Gu.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Uu.serialVersionUID.get=function(){return 0x799ea46522854c00},Uu.SORTINDEX_POINT.get=function(){return 0},Uu.SORTINDEX_MULTIPOINT.get=function(){return 1},Uu.SORTINDEX_LINESTRING.get=function(){return 2},Uu.SORTINDEX_LINEARRING.get=function(){return 3},Uu.SORTINDEX_MULTILINESTRING.get=function(){return 4},Uu.SORTINDEX_POLYGON.get=function(){return 5},Uu.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Uu.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Uu.geometryChangedFilter.get=function(){return Hu},Object.defineProperties(Gu,Uu);var Hu=function(){};Hu.interfaces_=function(){return[qu]},Hu.filter=function(t){t.geometryChangedAction()};var Yu=function(){};Yu.prototype.filter=function(t){},Yu.prototype.interfaces_=function(){return[]},Yu.prototype.getClass=function(){return Yu};var Wu=function(){},Xu={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Wu.prototype.isInBoundary=function(t){},Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu},Xu.Mod2BoundaryNodeRule.get=function(){return Vu},Xu.EndPointBoundaryNodeRule.get=function(){return Ku},Xu.MultiValentEndPointBoundaryNodeRule.get=function(){return $u},Xu.MonoValentEndPointBoundaryNodeRule.get=function(){return Zu},Xu.MOD2_BOUNDARY_RULE.get=function(){return new Vu},Xu.ENDPOINT_BOUNDARY_RULE.get=function(){return new Ku},Xu.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new $u},Xu.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Zu},Xu.OGC_SFS_BOUNDARY_RULE.get=function(){return Wu.MOD2_BOUNDARY_RULE},Object.defineProperties(Wu,Xu);var Vu=function(){};Vu.prototype.isInBoundary=function(t){return t%2==1},Vu.prototype.interfaces_=function(){return[Wu]},Vu.prototype.getClass=function(){return Vu};var Ku=function(){};Ku.prototype.isInBoundary=function(t){return t>0},Ku.prototype.interfaces_=function(){return[Wu]},Ku.prototype.getClass=function(){return Ku};var $u=function(){};$u.prototype.isInBoundary=function(t){return t>1},$u.prototype.interfaces_=function(){return[Wu]},$u.prototype.getClass=function(){return $u};var Zu=function(){};Zu.prototype.isInBoundary=function(t){return 1===t},Zu.prototype.interfaces_=function(){return[Wu]},Zu.prototype.getClass=function(){return Zu};var Ju=function(){};Ju.prototype.add=function(){},Ju.prototype.addAll=function(){},Ju.prototype.isEmpty=function(){},Ju.prototype.iterator=function(){},Ju.prototype.size=function(){},Ju.prototype.toArray=function(){},Ju.prototype.remove=function(){};var Qu=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),th=function(){};th.prototype.hasNext=function(){},th.prototype.next=function(){},th.prototype.remove=function(){};var eh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Ju);(_r.prototype=new Error).name="NoSuchElementException";var nh=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Ju&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Ju]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new ih(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new Qu;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(eh),ih=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new _r;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(th),rh=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=!1,r=e.iterator();r.hasNext();)this.add(r.next(),n),i=!0;return i}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return this.add(n,i,!0),!0}if(arguments[0]instanceof nu&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var h=0;h<a.length;h++)this.add(a[h],u);else for(var l=a.length-1;l>=0;l--)this.add(a[l],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof nu){var c=arguments[0],f=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(c>0&&this.get(c-1).equals2D(f))return null;if(c<p&&this.get(c).equals2D(f))return null}}t.prototype.add.call(this,c,f)}}else if(4===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2],m=arguments[3],_=1;y>m&&(_=-1);for(var v=y;v!==m;v+=_)this.add(d[v],g);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new nu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(nh),oh=function(){},sh={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};sh.ForwardComparator.get=function(){return ah},sh.BidirectionalComparator.get=function(){return uh},sh.coordArrayType.get=function(){return new Array(0).fill(null)},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh},oh.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},oh.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(oh.indexOf(i,e)<0)return i}return null},oh.scroll=function(t,e){var n=oh.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);wu.arraycopy(t,n,i,0,t.length-n),wu.arraycopy(t,0,i,t.length-n,n),wu.arraycopy(i,0,t,0,t.length)},oh.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(0!==o.compare(i[s],r[s]))return!1;return!0}},oh.intersection=function(t,e){for(var n=new rh,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},oh.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},oh.removeRepeatedPoints=function(t){return oh.hasRepeatedPoints(t)?new rh(t,!1).toCoordinateArray():t},oh.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},oh.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},oh.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new nu(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new nu(i[r+u])},oh.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},oh.envelope=function(t){for(var e=new Cu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},oh.toCoordinateArray=function(t){return t.toArray(oh.coordArrayType)},oh.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},oh.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},oh.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},oh.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},oh.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},oh.extract=function(t,e,n){e=hu.clamp(e,0,t.length);var i=(n=hu.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},Object.defineProperties(oh,sh);var ah=function(){};ah.prototype.compare=function(t,e){return oh.compare(t,e)},ah.prototype.interfaces_=function(){return[eu]},ah.prototype.getClass=function(){return ah};var uh=function(){};uh.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=oh.compare(n,i);return oh.isEqualReversed(n,i)?0:r},uh.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=oh.increasingDirection(n),o=oh.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var h=n[s].compareTo(i[a]);if(0!==h)return h;s+=r,a+=o}return 0},uh.prototype.interfaces_=function(){return[eu]},uh.prototype.getClass=function(){return uh};var hh=function(){};hh.prototype.get=function(){},hh.prototype.put=function(){},hh.prototype.size=function(){},hh.prototype.values=function(){},hh.prototype.entrySet=function(){};var lh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(hh);(vr.prototype=new Error).name="OperationNotSupported",(br.prototype=new Ju).contains=function(){};var ch=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Ju&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new fh(this)},e}(br),fh=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new _r;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new vr},e}(th),ph=0;(Mr.prototype=new lh).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Mr.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:ph,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:ph,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},Mr.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(wr(t)===Cr(wr(wr(t)))){var e=Sr(wr(wr(t)));1===xr(e)?(Er(wr(t),ph),Er(e,ph),Er(wr(wr(t)),1),t=wr(wr(t))):(t===Sr(wr(t))&&(t=wr(t),this.rotateLeft(t)),Er(wr(t),ph),Er(wr(wr(t)),1),this.rotateRight(wr(wr(t))))}else{var n=Cr(wr(wr(t)));1===xr(n)?(Er(wr(t),ph),Er(n,ph),Er(wr(wr(t)),1),t=wr(wr(t))):(t===Cr(wr(t))&&(t=wr(t),this.rotateRight(t)),Er(wr(t),ph),Er(wr(wr(t)),1),this.rotateLeft(wr(wr(t))))}this.root_.color=ph},Mr.prototype.values=function(){var t=new nh,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Mr.successor(e));)t.add(e.value);return t},Mr.prototype.entrySet=function(){var t=new ch,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Mr.successor(e));)t.add(e);return t},Mr.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Mr.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Mr.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Mr.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},Mr.prototype.size=function(){return this.size_};var dh=function(){};dh.prototype.interfaces_=function(){return[]},dh.prototype.getClass=function(){return dh},Ir.prototype=new br,(Tr.prototype=new Ir).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Tr.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Tr.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Tr.prototype.remove=function(t){throw new vr},Tr.prototype.size=function(){return this.array_.length},Tr.prototype.isEmpty=function(){return 0===this.array_.length},Tr.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Tr.prototype.iterator=function(){return new gh(this)};var gh=function(t){this.treeSet_=t,this.position_=0};gh.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new _r;return this.treeSet_.array_[this.position_++]},gh.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},gh.prototype.remove=function(){throw new vr};var yh=function(){};yh.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)i=function(t,e){return t.compareTo(e)},r.sort(i);else if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])},yh.asList=function(t){for(var e=new nh,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var mh=function(){},_h={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};_h.P.get=function(){return 0},_h.L.get=function(){return 1},_h.A.get=function(){return 2},_h.FALSE.get=function(){return-1},_h.TRUE.get=function(){return-2},_h.DONTCARE.get=function(){return-3},_h.SYM_FALSE.get=function(){return"F"},_h.SYM_TRUE.get=function(){return"T"},_h.SYM_DONTCARE.get=function(){return"*"},_h.SYM_P.get=function(){return"0"},_h.SYM_L.get=function(){return"1"},_h.SYM_A.get=function(){return"2"},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh},mh.toDimensionSymbol=function(t){switch(t){case mh.FALSE:return mh.SYM_FALSE;case mh.TRUE:return mh.SYM_TRUE;case mh.DONTCARE:return mh.SYM_DONTCARE;case mh.P:return mh.SYM_P;case mh.L:return mh.SYM_L;case mh.A:return mh.SYM_A}throw new $a("Unknown dimension value: "+t)},mh.toDimensionValue=function(t){switch(pu.toUpperCase(t)){case mh.SYM_FALSE:return mh.FALSE;case mh.SYM_TRUE:return mh.TRUE;case mh.SYM_DONTCARE:return mh.DONTCARE;case mh.SYM_P:return mh.P;case mh.SYM_L:return mh.L;case mh.SYM_A:return mh.A}throw new $a("Unknown dimension symbol: "+t)},Object.defineProperties(mh,_h);var vh=function(){};vh.prototype.filter=function(t){},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh};var bh=function(){};bh.prototype.filter=function(t,e){},bh.prototype.isDone=function(){},bh.prototype.isGeometryChanged=function(){},bh.prototype.interfaces_=function(){return[]},bh.prototype.getClass=function(){return bh};var xh=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new $a("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Cu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._geometries.length!==i._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(i._geometries[r],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();yh.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=mh.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=mh.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Tr(yh.asList(this._geometries)),n=new Tr(yh.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var h=this.getGeometryN(u),l=o.getGeometryN(u),c=h.compareToSameClass(l,r);if(0!==c)return c;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){if(uu(arguments[0],Yu))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(uu(arguments[0],bh)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(uu(arguments[0],vh)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(uu(arguments[0],qu)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Ru.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Gu),wh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?mh.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Eh(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[dh]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(xh),Eh=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Wu.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};Eh.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Eh.prototype.getBoundary=function(){return this._geom instanceof Th?this.boundaryLineString(this._geom):this._geom instanceof wh?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Eh.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Eh.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Eh.prototype.computeBoundaryCoordinates=function(t){var e=new nh;this._endpointMap=new Mr;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return oh.toCoordinateArray(e)},Eh.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Ch,this._endpointMap.put(t,e)),e.count++},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh},Eh.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new Eh(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Eh(e,n).getBoundary()}};var Ch=function(){this.count=null};Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch};var Sh=function(){},Mh={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Sh.prototype.interfaces_=function(){return[]},Sh.prototype.getClass=function(){return Sh},Sh.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},Sh.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o="",s=new function(){}(new function(){}(Sh.getStackTrace(i))),a=0;a<r;a++)try{o+=s.readLine()+Sh.NEWLINE}catch(t){if(!(t instanceof Or))throw t;Ru.shouldNeverReachHere()}return o}},Sh.split=function(t,e){for(var n=e.length,i=new nh,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},Sh.toString=function(){if(1===arguments.length){var t=arguments[0];return Sh.SIMPLE_ORDINATE_FORMAT.format(t)}},Sh.spaces=function(t){return Sh.chars(" ",t)},Mh.NEWLINE.get=function(){return wu.getProperty("line.separator")},Mh.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Sh,Mh);var Ih=function(){};Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih},Ih.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Ih.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,_u.X)===t.getOrdinate(e-1,_u.X)&&t.getOrdinate(0,_u.Y)===t.getOrdinate(e-1,_u.Y)},Ih.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||Za.isNaN(s)&&Za.isNaN(a)))return!1}return!0},Ih.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Ih.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)Ih.copy(e,r-1,i,o,1);return i},Ih.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Ih.swap(t,i,e-i)},Ih.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Ih.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Ih.copyCoord(t,e+o,n,i+o)},Ih.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new cu;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(Sh.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Ih.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Ih.createClosedRing(t,e,4):e.getOrdinate(0,_u.X)===e.getOrdinate(n-1,_u.X)&&e.getOrdinate(0,_u.Y)===e.getOrdinate(n-1,_u.Y)?e:Ih.createClosedRing(t,e,n+1)},Ih.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Ih.copy(e,0,i,0,r);for(var o=r;o<n;o++)Ih.copy(e,0,i,o,1);return i};var Th=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Cu:this._points.expandEnvelope(new Cu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._points.size()!==i._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),i._points.getCoordinate(r),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Ih.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?mh.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return zu.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Ih.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}},e.prototype.apply=function(){if(uu(arguments[0],Yu))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(uu(arguments[0],bh)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else(uu(arguments[0],vh)||uu(arguments[0],qu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Eh(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new $a("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[dh]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Gu),Oh=function(){};Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh};var Nh=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Cu;var t=new Cu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return mh.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(uu(arguments[0],Yu)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(uu(arguments[0],bh)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(uu(arguments[0],vh)||uu(arguments[0],qu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Ru.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Oh]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Gu),Lh=function(){};Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh};var Ah=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new $a("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new $a("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(zu.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(zu.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),h=t.getY(a);if(u!==o==(h!==s))return!1;o=u,s=h}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e,r=this._shell,o=i._shell;if(!r.equalsExact(o,n))return!1;if(this._holes.length!==i._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(i._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);yh.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);wu.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=oh.minCoordinate(e.getCoordinates());oh.scroll(i,r),wu.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],zu.isCCW(e.getCoordinates())===n&&oh.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,s=this._shell,a=o._shell,u=s.compareToSameClass(a,r);if(0!==u)return u;for(var h=this.getNumInteriorRing(),l=o.getNumInteriorRing(),c=0;c<h&&c<l;){var f=this.getInteriorRingN(c),p=o.getInteriorRingN(c),d=f.compareToSameClass(p,r);if(0!==d)return d;c++}return c<h?1:c<l?-1:0}},e.prototype.apply=function(t){if(uu(t,Yu)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(uu(t,bh)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(uu(t,vh))t.filter(this);else if(uu(t,qu)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Lh]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Gu),Rh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return mh.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Oh]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(xh),kh=function(t){function e(e,n){e instanceof nu&&n instanceof $h&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return mh.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Ih.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new $a("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new $a("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Th),Ph=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new nh,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Lh]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(xh),Dh=function(t){this._factory=t||null,this._isUserDataCopied=!1},jh={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Dh.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Dh.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Dh.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof xh?this.editGeometryCollection(t,e):t instanceof Ah?this.editPolygon(t,e):t instanceof Nh||t instanceof Th?e.edit(t,this._factory):(Ru.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Dh.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new nh,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===Rh?this._factory.createMultiPoint(i.toArray([])):n.getClass()===wh?this._factory.createMultiLineString(i.toArray([])):n.getClass()===Ph?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},Dh.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new nh,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(i,r.toArray([]))},Dh.prototype.interfaces_=function(){return[]},Dh.prototype.getClass=function(){return Dh},Dh.GeometryEditorOperation=function(){},jh.NoOpGeometryOperation.get=function(){return Fh},jh.CoordinateOperation.get=function(){return zh},jh.CoordinateSequenceOperation.get=function(){return Bh},Object.defineProperties(Dh,jh);var Fh=function(){};Fh.prototype.edit=function(t,e){return t},Fh.prototype.interfaces_=function(){return[Dh.GeometryEditorOperation]},Fh.prototype.getClass=function(){return Fh};var zh=function(){};zh.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof kh?e.createLinearRing(n):t instanceof Th?e.createLineString(n):t instanceof Nh?n.length>0?e.createPoint(n[0]):e.createPoint():t},zh.prototype.interfaces_=function(){return[Dh.GeometryEditorOperation]},zh.prototype.getClass=function(){return zh};var Bh=function(){};Bh.prototype.edit=function(t,e){return t instanceof kh?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Th?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Nh?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Bh.prototype.interfaces_=function(){return[Dh.GeometryEditorOperation]},Bh.prototype.getClass=function(){return Bh};var qh=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new nu}else if(uu(arguments[0],_u)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new nu}},Gh={serialVersionUID:{configurable:!0}};qh.prototype.setOrdinate=function(t,e,n){switch(e){case _u.X:this._coordinates[t].x=n;break;case _u.Y:this._coordinates[t].y=n;break;case _u.Z:this._coordinates[t].z=n;break;default:throw new $a("invalid ordinateIndex")}},qh.prototype.size=function(){return this._coordinates.length},qh.prototype.getOrdinate=function(t,e){switch(e){case _u.X:return this._coordinates[t].x;case _u.Y:return this._coordinates[t].y;case _u.Z:return this._coordinates[t].z}return Za.NaN},qh.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},qh.prototype.getCoordinateCopy=function(t){return new nu(this._coordinates[t])},qh.prototype.getDimension=function(){return this._dimension},qh.prototype.getX=function(t){return this._coordinates[t].x},qh.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new qh(t,this._dimension)},qh.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},qh.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new qh(t,this._dimension)},qh.prototype.toString=function(){if(this._coordinates.length>0){var t=new cu(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},qh.prototype.getY=function(t){return this._coordinates[t].y},qh.prototype.toCoordinateArray=function(){return this._coordinates},qh.prototype.interfaces_=function(){return[_u,mr]},qh.prototype.getClass=function(){return qh},Gh.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(qh,Gh);var Uh=function(){},Hh={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Uh.prototype.readResolve=function(){return Uh.instance()},Uh.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new qh(t)}if(uu(arguments[0],_u)){var e=arguments[0];return new qh(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new qh(n):new qh(n,i)}},Uh.prototype.interfaces_=function(){return[ou,mr]},Uh.prototype.getClass=function(){return Uh},Uh.instance=function(){return Uh.instanceObject},Hh.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Hh.instanceObject.get=function(){return new Uh},Object.defineProperties(Uh,Hh);var Yh=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new nh,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new ch;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(hh),Wh=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Vh){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},Xh={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Wh.prototype.equals=function(t){if(!(t instanceof Wh))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},Wh.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new fu(n).compareTo(new fu(i))},Wh.prototype.getScale=function(){return this._scale},Wh.prototype.isFloating=function(){return this._modelType===Wh.FLOATING||this._modelType===Wh.FLOATING_SINGLE},Wh.prototype.getType=function(){return this._modelType},Wh.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Wh.FLOATING?t="Floating":this._modelType===Wh.FLOATING_SINGLE?t="Floating-Single":this._modelType===Wh.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Wh.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return Za.isNaN(t)||this._modelType===Wh.FLOATING_SINGLE?t:this._modelType===Wh.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof nu){var e=arguments[0];if(this._modelType===Wh.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Wh.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Wh.FLOATING?t=16:this._modelType===Wh.FLOATING_SINGLE?t=6:this._modelType===Wh.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Wh.prototype.setScale=function(t){this._scale=Math.abs(t)},Wh.prototype.interfaces_=function(){return[mr,Qa]},Wh.prototype.getClass=function(){return Wh},Wh.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Xh.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Xh.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Wh,Xh);var Vh=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Kh={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Vh.prototype.readResolve=function(){return Vh.nameToTypeMap.get(this._name)},Vh.prototype.toString=function(){return this._name},Vh.prototype.interfaces_=function(){return[mr]},Vh.prototype.getClass=function(){return Vh},Kh.serialVersionUID.get=function(){return-552860263173159e4},Kh.nameToTypeMap.get=function(){return new Yh},Object.defineProperties(Vh,Kh),Wh.Type=Vh,Wh.FIXED=new Vh("FIXED"),Wh.FLOATING=new Vh("FLOATING"),Wh.FLOATING_SINGLE=new Vh("FLOATING SINGLE");var $h=function t(){this._precisionModel=new Wh,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?uu(arguments[0],ou)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Wh&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Zh={serialVersionUID:{configurable:!0}};$h.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new nu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new nu(t.getMinX(),t.getMinY()),new nu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new nu(t.getMinX(),t.getMinY()),new nu(t.getMinX(),t.getMaxY()),new nu(t.getMaxX(),t.getMaxY()),new nu(t.getMaxX(),t.getMinY()),new nu(t.getMinX(),t.getMinY())]),null)},$h.prototype.createLineString=function(t){return t?t instanceof Array?new Th(this.getCoordinateSequenceFactory().create(t),this):uu(t,_u)?new Th(t,this):void 0:new Th(this.getCoordinateSequenceFactory().create([]),this)},$h.prototype.createMultiLineString=function(){if(0===arguments.length)return new wh(null,this);if(1===arguments.length){var t=arguments[0];return new wh(t,this)}},$h.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection($h.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Ah)return this.createMultiPolygon($h.toPolygonArray(t));if(a instanceof Th)return this.createMultiLineString($h.toLineStringArray(t));if(a instanceof Nh)return this.createMultiPoint($h.toPointArray(t));Ru.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},$h.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},$h.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(uu(arguments[0],_u)){var e=arguments[0];return new Nh(e,this)}}},$h.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},$h.prototype.createPolygon=function(){if(0===arguments.length)return new Ah(null,null,this);if(1===arguments.length){if(uu(arguments[0],_u)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof kh){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new Ah(i,r,this)}},$h.prototype.getSRID=function(){return this._SRID},$h.prototype.createGeometryCollection=function(){if(0===arguments.length)return new xh(null,this);if(1===arguments.length){var t=arguments[0];return new xh(t,this)}},$h.prototype.createGeometry=function(t){return new Dh(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},$h.prototype.getPrecisionModel=function(){return this._precisionModel},$h.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(uu(arguments[0],_u)){var e=arguments[0];return new kh(e,this)}}},$h.prototype.createMultiPolygon=function(){if(0===arguments.length)return new Ph(null,this);if(1===arguments.length){var t=arguments[0];return new Ph(t,this)}},$h.prototype.createMultiPoint=function(){if(0===arguments.length)return new Rh(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Rh(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(uu(arguments[0],_u)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Ih.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},$h.prototype.interfaces_=function(){return[mr]},$h.prototype.getClass=function(){return $h},$h.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$h.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},$h.getDefaultCoordinateSequenceFactory=function(){return Uh.instance()},$h.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$h.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$h.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$h.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$h.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$h.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$h.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Zh.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties($h,Zh);var Jh=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Qh=function(t){this.geometryFactory=t||new $h};Qh.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!tl[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Jh.indexOf(n)?tl[n].apply(this,[e.coordinates]):"GeometryCollection"===n?tl[n].apply(this,[e.geometries]):tl[n].apply(this,[e])},Qh.prototype.write=function(t){var e=t.getGeometryType();if(!el[e])throw new Error("Geometry is not supported");return el[e].apply(this,[t])};var tl={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!tl[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=tl.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new nu(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new nu(t[0],t[1]),new nu(t[2],t[1]),new nu(t[2],t[3]),new nu(t[0],t[3]),new nu(t[0],t[1])])},Point:function(t){var e=new nu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tl.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=tl.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tl.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=tl.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=tl.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(tl.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},el={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:el.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=el.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(el.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=el.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=el.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],o=el.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=el.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(el[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},nl=function(t){this.geometryFactory=t||new $h,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Qh(this.geometryFactory)};nl.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Wh.FIXED&&this.reducePrecision(e),e},nl.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var il=function(){this.parser=new Qh(this.geometryFactory)};il.prototype.write=function(t){return this.parser.write(t)};var rl=function(){},ol={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};rl.prototype.interfaces_=function(){return[]},rl.prototype.getClass=function(){return rl},rl.opposite=function(t){return t===rl.LEFT?rl.RIGHT:t===rl.RIGHT?rl.LEFT:t},ol.ON.get=function(){return 0},ol.LEFT.get=function(){return 1},ol.RIGHT.get=function(){return 2},Object.defineProperties(rl,ol),(Nr.prototype=new Error).name="EmptyStackException",(Lr.prototype=new eh).add=function(t){return this.array_.push(t),!0},Lr.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Lr.prototype.push=function(t){return this.array_.push(t),t},Lr.prototype.pop=function(t){if(0===this.array_.length)throw new Nr;return this.array_.pop()},Lr.prototype.peek=function(){if(0===this.array_.length)throw new Nr;return this.array_[this.array_.length-1]},Lr.prototype.empty=function(){return 0===this.array_.length},Lr.prototype.isEmpty=function(){return this.empty()},Lr.prototype.search=function(t){return this.array_.indexOf(t)},Lr.prototype.size=function(){return this.array_.length},Lr.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var sl=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};sl.prototype.getCoordinate=function(){return this._minCoord},sl.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},sl.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Ru.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=zu.computeOrientation(this._minCoord,n,e),r=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===zu.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===zu.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)},sl.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=rl.LEFT;return n[e].y<n[e+1].y&&(i=rl.RIGHT),i},sl.prototype.getEdge=function(){return this._orientedDe},sl.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},sl.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},sl.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Ru.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===rl.LEFT&&(this._orientedDe=this._minDe.getSym())},sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl};var al=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new nu(i):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Lu),ul=function(){this.array_=[]};ul.prototype.addLast=function(t){this.array_.push(t)},ul.prototype.removeFirst=function(){return this.array_.shift()},ul.prototype.isEmpty=function(){return 0===this.array_.length};var hl=function(){this._finder=null,this._dirEdgeList=new nh,this._nodes=new nh,this._rightMostCoord=null,this._env=null,this._finder=new sl};hl.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},hl.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},hl.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new al("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},hl.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(rl.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},hl.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},hl.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(rl.RIGHT)>=1&&e.getDepth(rl.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},hl.prototype.computeDepths=function(t){var e=new ch,n=new ul,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},hl.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},hl.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Cu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},hl.prototype.addReachable=function(t){var e=new Lr;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},hl.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(rl.LEFT,t.getDepth(rl.RIGHT)),e.setDepth(rl.RIGHT,t.getDepth(rl.LEFT))},hl.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},hl.prototype.getNodes=function(){return this._nodes},hl.prototype.getDirectedEdges=function(){return this._dirEdgeList},hl.prototype.interfaces_=function(){return[Qa]},hl.prototype.getClass=function(){return hl};var ll=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[rl.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[rl.ON]=o,this.location[rl.LEFT]=s,this.location[rl.RIGHT]=a}};ll.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},ll.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==su.NONE)return!1;return!0},ll.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===su.NONE&&(this.location[e]=t)},ll.prototype.isLine=function(){return 1===this.location.length},ll.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[rl.ON]=this.location[rl.ON],e[rl.LEFT]=su.NONE,e[rl.RIGHT]=su.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===su.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},ll.prototype.getLocations=function(){return this.location},ll.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[rl.LEFT];this.location[rl.LEFT]=this.location[rl.RIGHT],this.location[rl.RIGHT]=t},ll.prototype.toString=function(){var t=new cu;return this.location.length>1&&t.append(su.toLocationSymbol(this.location[rl.LEFT])),t.append(su.toLocationSymbol(this.location[rl.ON])),this.location.length>1&&t.append(su.toLocationSymbol(this.location[rl.RIGHT])),t.toString()},ll.prototype.setLocations=function(t,e,n){this.location[rl.ON]=t,this.location[rl.LEFT]=e,this.location[rl.RIGHT]=n},ll.prototype.get=function(t){return t<this.location.length?this.location[t]:su.NONE},ll.prototype.isArea=function(){return this.location.length>1},ll.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===su.NONE)return!0;return!1},ll.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(rl.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},ll.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(su.NONE)},ll.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},ll.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll};var cl=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new ll(e),this.elt[1]=new ll(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new ll(n.elt[0]),this.elt[1]=new ll(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new ll(su.NONE),this.elt[1]=new ll(su.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new ll(o,s,a),this.elt[1]=new ll(o,s,a)}else if(4===arguments.length){var u=arguments[0],h=arguments[1],l=arguments[2],c=arguments[3];this.elt[0]=new ll(su.NONE,su.NONE,su.NONE),this.elt[1]=new ll(su.NONE,su.NONE,su.NONE),this.elt[u].setLocations(h,l,c)}};cl.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},cl.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},cl.prototype.isNull=function(t){return this.elt[t].isNull()},cl.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},cl.prototype.isLine=function(t){return this.elt[t].isLine()},cl.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new ll(t.elt[e]):this.elt[e].merge(t.elt[e])},cl.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},cl.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(rl.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},cl.prototype.toString=function(){var t=new cu;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},cl.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},cl.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},cl.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(rl.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},cl.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},cl.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},cl.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new ll(this.elt[t].location[0]))},cl.prototype.interfaces_=function(){return[]},cl.prototype.getClass=function(){return cl},cl.toLineLabel=function(t){for(var e=new cl(su.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var fl=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new nh,this._pts=new nh,this._label=new cl(su.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new nh,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};fl.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=zu.isCCW(this._ring.getCoordinates())},fl.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},fl.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new al("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new al("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();Ru.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},fl.prototype.getLinearRing=function(){return this._ring},fl.prototype.getCoordinate=function(t){return this._pts.get(t)},fl.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},fl.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var s=i.length-2;n&&(s=i.length-1);for(var a=s;a>=0;a--)this._pts.add(i[a])}},fl.prototype.isHole=function(){return this._isHole},fl.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},fl.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!zu.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},fl.prototype.addHole=function(t){this._holes.add(t)},fl.prototype.isShell=function(){return null===this._shell},fl.prototype.getLabel=function(){return this._label},fl.prototype.getEdges=function(){return this._edges},fl.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},fl.prototype.getShell=function(){return this._shell},fl.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,rl.RIGHT);if(i===su.NONE)return null;if(this._label.getLocation(n)===su.NONE)return this._label.setLocation(n,i),null}},fl.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},fl.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},fl.prototype.interfaces_=function(){return[]},fl.prototype.getClass=function(){return fl};var pl=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fl),dl=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new nh,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new pl(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fl),gl=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};gl.prototype.setVisited=function(t){this._isVisited=t},gl.prototype.setInResult=function(t){this._isInResult=t},gl.prototype.isCovered=function(){return this._isCovered},gl.prototype.isCoveredSet=function(){return this._isCoveredSet},gl.prototype.setLabel=function(t){this._label=t},gl.prototype.getLabel=function(){return this._label},gl.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},gl.prototype.updateIM=function(t){Ru.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},gl.prototype.isInResult=function(){return this._isInResult},gl.prototype.isVisited=function(){return this._isVisited},gl.prototype.interfaces_=function(){return[]},gl.prototype.getClass=function(){return gl};var yl=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new cl(0,su.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=su.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==su.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new cl(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof cl)for(var n=arguments[0],i=0;i<2;i++){var r=this.computeMergedLocation(n,i);this._label.getLocation(i)===su.NONE&&this._label.setLocation(i,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=su.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case su.BOUNDARY:n=su.INTERIOR;break;case su.INTERIOR:default:n=su.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gl),ml=function(){this.nodeMap=new Mr,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};ml.prototype.find=function(t){return this.nodeMap.get(t)},ml.prototype.addNode=function(){if(arguments[0]instanceof nu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof yl){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},ml.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},ml.prototype.iterator=function(){return this.nodeMap.values().iterator()},ml.prototype.values=function(){return this.nodeMap.values()},ml.prototype.getBoundaryNodes=function(t){for(var e=new nh,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===su.BOUNDARY&&e.add(i)}return e},ml.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},ml.prototype.interfaces_=function(){return[]},ml.prototype.getClass=function(){return ml};var _l=function(){},vl={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};_l.prototype.interfaces_=function(){return[]},_l.prototype.getClass=function(){return _l},_l.isNorthern=function(t){return t===_l.NE||t===_l.NW},_l.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},_l.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},_l.isInHalfPlane=function(t,e){return e===_l.SE?t===_l.SE||t===_l.SW:t===e||t===e+1},_l.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new $a("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?_l.NE:_l.SE:e>=0?_l.NW:_l.SW}if(arguments[0]instanceof nu&&arguments[1]instanceof nu){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new $a("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?_l.NE:_l.SE:i.y>=n.y?_l.NW:_l.SW}},vl.NE.get=function(){return 0},vl.NW.get=function(){return 1},vl.SW.get=function(){return 2},vl.SE.get=function(){return 3},Object.defineProperties(_l,vl);var bl=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._edge=e,this.init(n,i),this._label=null}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=r,this.init(o,s),this._label=a}};bl.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:zu.computeOrientation(t._p0,t._p1,this._p1)},bl.prototype.getDy=function(){return this._dy},bl.prototype.getCoordinate=function(){return this._p0},bl.prototype.setNode=function(t){this._node=t},bl.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},bl.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},bl.prototype.getDirectedCoordinate=function(){return this._p1},bl.prototype.getDx=function(){return this._dx},bl.prototype.getLabel=function(){return this._label},bl.prototype.getEdge=function(){return this._edge},bl.prototype.getQuadrant=function(){return this._quadrant},bl.prototype.getNode=function(){return this._node},bl.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},bl.prototype.computeLabel=function(t){},bl.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=_l.quadrant(this._dx,this._dy),Ru.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},bl.prototype.interfaces_=function(){return[Qa]},bl.prototype.getClass=function(){return bl};var xl=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new cl(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new al("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,rl.LEFT)===su.INTERIOR&&this._label.getLocation(e,rl.RIGHT)===su.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[rl.LEFT]+"/"+this._depth[rl.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,su.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,su.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===rl.LEFT&&(i=-1);var r=rl.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===su.EXTERIOR&&e===su.INTERIOR?1:t===su.INTERIOR&&e===su.EXTERIOR?-1:0},e}(bl),wl=function(){};wl.prototype.createNode=function(t){return new yl(t,null)},wl.prototype.interfaces_=function(){return[]},wl.prototype.getClass=function(){return wl};var El=function(){if(this._edges=new nh,this._nodes=null,this._edgeEndList=new nh,0===arguments.length)this._nodes=new ml(new wl);else if(1===arguments.length){var t=arguments[0];this._nodes=new ml(t)}};El.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},El.prototype.find=function(t){return this._nodes.find(t)},El.prototype.addNode=function(){if(arguments[0]instanceof yl){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof nu){var e=arguments[0];return this._nodes.addNode(e)}},El.prototype.getNodeIterator=function(){return this._nodes.iterator()},El.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},El.prototype.debugPrintln=function(t){wu.out.println(t)},El.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===su.BOUNDARY},El.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},El.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&zu.computeOrientation(t,e,i)===zu.COLLINEAR&&_l.quadrant(t,e)===_l.quadrant(n,i)},El.prototype.getEdgeEnds=function(){return this._edgeEndList},El.prototype.debugPrint=function(t){wu.out.print(t)},El.prototype.getEdgeIterator=function(){return this._edges.iterator()},El.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},El.prototype.insertEdge=function(t){this._edges.add(t)},El.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},El.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new xl(n,!0),r=new xl(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},El.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},El.prototype.getNodes=function(){return this._nodes.values()},El.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El},El.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Cl=function(){this._geometryFactory=null,this._shellList=new nh;var t=arguments[0];this._geometryFactory=t};Cl.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},Cl.prototype.computePolygons=function(t){for(var e=new nh,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},Cl.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new al("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},Cl.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new nh,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},Cl.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Cl.prototype.buildMaximalEdgeRings=function(t){for(var e=new nh,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new dl(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},Cl.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},Cl.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Cl.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),h=u.getLinearRing(),l=h.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var c=!1;l.contains(i)&&zu.isPointInRing(r,h.getCoordinates())&&(c=!0),c&&(null===o||s.contains(l))&&(o=u)}return o},Cl.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return Ru.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Cl.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];El.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new nh,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl};var Sl=function(){};Sl.prototype.getBounds=function(){},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl};var Ml=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Ml.prototype.getItem=function(){return this._item},Ml.prototype.getBounds=function(){return this._bounds},Ml.prototype.interfaces_=function(){return[Sl,mr]},Ml.prototype.getClass=function(){return Ml};var Il=function(){this._size=null,this._items=null,this._size=0,this._items=new nh,this._items.add(null)};Il.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Il.prototype.size=function(){return this._size},Il.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Il.prototype.clear=function(){this._size=0,this._items.clear()},Il.prototype.isEmpty=function(){return 0===this._size},Il.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Il.prototype.interfaces_=function(){return[]},Il.prototype.getClass=function(){return Il};var Tl=function(){};Tl.prototype.visitItem=function(t){},Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl};var Ol=function(){};Ol.prototype.insert=function(t,e){},Ol.prototype.remove=function(t,e){},Ol.prototype.query=function(){},Ol.prototype.interfaces_=function(){return[]},Ol.prototype.getClass=function(){return Ol};var Nl=function(){if(this._childBoundables=new nh,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Ll={serialVersionUID:{configurable:!0}};Nl.prototype.getLevel=function(){return this._level},Nl.prototype.size=function(){return this._childBoundables.size()},Nl.prototype.getChildBoundables=function(){return this._childBoundables},Nl.prototype.addChildBoundable=function(t){Ru.isTrue(null===this._bounds),this._childBoundables.add(t)},Nl.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Nl.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Nl.prototype.interfaces_=function(){return[Sl,mr]},Nl.prototype.getClass=function(){return Nl},Ll.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Nl,Ll);var Al=function(){};Al.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Al.min=function(t){return Al.sort(t),t.get(0)},Al.sort=function(t,e){var n=t.toArray();e?yh.sort(n,e):yh.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},Al.singletonList=function(t){var e=new nh;return e.add(t),e};var Rl=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};Rl.prototype.expandToQueue=function(t,e){var n=Rl.isComposite(this._boundable1),i=Rl.isComposite(this._boundable2);if(n&&i)return Rl.area(this._boundable1)>Rl.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new $a("neither boundable is composite")},Rl.prototype.isLeaves=function(){return!(Rl.isComposite(this._boundable1)||Rl.isComposite(this._boundable2))},Rl.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},Rl.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),s=new Rl(o,e,this._itemDistance);s.getDistance()<i&&n.add(s)}},Rl.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Rl.prototype.getDistance=function(){return this._distance},Rl.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Rl.prototype.interfaces_=function(){return[Qa]},Rl.prototype.getClass=function(){return Rl},Rl.area=function(t){return t.getBounds().getArea()},Rl.isComposite=function(t){return t instanceof Nl};var kl=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new nh,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];Ru.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},Pl={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};kl.prototype.getNodeCapacity=function(){return this._nodeCapacity},kl.prototype.lastNode=function(t){return t.get(t.size()-1)},kl.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Nl?t+=this.size(n):n instanceof Ml&&(t+=1)}return t}},kl.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof Ml&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},kl.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new nh:t}if(1===arguments.length){for(var e=arguments[0],n=new nh,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Nl){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof Ml?n.add(r.getItem()):Ru.shouldNeverReachHere()}return n.size()<=0?null:n}},kl.prototype.insert=function(t,e){Ru.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Ml(t,e))},kl.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new nh;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(Ru.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Nl?this.boundablesAtLevel(n,s,r):(Ru.isTrue(s instanceof Ml),-1===n&&r.add(s))}return null}},kl.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new nh;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if(uu(arguments[2],Tl)&&arguments[0]instanceof Object&&arguments[1]instanceof Nl)for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),u=0;u<a.size();u++){var h=a.get(u);this.getIntersectsOp().intersects(h.getBounds(),r)&&(h instanceof Nl?this.query(r,h,s):h instanceof Ml?s.visitItem(h.getItem()):Ru.shouldNeverReachHere())}else if(uu(arguments[2],eh)&&arguments[0]instanceof Object&&arguments[1]instanceof Nl)for(var l=arguments[0],c=arguments[1],f=arguments[2],p=c.getChildBoundables(),d=0;d<p.size();d++){var g=p.get(d);this.getIntersectsOp().intersects(g.getBounds(),l)&&(g instanceof Nl?this.query(l,g,f):g instanceof Ml?f.add(g.getItem()):Ru.shouldNeverReachHere())}},kl.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},kl.prototype.getRoot=function(){return this.build(),this._root},kl.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Nl&&(o=this.remove(n,u,r))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},kl.prototype.createHigherLevels=function(t,e){Ru.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},kl.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Nl){var i=this.depth(n);i>t&&(t=i)}}return t+1}},kl.prototype.createParentBoundables=function(t,e){Ru.isTrue(!t.isEmpty());var n=new nh;n.add(this.createNode(e));var i=new nh(t);Al.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},kl.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},kl.prototype.interfaces_=function(){return[mr]},kl.prototype.getClass=function(){return kl},kl.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Pl.IntersectsOp.get=function(){return Dl},Pl.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Pl.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(kl,Pl);var Dl=function(){},jl=function(){};jl.prototype.distance=function(t,e){},jl.prototype.interfaces_=function(){return[]},jl.prototype.getClass=function(){return jl};var Fl=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Ru.isTrue(t.length>0);for(var n=new nh,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},e.prototype.createNode=function(t){return new zl(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new nh;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];t.prototype.query.call(this,n,i)}else if(3===arguments.length)if(uu(arguments[2],Tl)&&arguments[0]instanceof Object&&arguments[1]instanceof Nl){var r=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,r,o,s)}else if(uu(arguments[2],eh)&&arguments[0]instanceof Object&&arguments[1]instanceof Nl){var a=arguments[0],u=arguments[1],h=arguments[2];t.prototype.query.call(this,a,u,h)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Ru.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new nh(t);Al.sort(r,e.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(uu(arguments[0],jl)){var t=arguments[0],n=new Rl(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof Rl){var i=arguments[0];return this.nearestNeighbour(i,Za.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&uu(arguments[1],jl)){var r=arguments[0],o=arguments[1],s=new Rl(this.getRoot(),r.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof Rl&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],h=null,l=new Il;for(l.add(a);!l.isEmpty()&&u>0;){var c=l.poll(),f=c.getDistance();if(f>=u)break;c.isLeaves()?(u=f,h=c):c.expandToQueue(l,u)}return[h.getBoundable(0).getItem(),h.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[0],d=arguments[1],g=arguments[2],y=new Ml(p,d),m=new Rl(this.getRoot(),y,g);return this.nearestNeighbour(m)[0]}},e.prototype.interfaces_=function(){return[Ol,mr]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return zl},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[eu]},compare:function(n,i){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[eu]},compare:function(n,i){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(kl),zl=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Cu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Nl),Bl=function(){};Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl},Bl.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Bl.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=Bl.relativeSign(e.x,n.x),r=Bl.relativeSign(e.y,n.y);switch(t){case 0:return Bl.compareValue(i,r);case 1:return Bl.compareValue(r,i);case 2:return Bl.compareValue(r,-i);case 3:return Bl.compareValue(-i,r);case 4:return Bl.compareValue(-i,-r);case 5:return Bl.compareValue(-r,-i);case 6:return Bl.compareValue(-r,i);case 7:return Bl.compareValue(i,-r)}return Ru.shouldNeverReachHere("invalid octant value"),0},Bl.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var ql=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new nu(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};ql.prototype.getCoordinate=function(){return this.coord},ql.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},ql.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Bl.compare(this._segmentOctant,this.coord,e.coord)},ql.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},ql.prototype.isInterior=function(){return this._isInterior},ql.prototype.interfaces_=function(){return[Qa]},ql.prototype.getClass=function(){return ql};var Gl=function(){this._nodeMap=new Mr,this._edge=null;var t=arguments[0];this._edge=t};Gl.prototype.getSplitCoordinates=function(){var t=new rh;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},Gl.prototype.addCollapsedNodes=function(){var t=new nh;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Gl.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Gl.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new fu(e+1))}},Gl.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new nu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));r&&n.add(new nu(e.coord))},Gl.prototype.iterator=function(){return this._nodeMap.values().iterator()},Gl.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Gl.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},Gl.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new fu(e[0])),i=r}},Gl.prototype.getEdge=function(){return this._edge},Gl.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Gl.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new nu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new nu(e.coord)),new Wl(o,this._edge.getData())},Gl.prototype.add=function(t,e){var n=new ql(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(Ru.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},Gl.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Lu("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new Lu("bad split edge end point at "+r)},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl};var Ul=function(){};Ul.prototype.interfaces_=function(){return[]},Ul.prototype.getClass=function(){return Ul},Ul.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new $a("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof nu&&arguments[1]instanceof nu){var r=arguments[0],o=arguments[1],s=o.x-r.x,a=o.y-r.y;if(0===s&&0===a)throw new $a("Cannot compute the octant for two identical points "+r);return Ul.octant(s,a)}};var Hl=function(){};Hl.prototype.getCoordinates=function(){},Hl.prototype.size=function(){},Hl.prototype.getCoordinate=function(t){},Hl.prototype.isClosed=function(){},Hl.prototype.setData=function(t){},Hl.prototype.getData=function(){},Hl.prototype.interfaces_=function(){return[]},Hl.prototype.getClass=function(){return Hl};var Yl=function(){};Yl.prototype.addIntersection=function(t,e){},Yl.prototype.interfaces_=function(){return[Hl]},Yl.prototype.getClass=function(){return Yl};var Wl=function(){this._nodeList=new Gl(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Wl.prototype.getCoordinates=function(){return this._pts},Wl.prototype.size=function(){return this._pts.length},Wl.prototype.getCoordinate=function(t){return this._pts[t]},Wl.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Wl.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Wl.prototype.setData=function(t){this._data=t},Wl.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Ul.octant(t,e)},Wl.prototype.getData=function(){return this._data},Wl.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[3],o=new nu(n.getIntersection(r));this.addIntersection(o,i)}},Wl.prototype.toString=function(){return Nu.toLineString(new qh(this._pts))},Wl.prototype.getNodeList=function(){return this._nodeList},Wl.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)},Wl.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},Wl.prototype.interfaces_=function(){return[Yl]},Wl.prototype.getClass=function(){return Wl},Wl.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new nh;return Wl.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)};var Xl=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new nu,this.p1=new nu;else if(1===arguments.length){var t=arguments[0];this.p0=new nu(t.p0),this.p1=new nu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this.p0=new nu(e,n),this.p1=new nu(i,r)}},Vl={serialVersionUID:{configurable:!0}};Xl.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Xl.prototype.orientationIndex=function(){if(arguments[0]instanceof Xl){var t=arguments[0],e=zu.orientationIndex(this.p0,this.p1,t.p0),n=zu.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof nu){var i=arguments[0];return zu.orientationIndex(this.p0,this.p1,i)}},Xl.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Xl.prototype.isVertical=function(){return this.p0.x===this.p1.x},Xl.prototype.equals=function(t){if(!(t instanceof Xl))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Xl.prototype.intersection=function(t){var e=new Du;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Xl.prototype.project=function(){if(arguments[0]instanceof nu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new nu(t);var e=this.projectionFactor(t),n=new nu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Xl){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var s=this.project(i.p0);r<0&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new Xl(s,a)}},Xl.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Xl.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Xl.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Xl.prototype.distancePerpendicular=function(t){return zu.distancePointLinePerpendicular(t,this.p0,this.p1)},Xl.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Xl.prototype.midPoint=function(){return Xl.midPoint(this.p0,this.p1)},Xl.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?Za.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},Xl.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=Za.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n},Xl.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Xl.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Xl.prototype.getLength=function(){return this.p0.distance(this.p1)},Xl.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Xl.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Xl.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Xl.prototype.lineIntersection=function(t){try{return Eu.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof xu))throw t}return null},Xl.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Xl.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}return new nu(n-u,i+a)},Xl.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Xl.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Za.isNaN(e))&&(e=1),e},Xl.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Xl.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Xl.prototype.distance=function(){if(arguments[0]instanceof Xl){var t=arguments[0];return zu.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof nu){var e=arguments[0];return zu.distancePointLine(e,this.p0,this.p1)}},Xl.prototype.pointAlong=function(t){var e=new nu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Xl.prototype.hashCode=function(){var t=Za.doubleToLongBits(this.p0.x);t^=31*Za.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=Za.doubleToLongBits(this.p1.x);return n^=31*Za.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Xl.prototype.interfaces_=function(){return[Qa,mr]},Xl.prototype.getClass=function(){return Xl},Xl.midPoint=function(t,e){return new nu((t.x+e.x)/2,(t.y+e.y)/2)},Vl.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Xl,Vl);var Kl=function(){this.tempEnv1=new Cu,this.tempEnv2=new Cu,this._overlapSeg1=new Xl,this._overlapSeg2=new Xl};Kl.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl};var $l=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i};$l.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},$l.prototype.computeSelect=function(t,e,n,i){var r=this._pts[e],o=this._pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},$l.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},$l.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},$l.prototype.setId=function(t){this._id=t},$l.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},$l.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Cu(t,e)}return this._env},$l.prototype.getEndIndex=function(){return this._end},$l.prototype.getStartIndex=function(){return this._start},$l.prototype.getContext=function(){return this._context},$l.prototype.getId=function(){return this._id},$l.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],u=n._pts[i],h=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,h),!o.tempEnv1.intersects(o.tempEnv2))return null;var l=Math.trunc((t+e)/2),c=Math.trunc((i+r)/2);t<l&&(i<c&&this.computeOverlapsInternal(t,l,n,i,c,o),c<r&&this.computeOverlapsInternal(t,l,n,c,r,o)),l<e&&(i<c&&this.computeOverlapsInternal(l,e,n,i,c,o),c<r&&this.computeOverlapsInternal(l,e,n,c,r,o))},$l.prototype.interfaces_=function(){return[]},$l.prototype.getClass=function(){return $l};var Zl=function(){};Zl.prototype.interfaces_=function(){return[]},Zl.prototype.getClass=function(){return Zl},Zl.getChainStartIndices=function(t){var e=0,n=new nh;n.add(new fu(e));do{var i=Zl.findChainEnd(t,e);n.add(new fu(i)),e=i}while(e<t.length-1);return Zl.toIntArray(n)},Zl.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=_l.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||_l.quadrant(t[r-1],t[r])===i);)r++;return r-1},Zl.getChains=function(){if(1===arguments.length){var t=arguments[0];return Zl.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new nh,r=Zl.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new $l(e,r[o],r[o+1],n);i.add(s)}return i}},Zl.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Jl=function(){};Jl.prototype.computeNodes=function(t){},Jl.prototype.getNodedSubstrings=function(){},Jl.prototype.interfaces_=function(){return[]},Jl.prototype.getClass=function(){return Jl};var Ql=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};Ql.prototype.setSegmentIntersector=function(t){this._segInt=t},Ql.prototype.interfaces_=function(){return[Jl]},Ql.prototype.getClass=function(){return Ql};var tc=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new nh,this._index=new Fl,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Wl.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=Zl.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new ec(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return ec},Object.defineProperties(e,n),e}(Ql),ec=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3],o=e.getContext(),s=i.getContext();this._si.processIntersections(o,n,s,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Kl),nc=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},ic={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};nc.prototype.getEndCapStyle=function(){return this._endCapStyle},nc.prototype.isSingleSided=function(){return this._isSingleSided},nc.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=nc.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=nc.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==nc.JOIN_ROUND&&(this._quadrantSegments=nc.DEFAULT_QUADRANT_SEGMENTS)},nc.prototype.getJoinStyle=function(){return this._joinStyle},nc.prototype.setJoinStyle=function(t){this._joinStyle=t},nc.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},nc.prototype.getSimplifyFactor=function(){return this._simplifyFactor},nc.prototype.getQuadrantSegments=function(){return this._quadrantSegments},nc.prototype.setEndCapStyle=function(t){this._endCapStyle=t},nc.prototype.getMitreLimit=function(){return this._mitreLimit},nc.prototype.setMitreLimit=function(t){this._mitreLimit=t},nc.prototype.setSingleSided=function(t){this._isSingleSided=t},nc.prototype.interfaces_=function(){return[]},nc.prototype.getClass=function(){return nc},nc.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},ic.CAP_ROUND.get=function(){return 1},ic.CAP_FLAT.get=function(){return 2},ic.CAP_SQUARE.get=function(){return 3},ic.JOIN_ROUND.get=function(){return 1},ic.JOIN_MITRE.get=function(){return 2},ic.JOIN_BEVEL.get=function(){return 3},ic.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},ic.DEFAULT_MITRE_LIMIT.get=function(){return 5},ic.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(nc,ic);var rc=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=zu.COUNTERCLOCKWISE,this._inputLine=t||null},oc={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};rc.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},rc.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var r=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=rc.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},rc.prototype.isShallowConcavity=function(t,e,n,i){return zu.computeOrientation(t,e,n)===this._angleOrientation&&zu.distancePointLine(e,t,n)<i},rc.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/rc.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this._inputLine[s],r))return!1;return!0},rc.prototype.isConcave=function(t,e,n){return zu.computeOrientation(t,e,n)===this._angleOrientation},rc.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=zu.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},rc.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===rc.DELETE;)e++;return e},rc.prototype.isShallow=function(t,e,n,i){return zu.distancePointLine(e,t,n)<i},rc.prototype.collapseLine=function(){for(var t=new rh,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==rc.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},rc.prototype.interfaces_=function(){return[]},rc.prototype.getClass=function(){return rc},rc.simplify=function(t,e){return new rc(t).simplify(e)},oc.INIT.get=function(){return 0},oc.DELETE.get=function(){return 1},oc.KEEP.get=function(){return 1},oc.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(rc,oc);var sc=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new nh},ac={COORDINATE_ARRAY_TYPE:{configurable:!0}};sc.prototype.getCoordinates=function(){return this._ptList.toArray(sc.COORDINATE_ARRAY_TYPE)},sc.prototype.setPrecisionModel=function(t){this._precisionModel=t},sc.prototype.addPt=function(t){var e=new nu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},sc.prototype.revere=function(){},sc.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},sc.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},sc.prototype.toString=function(){return(new $h).createLineString(this.getCoordinates()).toString()},sc.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new nu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},sc.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},sc.prototype.interfaces_=function(){return[]},sc.prototype.getClass=function(){return sc},ac.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(sc,ac);var uc=function(){},hc={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc},uc.toDegrees=function(t){return 180*t/Math.PI},uc.normalize=function(t){for(;t>Math.PI;)t-=uc.PI_TIMES_2;for(;t<=-Math.PI;)t+=uc.PI_TIMES_2;return t},uc.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},uc.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},uc.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},uc.interiorAngle=function(t,e,n){var i=uc.angle(e,t),r=uc.angle(e,n);return Math.abs(r-i)},uc.normalizePositive=function(t){if(t<0){for(;t<0;)t+=uc.PI_TIMES_2;t>=uc.PI_TIMES_2&&(t=0)}else{for(;t>=uc.PI_TIMES_2;)t-=uc.PI_TIMES_2;t<0&&(t=0)}return t},uc.angleBetween=function(t,e,n){var i=uc.angle(e,t),r=uc.angle(e,n);return uc.diff(i,r)},uc.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},uc.toRadians=function(t){return t*Math.PI/180},uc.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?uc.COUNTERCLOCKWISE:n<0?uc.CLOCKWISE:uc.NONE},uc.angleBetweenOriented=function(t,e,n){var i=uc.angle(e,t),r=uc.angle(e,n)-i;return r<=-Math.PI?r+uc.PI_TIMES_2:r>Math.PI?r-uc.PI_TIMES_2:r},hc.PI_TIMES_2.get=function(){return 2*Math.PI},hc.PI_OVER_2.get=function(){return Math.PI/2},hc.PI_OVER_4.get=function(){return Math.PI/4},hc.COUNTERCLOCKWISE.get=function(){return zu.COUNTERCLOCKWISE},hc.CLOCKWISE.get=function(){return zu.CLOCKWISE},hc.NONE.get=function(){return zu.COLLINEAR},Object.defineProperties(uc,hc);var lc=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Xl,this._seg1=new Xl,this._offset0=new Xl,this._offset1=new Xl,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Du,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===nc.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},cc={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};lc.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=zu.computeOrientation(this._s0,this._s1,this._s2),i=n===zu.CLOCKWISE&&this._side===rl.LEFT||n===zu.COUNTERCLOCKWISE&&this._side===rl.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},lc.prototype.addLineEndCap=function(t,e){var n=new Xl(t,e),i=new Xl;this.computeOffsetSegment(n,rl.LEFT,this._distance,i);var r=new Xl;this.computeOffsetSegment(n,rl.RIGHT,this._distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case nc.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,zu.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case nc.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case nc.CAP_SQUARE:var u=new nu;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var h=new nu(i.p1.x+u.x,i.p1.y+u.y),l=new nu(r.p1.x+u.x,r.p1.y+u.y);this._segList.addPt(h),this._segList.addPt(l)}},lc.prototype.getCoordinates=function(){return this._segList.getCoordinates()},lc.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=Eu.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof xu))throw t;o=new nu(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},lc.prototype.addFilletCorner=function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,h=n.y-t.y,l=Math.atan2(h,u);i===zu.CLOCKWISE?a<=l&&(a+=2*Math.PI):a>=l&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,l,i,r),this._segList.addPt(n)},lc.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*lc.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===nc.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===nc.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},lc.prototype.createSquare=function(t){this._segList.addPt(new nu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new nu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new nu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new nu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},lc.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},lc.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},lc.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},lc.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},lc.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=uc.angle(r,this._seg0.p0),s=uc.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=uc.normalize(o+s),u=uc.normalize(a+Math.PI),h=i*n,l=n-h*Math.abs(Math.sin(s)),c=r.x+h*Math.cos(u),f=r.y+h*Math.sin(u),p=new nu(c,f),d=new Xl(r,p),g=d.pointAlongOffset(1,l),y=d.pointAlongOffset(1,-l);this._side===rl.LEFT?(this._segList.addPt(g),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(g))},lc.prototype.computeOffsetSegment=function(t,e,n,i){var r=e===rl.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,h=r*n*s/a;i.p0.x=t.p0.x-h,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-h,i.p1.y=t.p1.y+u},lc.prototype.addFilletArc=function(t,e,n,i,r){var o=i===zu.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,h=0,l=new nu;h<s;){var c=e+o*h;l.x=t.x+r*Math.cos(c),l.y=t.y+r*Math.sin(c),this._segList.addPt(l),h+=u}},lc.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*lc.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new nu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new nu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},lc.prototype.createCircle=function(t){var e=new nu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},lc.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},lc.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new sc,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*lc.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},lc.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===nc.JOIN_BEVEL||this._bufParams.getJoinStyle()===nc.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,zu.CLOCKWISE,this._distance))},lc.prototype.closeRing=function(){this._segList.closeRing()},lc.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},lc.prototype.interfaces_=function(){return[]},lc.prototype.getClass=function(){return lc},cc.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},cc.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},cc.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},cc.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(lc,cc);var fc=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};fc.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&oh.reverse(o),o},fc.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=rc.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],rl.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=rc.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],rl.LEFT),n.addFirstSegment();for(var h=2;h<=u;h++)n.addNextSegment(a[h],!0)}n.addLastSegment(),n.closeRing()},fc.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===rl.RIGHT&&(i=-i);var r=rc.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},fc.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=rc.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],rl.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=rc.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],rl.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},fc.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case nc.CAP_ROUND:e.createCircle(t);break;case nc.CAP_SQUARE:e.createSquare(t)}},fc.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},fc.prototype.getBufferParameters=function(){return this._bufParams},fc.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},fc.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return fc.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},fc.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=rc.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],rl.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=rc.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],rl.LEFT),n.addFirstSegment();for(var h=2;h<=u;h++)n.addNextSegment(a[h],!0)}n.addLastSegment()},fc.prototype.getSegGen=function(t){return new lc(this._precisionModel,this._bufParams,t)},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc},fc.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new nu(t[n]);return e};var pc=function(){this._subgraphs=null,this._seg=new Xl,this._cga=new zu;var t=arguments[0];this._subgraphs=t},dc={DepthSegment:{configurable:!0}};pc.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new nh,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(uu(arguments[2],eh)&&arguments[0]instanceof nu&&arguments[1]instanceof xl){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),h=0;h<u.length-1;h++)if(this._seg.p0=u[h],this._seg.p1=u[h+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||zu.computeOrientation(this._seg.p0,this._seg.p1,o)===zu.RIGHT)){var l=s.getDepth(rl.LEFT);this._seg.p0.equals(u[h])||(l=s.getDepth(rl.RIGHT));var c=new gc(this._seg,l);a.add(c)}}else if(uu(arguments[2],eh)&&arguments[0]instanceof nu&&uu(arguments[1],eh))for(var f=arguments[0],p=arguments[1],d=arguments[2],g=p.iterator();g.hasNext();){var y=g.next();y.isForward()&&this.findStabbedSegments(f,y,d)}},pc.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Al.min(e)._leftDepth},pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc},dc.DepthSegment.get=function(){return gc},Object.defineProperties(pc,dc);var gc=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new Xl(t),this._leftDepth=e};gc.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},gc.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},gc.prototype.toString=function(){return this._upwardSeg.toString()},gc.prototype.interfaces_=function(){return[Qa]},gc.prototype.getClass=function(){return gc};var yc=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};yc.prototype.area=function(){return yc.area(this.p0,this.p1,this.p2)},yc.prototype.signedArea=function(){return yc.signedArea(this.p0,this.p1,this.p2)},yc.prototype.interpolateZ=function(t){if(null===t)throw new $a("Supplied point is null.");return yc.interpolateZ(t,this.p0,this.p1,this.p2)},yc.prototype.longestSideLength=function(){return yc.longestSideLength(this.p0,this.p1,this.p2)},yc.prototype.isAcute=function(){return yc.isAcute(this.p0,this.p1,this.p2)},yc.prototype.circumcentre=function(){return yc.circumcentre(this.p0,this.p1,this.p2)},yc.prototype.area3D=function(){return yc.area3D(this.p0,this.p1,this.p2)},yc.prototype.centroid=function(){return yc.centroid(this.p0,this.p1,this.p2)},yc.prototype.inCentre=function(){return yc.inCentre(this.p0,this.p1,this.p2)},yc.prototype.interfaces_=function(){return[]},yc.prototype.getClass=function(){return yc},yc.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},yc.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},yc.det=function(t,e,n,i){return t*i-e*n},yc.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,h=i.y-o,l=s*h-a*u,c=t.x-r,f=t.y-o,p=(h*c-a*f)/l,d=(-u*c+s*f)/l;return e.z+p*(n.z-e.z)+d*(i.z-e.z)},yc.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},yc.isAcute=function(t,e,n){return!!uc.isAcute(t,e,n)&&!!uc.isAcute(e,n,t)&&!!uc.isAcute(n,t,e)},yc.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,u=e.y-r,h=2*yc.det(o,s,a,u),l=yc.det(s,o*o+s*s,u,a*a+u*u),c=yc.det(o,o*o+s*s,a,a*a+u*u);return new nu(i-l/h,r+c/h)},yc.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new Eu(t.x+n/2,t.y+i/2,1),o=new Eu(t.x-i+n/2,t.y+n+i/2,1);return new Eu(r,o)},yc.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new nu(t.x+r*o,t.y+r*s)},yc.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,h=r*u-o*a,l=o*s-i*u,c=i*a-r*s,f=h*h+l*l+c*c;return Math.sqrt(f)/2},yc.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new nu(i,r)},yc.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o,a=(i*t.x+r*e.x+o*n.x)/s,u=(i*t.y+r*e.y+o*n.y)/s;return new nu(a,u)};var mc=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new nh;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};mc.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,su.EXTERIOR,su.INTERIOR)},mc.prototype.addPolygon=function(t){var e=this._distance,n=rl.LEFT;this._distance<0&&(e=-this._distance,n=rl.RIGHT);var i=t.getExteriorRing(),r=oh.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,su.EXTERIOR,su.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=oh.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,rl.opposite(n),su.INTERIOR,su.EXTERIOR)}},mc.prototype.isTriangleErodedCompletely=function(t,e){var n=new yc(t[0],t[1],t[2]),i=n.inCentre();return zu.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},mc.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=oh.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,su.EXTERIOR,su.INTERIOR)},mc.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new Wl(t,new cl(0,su.BOUNDARY,e,n));this._curveList.add(i)},mc.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},mc.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<kh.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=kh.MINIMUM_VALID_SIZE&&zu.isCCW(t)&&(o=r,s=i,n=rl.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},mc.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Ah?this.addPolygon(t):t instanceof Th?this.addLineString(t):t instanceof Nh?this.addPoint(t):(t instanceof Rh||t instanceof wh||t instanceof Ph||t instanceof xh)&&this.addCollection(t)},mc.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},mc.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},mc.prototype.interfaces_=function(){return[]},mc.prototype.getClass=function(){return mc};var _c=function(){};_c.prototype.locate=function(t){},_c.prototype.interfaces_=function(){return[]},_c.prototype.getClass=function(){return _c};var vc=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};vc.prototype.next=function(){if(this._atStart)return this._atStart=!1,vc.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new _r;var t=this._parent.getGeometryN(this._index++);return t instanceof xh?(this._subcollectionIterator=new vc(t),this._subcollectionIterator.next()):t},vc.prototype.remove=function(){throw new Error(this.getClass().getName())},vc.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},vc.prototype.interfaces_=function(){return[th]},vc.prototype.getClass=function(){return vc},vc.isAtomic=function(t){return!(t instanceof xh)};var bc=function(){this._geom=null;var t=arguments[0];this._geom=t};bc.prototype.locate=function(t){return bc.locate(t,this._geom)},bc.prototype.interfaces_=function(){return[_c]},bc.prototype.getClass=function(){return bc},bc.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&zu.isPointInRing(t,e.getCoordinates())},bc.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!bc.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(bc.isPointInRing(t,r))return!1}return!0},bc.containsPoint=function(t,e){if(e instanceof Ah)return bc.containsPointInPolygon(t,e);if(e instanceof xh)for(var n=new vc(e);n.hasNext();){var i=n.next();if(i!==e&&bc.containsPoint(t,i))return!0}return!1},bc.locate=function(t,e){return e.isEmpty()?su.EXTERIOR:bc.containsPoint(t,e)?su.INTERIOR:su.EXTERIOR};var xc=function(){this._edgeMap=new Mr,this._edgeList=null,this._ptInAreaLocation=[su.NONE,su.NONE]};xc.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},xc.prototype.propagateSideLabels=function(t){for(var e=su.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,rl.LEFT)!==su.NONE&&(e=i.getLocation(t,rl.LEFT))}if(e===su.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,rl.ON)===su.NONE&&a.setLocation(t,rl.ON,r),a.isArea(t)){var u=a.getLocation(t,rl.LEFT),h=a.getLocation(t,rl.RIGHT);if(h!==su.NONE){if(h!==r)throw new al("side location conflict",s.getCoordinate());u===su.NONE&&Ru.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),r=u}else Ru.isTrue(a.getLocation(t,rl.LEFT)===su.NONE,"found single null side"),a.setLocation(t,rl.RIGHT,r),a.setLocation(t,rl.LEFT,r)}}},xc.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},xc.prototype.print=function(t){wu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},xc.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},xc.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,rl.LEFT);Ru.isTrue(i!==su.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();Ru.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,rl.LEFT),u=s.getLocation(t,rl.RIGHT);if(a===u)return!1;if(u!==r)return!1;r=a}return!0},xc.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},xc.prototype.iterator=function(){return this.getEdges().iterator()},xc.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new nh(this._edgeMap.values())),this._edgeList},xc.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===su.NONE&&(this._ptInAreaLocation[t]=bc.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},xc.prototype.toString=function(){var t=new cu;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},xc.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},xc.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===su.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var h=su.NONE;if(e[u])h=su.EXTERIOR;else{var l=s.getCoordinate();h=this.getLocation(u,l,t)}a.setAllLocationsIfNull(u,h)}},xc.prototype.getDegree=function(){return this._edgeMap.size()},xc.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},xc.prototype.interfaces_=function(){return[]},xc.prototype.getClass=function(){return xc};var wc=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new al("no outgoing dirEdge found",this.getCoordinate());Ru.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return _l.isNorthern(r)&&_l.isNorthern(o)?n:_l.isNorthern(r)||_l.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(Ru.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},e.prototype.print=function(t){wu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new nh;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(rl.LEFT),i=t.getDepth(rl.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new al("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=o;u<s;u++){var h=this._edgeList.get(u);h.setEdgeDepths(rl.RIGHT,a),a=h.getDepth(rl.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(Ru.isTrue(null!==e,"found null for first outgoing dirEdge"),Ru.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=su.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=su.INTERIOR;break}if(i.isInResult()){t=su.EXTERIOR;break}}}if(t===su.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===su.INTERIOR):(s.isInResult()&&(r=su.EXTERIOR),a.isInResult()&&(r=su.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new cl(su.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==su.INTERIOR&&o!==su.BOUNDARY||this._label.setLocation(r,su.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xc),Ec=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new yl(t,new wc)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(wl),Cc=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Cc.prototype.compareTo=function(t){var e=t;return Cc.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Cc.prototype.interfaces_=function(){return[Qa]},Cc.prototype.getClass=function(){return Cc},Cc.orientation=function(t){return 1===oh.increasingDirection(t)},Cc.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,h=i?0:n.length-1;;){var l=t[u].compareTo(n[h]);if(0!==l)return l;var c=(u+=r)===s,f=(h+=o)===a;if(c&&!f)return-1;if(!c&&f)return 1;if(c&&f)return 0}};var Sc=function(){this._edges=new nh,this._ocaMap=new Mr};Sc.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},Sc.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Sc.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Sc.prototype.iterator=function(){return this._edges.iterator()},Sc.prototype.getEdges=function(){return this._edges},Sc.prototype.get=function(t){return this._edges.get(t)},Sc.prototype.findEqualEdge=function(t){var e=new Cc(t.getCoordinates());return this._ocaMap.get(e)},Sc.prototype.add=function(t){this._edges.add(t);var e=new Cc(t.getCoordinates());this._ocaMap.put(e,t)},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc};var Mc=function(){};Mc.prototype.processIntersections=function(t,e,n,i){},Mc.prototype.isDone=function(){},Mc.prototype.interfaces_=function(){return[]},Mc.prototype.getClass=function(){return Mc};var Ic=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Ic.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Ic.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Ic.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Ic.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Ic.prototype.getLineIntersector=function(){return this._li},Ic.prototype.hasProperIntersection=function(){return this._hasProper},Ic.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Ic.prototype.hasIntersection=function(){return this._hasIntersection},Ic.prototype.isDone=function(){return!1},Ic.prototype.hasInteriorIntersection=function(){return this._hasInterior},Ic.prototype.interfaces_=function(){return[Mc]},Ic.prototype.getClass=function(){return Ic},Ic.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Tc=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new nu(t),this.segmentIndex=e,this.dist=n};Tc.prototype.getSegmentIndex=function(){return this.segmentIndex},Tc.prototype.getCoordinate=function(){return this.coord},Tc.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Tc.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Tc.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Tc.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Tc.prototype.getDistance=function(){return this.dist},Tc.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Tc.prototype.interfaces_=function(){return[Qa]},Tc.prototype.getClass=function(){return Tc};var Oc=function(){this._nodeMap=new Mr,this.edge=null;var t=arguments[0];this.edge=t};Oc.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Oc.prototype.iterator=function(){return this._nodeMap.values().iterator()},Oc.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Oc.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Oc.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new nu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new kc(o,new cl(this.edge._label))},Oc.prototype.add=function(t,e,n){var i=new Tc(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},Oc.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc};var Nc=function(){};Nc.prototype.getChainStartIndices=function(t){var e=0,n=new nh;n.add(new fu(e));do{var i=this.findChainEnd(t,e);n.add(new fu(i)),e=i}while(e<t.length-1);return Nc.toIntArray(n)},Nc.prototype.findChainEnd=function(t,e){for(var n=_l.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&_l.quadrant(t[i-1],t[i])===n;)i++;return i-1},Nc.prototype.interfaces_=function(){return[]},Nc.prototype.getClass=function(){return Nc},Nc.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Lc=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Cu,this.env2=new Cu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Nc;this.startIndex=e.getChainStartIndices(this.pts)};Lc.prototype.getCoordinates=function(){return this.pts},Lc.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Lc.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Lc.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],h=arguments[5],l=this.pts[r],c=this.pts[o],f=s.pts[a],p=s.pts[u];if(o-r==1&&u-a==1)return h.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(l,c),this.env2.init(f,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((r+o)/2),g=Math.trunc((a+u)/2);r<d&&(a<g&&this.computeIntersectsForChain(r,d,s,a,g,h),g<u&&this.computeIntersectsForChain(r,d,s,g,u,h)),d<o&&(a<g&&this.computeIntersectsForChain(d,o,s,a,g,h),g<u&&this.computeIntersectsForChain(d,o,s,g,u,h))}},Lc.prototype.getStartIndexes=function(){return this.startIndex},Lc.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},Lc.prototype.interfaces_=function(){return[]},Lc.prototype.getClass=function(){return Lc};var Ac=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},Rc={NULL_VALUE:{configurable:!0}};Ac.prototype.getDepth=function(t,e){return this._depth[t][e]},Ac.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Ac.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Ac.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===Ac.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._depth[i][r]===Ac.NULL_VALUE}},Ac.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},Ac.prototype.getDelta=function(t){return this._depth[t][rl.RIGHT]-this._depth[t][rl.LEFT]},Ac.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?su.EXTERIOR:su.INTERIOR},Ac.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Ac.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==su.EXTERIOR&&i!==su.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=Ac.depthAtLocation(i):this._depth[e][n]+=Ac.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1];arguments[2]===su.INTERIOR&&this._depth[r][o]++}},Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac},Ac.depthAtLocation=function(t){return t===su.EXTERIOR?0:t===su.INTERIOR?1:Ac.NULL_VALUE},Rc.NULL_VALUE.get=function(){return-1},Object.defineProperties(Ac,Rc);var kc=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Oc(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Ac,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,cl.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(i=!1),this.pts[s].equals2D(n.pts[--o])||(r=!1),!i&&!r)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Lc(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Cu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var r=new nu(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(o=a,s=0)}this.eiList.add(r,o,s)},e.prototype.toString=function(){var t=new cu;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,rl.ON),e.getLocation(1,rl.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,rl.LEFT),e.getLocation(1,rl.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,rl.RIGHT),e.getLocation(1,rl.RIGHT),2))},e}(gl),Pc=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Sc,this._bufParams=t||null};Pc.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Pc.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new cl(t.getLabel())).flip(),n.merge(i);var r=Pc.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Pc.depthDelta(t.getLabel()))},Pc.prototype.buildSubgraphs=function(t,e){for(var n=new nh,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new pc(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},Pc.prototype.createSubgraphs=function(t){for(var e=new nh,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new hl;r.create(i),e.add(r)}}return Al.sort(e,Al.reverseOrder()),e},Pc.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Pc.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new tc,n=new Du;return n.setPrecisionModel(t),e.setSegmentIntersector(new Ic(n)),e},Pc.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new fc(n,this._bufParams),r=new mc(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new El(new Ec),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Cl(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},Pc.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new kc(r.getCoordinates(),new cl(s));this.insertUniqueEdge(a)}}},Pc.prototype.setNoder=function(t){this._workingNoder=t},Pc.prototype.interfaces_=function(){return[]},Pc.prototype.getClass=function(){return Pc},Pc.depthDelta=function(t){var e=t.getLocation(0,rl.LEFT),n=t.getLocation(0,rl.RIGHT);return e===su.INTERIOR&&n===su.EXTERIOR?1:e===su.EXTERIOR&&n===su.INTERIOR?-1:0},Pc.convertSegStrings=function(t){for(var e=new $h,n=new nh;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)};var Dc=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=i,this._offsetX=r,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};Dc.prototype.rescale=function(){if(uu(arguments[0],Ju))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&wu.out.println(n)}},Dc.prototype.scale=function(){if(uu(arguments[0],Ju)){for(var t=arguments[0],e=new nh,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Wl(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new nu(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].z);return oh.removeRepeatedPoints(o)}},Dc.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Dc.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Dc.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Dc.prototype.interfaces_=function(){return[Jl]},Dc.prototype.getClass=function(){return Dc};var jc=function(){this._li=new Du,this._segStrings=null;var t=arguments[0];this._segStrings=t},Fc={fact:{configurable:!0}};jc.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new Lu("found endpt/interior pt intersection at index "+o+" :pt "+n)},jc.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var h=0;h<a.length-1;h++)this.checkInteriorIntersections(r,u,o,h);else if(4===arguments.length){var l=arguments[0],c=arguments[1],f=arguments[2],p=arguments[3];if(l===f&&c===p)return null;var d=l.getCoordinates()[c],g=l.getCoordinates()[c+1],y=f.getCoordinates()[p],m=f.getCoordinates()[p+1];if(this._li.computeIntersection(d,g,y,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,g)||this.hasInteriorIntersection(this._li,y,m)))throw new Lu("found non-noded intersection at "+d+"-"+g+" and "+y+"-"+m)}},jc.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},jc.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},jc.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},jc.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Lu("found non-noded collapse at "+jc.fact.createLineString([t,e,n]))},jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc},Fc.fact.get=function(){return new $h},Object.defineProperties(jc,Fc);var zc=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new $a("Scale factor must be non-zero");1!==e&&(this._pt=new nu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new nu,this._p1Scaled=new nu),this.initCorners(this._pt)},Bc={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};zc.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return Ru.isTrue(!(s&&a),"Found bad envelope test"),a},zc.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new nu(this._maxx,this._maxy),this._corner[1]=new nu(this._minx,this._maxy),this._corner[2]=new nu(this._minx,this._miny),this._corner[3]=new nu(this._maxx,this._miny)},zc.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},zc.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},zc.prototype.getCoordinate=function(){return this._originalPt},zc.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},zc.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=zc.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Cu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},zc.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},zc.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))))},zc.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc},Bc.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(zc,Bc);var qc=function(){this.tempEnv1=new Cu,this.selectedSegment=new Xl};qc.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc};var Gc=function(){this._index=null;var t=arguments[0];this._index=t},Uc={HotPixelSnapAction:{configurable:!0}};Gc.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new Hc(e,n,i);return this._index.query(r,{interfaces_:function(){return[Tl]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc},Uc.HotPixelSnapAction.get=function(){return Hc},Object.defineProperties(Gc,Uc);var Hc=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],i=e.getContext();if(null!==this._parentEdge&&i===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qc),Yc=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new nh};Yc.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},Yc.prototype.isDone=function(){return!1},Yc.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Yc.prototype.interfaces_=function(){return[Mc]},Yc.prototype.getClass=function(){return Yc};var Wc=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Du,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Wc.prototype.checkCorrectness=function(t){var e=Wl.getNodedSubstrings(t),n=new jc(e);try{n.checkValid()}catch(t){if(!(t instanceof bu))throw t;t.printStackTrace()}},Wc.prototype.getNodedSubstrings=function(){return Wl.getNodedSubstrings(this._nodedSegStrings)},Wc.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Wc.prototype.findInteriorIntersections=function(t,e){var n=new Yc(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Wc.prototype.computeVertexSnaps=function(){if(uu(arguments[0],Ju))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Wl)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new zc(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},Wc.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new tc,this._pointSnapper=new Gc(this._noder.getIndex()),this.snapRound(t,this._li)},Wc.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new zc(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},Wc.prototype.interfaces_=function(){return[Jl]},Wc.prototype.getClass=function(){return Wc};var Xc=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new nc,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},Vc={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Xc.prototype.bufferFixedPrecision=function(t){var e=new Dc(new Wc(new Wh(1)),t.getScale()),n=new Pc(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Xc.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Xc.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof al))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=Xc.precisionScaleFactor(this._argGeom,this._distance,n),r=new Wh(i);this.bufferFixedPrecision(r)}},Xc.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Wh.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Xc.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Xc.prototype.bufferOriginalPrecision=function(){try{var t=new Pc(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Lu))throw t;this._saveException=t}},Xc.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Xc.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc},Xc.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Xc(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Gu&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1],r=arguments[2],o=new Xc(n);return o.setQuadrantSegments(r),o.getResultGeometry(i)}if(arguments[2]instanceof nc&&arguments[0]instanceof Gu&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=arguments[2];return new Xc(s,u).getResultGeometry(a)}}else if(4===arguments.length){var h=arguments[0],l=arguments[1],c=arguments[2],f=arguments[3],p=new Xc(h);return p.setQuadrantSegments(c),p.setEndCapStyle(f),p.getResultGeometry(l)}},Xc.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=hu.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},Vc.CAP_ROUND.get=function(){return nc.CAP_ROUND},Vc.CAP_BUTT.get=function(){return nc.CAP_FLAT},Vc.CAP_FLAT.get=function(){return nc.CAP_FLAT},Vc.CAP_SQUARE.get=function(){return nc.CAP_SQUARE},Vc.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Xc,Vc);var Kc=function(){this._pt=[new nu,new nu],this._distance=Za.NaN,this._isNull=!0};Kc.prototype.getCoordinates=function(){return this._pt},Kc.prototype.getCoordinate=function(t){return this._pt[t]},Kc.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Kc.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},Kc.prototype.getDistance=function(){return this._distance},Kc.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var $c=function(){};$c.prototype.interfaces_=function(){return[]},$c.prototype.getClass=function(){return $c},$c.computeDistance=function(){if(arguments[2]instanceof Kc&&arguments[0]instanceof Th&&arguments[1]instanceof nu)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getCoordinates(),r=new Xl,o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Kc&&arguments[0]instanceof Ah&&arguments[1]instanceof nu){var a=arguments[0],u=arguments[1],h=arguments[2];$c.computeDistance(a.getExteriorRing(),u,h);for(var l=0;l<a.getNumInteriorRing();l++)$c.computeDistance(a.getInteriorRingN(l),u,h)}else if(arguments[2]instanceof Kc&&arguments[0]instanceof Gu&&arguments[1]instanceof nu){var c=arguments[0],f=arguments[1],p=arguments[2];if(c instanceof Th)$c.computeDistance(c,f,p);else if(c instanceof Ah)$c.computeDistance(c,f,p);else if(c instanceof xh)for(var d=c,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);$c.computeDistance(y,f,p)}else p.setMinimum(c.getCoordinate(),f)}else if(arguments[2]instanceof Kc&&arguments[0]instanceof Xl&&arguments[1]instanceof nu){var m=arguments[0],_=arguments[1],v=arguments[2],b=m.closestPoint(_);v.setMinimum(b,_)}};var Zc=function(t){this._maxPtDist=new Kc,this._inputGeom=t||null},Jc={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Zc.prototype.computeMaxMidpointDistance=function(t){var e=new tf(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Zc.prototype.computeMaxVertexDistance=function(t){var e=new Qc(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Zc.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Zc.prototype.getDistancePoints=function(){return this._maxPtDist},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc},Jc.MaxPointDistanceFilter.get=function(){return Qc},Jc.MaxMidpointDistanceFilter.get=function(){return tf},Object.defineProperties(Zc,Jc);var Qc=function(t){this._maxPtDist=new Kc,this._minPtDist=new Kc,this._geom=t||null};Qc.prototype.filter=function(t){this._minPtDist.initialize(),$c.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Qc.prototype.getMaxPointDistance=function(){return this._maxPtDist},Qc.prototype.interfaces_=function(){return[Yu]},Qc.prototype.getClass=function(){return Qc};var tf=function(t){this._maxPtDist=new Kc,this._minPtDist=new Kc,this._geom=t||null};tf.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=new nu((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),$c.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},tf.prototype.isDone=function(){return!1},tf.prototype.isGeometryChanged=function(){return!1},tf.prototype.getMaxPointDistance=function(){return this._maxPtDist},tf.prototype.interfaces_=function(){return[bh]},tf.prototype.getClass=function(){return tf};var ef=function(t){this._comps=t||null};ef.prototype.filter=function(t){t instanceof Ah&&this._comps.add(t)},ef.prototype.interfaces_=function(){return[vh]},ef.prototype.getClass=function(){return ef},ef.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return ef.getPolygons(t,new nh)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Ah?n.add(e):e instanceof xh&&e.apply(new ef(n)),n}};var nf=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};nf.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof kh){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Th&&this._lines.add(t)},nf.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},nf.prototype.interfaces_=function(){return[qu]},nf.prototype.getClass=function(){return nf},nf.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(nf.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(nf.getLines(e,n))}},nf.getLines=function(){if(1===arguments.length){var t=arguments[0];return nf.getLines(t,!1)}if(2===arguments.length){if(uu(arguments[0],Ju)&&uu(arguments[1],Ju)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();nf.getLines(r,n)}return n}if(arguments[0]instanceof Gu&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new nh;return o.apply(new nf(a,s)),a}if(arguments[0]instanceof Gu&&uu(arguments[1],Ju)){var u=arguments[0],h=arguments[1];return u instanceof Th?h.add(u):u.apply(new nf(h)),h}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&uu(arguments[0],Ju)&&uu(arguments[1],Ju)){for(var l=arguments[0],c=arguments[1],f=arguments[2],p=l.iterator();p.hasNext();){var d=p.next();nf.getLines(d,c,f)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Gu&&uu(arguments[1],Ju)){var g=arguments[0],y=arguments[1],m=arguments[2];return g.apply(new nf(y,m)),y}}};var rf=function(){if(this._boundaryRule=Wu.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new $a("Rule must be non-null");this._boundaryRule=t}};rf.prototype.locateInternal=function(){if(arguments[0]instanceof nu&&arguments[1]instanceof Ah){var t=arguments[0],e=arguments[1];if(e.isEmpty())return su.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===su.EXTERIOR)return su.EXTERIOR;if(i===su.BOUNDARY)return su.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===su.INTERIOR)return su.EXTERIOR;if(s===su.BOUNDARY)return su.BOUNDARY}return su.INTERIOR}if(arguments[0]instanceof nu&&arguments[1]instanceof Th){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return su.EXTERIOR;var h=u.getCoordinates();return u.isClosed()||!a.equals(h[0])&&!a.equals(h[h.length-1])?zu.isOnLine(a,h)?su.INTERIOR:su.EXTERIOR:su.BOUNDARY}if(arguments[0]instanceof nu&&arguments[1]instanceof Nh){var l=arguments[0];return arguments[1].getCoordinate().equals2D(l)?su.INTERIOR:su.EXTERIOR}},rf.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?zu.locatePointInRing(t,e.getCoordinates()):su.EXTERIOR},rf.prototype.intersects=function(t,e){return this.locate(t,e)!==su.EXTERIOR},rf.prototype.updateLocationInfo=function(t){t===su.INTERIOR&&(this._isIn=!0),t===su.BOUNDARY&&this._numBoundaries++},rf.prototype.computeLocation=function(t,e){if(e instanceof Nh&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Th)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Ah)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof wh)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Ph)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof xh)for(var u=new vc(e);u.hasNext();){var h=u.next();h!==e&&this.computeLocation(t,h)}},rf.prototype.locate=function(t,e){return e.isEmpty()?su.EXTERIOR:e instanceof Th||e instanceof Ah?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?su.BOUNDARY:this._numBoundaries>0||this._isIn?su.INTERIOR:su.EXTERIOR)},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf};var of=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._component=i,this._segIndex=r,this._pt=o}},sf={INSIDE_AREA:{configurable:!0}};of.prototype.isInsideArea=function(){return this._segIndex===of.INSIDE_AREA},of.prototype.getCoordinate=function(){return this._pt},of.prototype.getGeometryComponent=function(){return this._component},of.prototype.getSegmentIndex=function(){return this._segIndex},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of},sf.INSIDE_AREA.get=function(){return-1},Object.defineProperties(of,sf);var af=function(t){this._pts=t||null};af.prototype.filter=function(t){t instanceof Nh&&this._pts.add(t)},af.prototype.interfaces_=function(){return[vh]},af.prototype.getClass=function(){return af},af.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Nh?Al.singletonList(t):af.getPoints(t,new nh)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Nh?n.add(e):e instanceof xh&&e.apply(new af(n)),n}};var uf=function(){this._locations=null;var t=arguments[0];this._locations=t};uf.prototype.filter=function(t){(t instanceof Nh||t instanceof Th||t instanceof Ah)&&this._locations.add(new of(t,0,t.getCoordinate()))},uf.prototype.interfaces_=function(){return[vh]},uf.prototype.getClass=function(){return uf},uf.getLocations=function(t){var e=new nh;return t.apply(new uf(e)),e};var hf=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new rf,this._minDistanceLocation=null,this._minDistance=Za.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=r}};hf.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=ef.getPolygons(this._geom[e]);if(r.size()>0){var o=uf.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&uu(arguments[0],eh)&&uu(arguments[1],eh)){for(var s=arguments[0],a=arguments[1],u=arguments[2],h=0;h<s.size();h++)for(var l=s.get(h),c=0;c<a.size();c++)if(this.computeContainmentDistance(l,a.get(c),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof of&&arguments[1]instanceof Ah){var f=arguments[0],p=arguments[1],d=arguments[2],g=f.getCoordinate();if(su.EXTERIOR!==this._ptLocator.locate(g,p))return this._minDistance=0,d[0]=f,d[1]=new of(p,g),null}},hf.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},hf.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=nf.getLines(this._geom[0]),n=nf.getLines(this._geom[1]),i=af.getPoints(this._geom[0]),r=af.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},hf.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},hf.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},hf.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},hf.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Th&&arguments[1]instanceof Nh){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=zu.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new Xl(i[o],i[o+1]).closestPoint(r);n[0]=new of(t,o,a),n[1]=new of(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Th&&arguments[1]instanceof Th){var u=arguments[0],h=arguments[1],l=arguments[2];if(u.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this._minDistance)return null;for(var c=u.getCoordinates(),f=h.getCoordinates(),p=0;p<c.length-1;p++)for(var d=0;d<f.length-1;d++){var g=zu.distanceLineLine(c[p],c[p+1],f[d],f[d+1]);if(g<this._minDistance){this._minDistance=g;var y=new Xl(c[p],c[p+1]),m=new Xl(f[d],f[d+1]),_=y.closestPoints(m);l[0]=new of(u,p,_[0]),l[1]=new of(h,d,_[1])}if(this._minDistance<=this._terminateDistance)return null}}},hf.prototype.computeMinDistancePoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new of(r,0,r.getCoordinate()),n[1]=new of(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},hf.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new $a("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},hf.prototype.computeMinDistanceLines=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.distance=function(t,e){return new hf(t,e).distance()},hf.isWithinDistance=function(t,e,n){return new hf(t,e,n).distance()<=n},hf.nearestPoints=function(t,e){return new hf(t,e).nearestPoints()};var lf=function(){this._pt=[new nu,new nu],this._distance=Za.NaN,this._isNull=!0};lf.prototype.getCoordinates=function(){return this._pt},lf.prototype.getCoordinate=function(t){return this._pt[t]},lf.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},lf.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},lf.prototype.toString=function(){return Nu.toLineString(this._pt[0],this._pt[1])},lf.prototype.getDistance=function(){return this._distance},lf.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf};var cf=function(){};cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf},cf.computeDistance=function(){if(arguments[2]instanceof lf&&arguments[0]instanceof Th&&arguments[1]instanceof nu)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new Xl,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof lf&&arguments[0]instanceof Ah&&arguments[1]instanceof nu){var a=arguments[0],u=arguments[1],h=arguments[2];cf.computeDistance(a.getExteriorRing(),u,h);for(var l=0;l<a.getNumInteriorRing();l++)cf.computeDistance(a.getInteriorRingN(l),u,h)}else if(arguments[2]instanceof lf&&arguments[0]instanceof Gu&&arguments[1]instanceof nu){var c=arguments[0],f=arguments[1],p=arguments[2];if(c instanceof Th)cf.computeDistance(c,f,p);else if(c instanceof Ah)cf.computeDistance(c,f,p);else if(c instanceof xh)for(var d=c,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);cf.computeDistance(y,f,p)}else p.setMinimum(c.getCoordinate(),f)}else if(arguments[2]instanceof lf&&arguments[0]instanceof Xl&&arguments[1]instanceof nu){var m=arguments[0],_=arguments[1],v=arguments[2],b=m.closestPoint(_);v.setMinimum(b,_)}};var ff=function(){this._g0=null,this._g1=null,this._ptDist=new lf,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},pf={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};ff.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},ff.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new $a("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},ff.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},ff.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},ff.prototype.computeOrientedDistance=function(t,e,n){var i=new df(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var r=new gf(e,this._densifyFrac);t.apply(r),n.setMaximum(r.getMaxPointDistance())}},ff.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff},ff.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new ff(t,e).distance()}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new ff(n,i);return o.setDensifyFraction(r),o.distance()}},pf.MaxPointDistanceFilter.get=function(){return df},pf.MaxDensifiedByFractionDistanceFilter.get=function(){return gf},Object.defineProperties(ff,pf);var df=function(){this._maxPtDist=new lf,this._minPtDist=new lf,this._euclideanDist=new cf,this._geom=null;var t=arguments[0];this._geom=t};df.prototype.filter=function(t){this._minPtDist.initialize(),cf.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},df.prototype.getMaxPointDistance=function(){return this._maxPtDist},df.prototype.interfaces_=function(){return[Yu]},df.prototype.getClass=function(){return df};var gf=function(){this._maxPtDist=new lf,this._minPtDist=new lf,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};gf.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=(i.x-n.x)/this._numSubSegs,o=(i.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*r,u=n.y+s*o,h=new nu(a,u);this._minPtDist.initialize(),cf.computeDistance(this._geom,h,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},gf.prototype.isDone=function(){return!1},gf.prototype.isGeometryChanged=function(){return!1},gf.prototype.getMaxPointDistance=function(){return this._maxPtDist},gf.prototype.interfaces_=function(){return[bh]},gf.prototype.getClass=function(){return gf};var yf=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},mf={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};yf.prototype.checkMaximumDistance=function(t,e,n){var i=new ff(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var r=i.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Nu.toLineString(r[0],r[1])+")"}},yf.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=yf.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),yf.VERBOSE&&wu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},yf.prototype.checkNegativeValid=function(){if(!(this._input instanceof Ah||this._input instanceof Ph||this._input instanceof xh))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},yf.prototype.getErrorIndicator=function(){return this._errorIndicator},yf.prototype.checkMinimumDistance=function(t,e,n){var i=new hf(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var r=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Nu.toLineString(r[0],r[1])+" )"}},yf.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},yf.prototype.getErrorLocation=function(){return this._errorLocation},yf.prototype.getPolygonLines=function(t){for(var e=new nh,n=new nf(e),i=ef.getPolygons(t).iterator();i.hasNext();)i.next().apply(n);return t.getFactory().buildGeometry(e)},yf.prototype.getErrorMessage=function(){return this._errMsg},yf.prototype.interfaces_=function(){return[]},yf.prototype.getClass=function(){return yf},mf.VERBOSE.get=function(){return!1},mf.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(yf,mf);var _f=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},vf={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};_f.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},_f.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*_f.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Cu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Cu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},_f.prototype.checkDistance=function(){var t=new yf(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},_f.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},_f.prototype.checkPolygonal=function(){this._result instanceof Ah||this._result instanceof Ph||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},_f.prototype.getErrorIndicator=function(){return this._errorIndicator},_f.prototype.getErrorLocation=function(){return this._errorLocation},_f.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},_f.prototype.report=function(t){if(!_f.VERBOSE)return null;wu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},_f.prototype.getErrorMessage=function(){return this._errorMsg},_f.prototype.interfaces_=function(){return[]},_f.prototype.getClass=function(){return _f},_f.isValidMsg=function(t,e,n){var i=new _f(t,e,n);return i.isValid()?null:i.getErrorMessage()},_f.isValid=function(t,e,n){return!!new _f(t,e,n).isValid()},vf.VERBOSE.get=function(){return!1},vf.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(_f,vf);var bf=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};bf.prototype.getCoordinates=function(){return this._pts},bf.prototype.size=function(){return this._pts.length},bf.prototype.getCoordinate=function(t){return this._pts[t]},bf.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},bf.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Ul.octant(this.getCoordinate(t),this.getCoordinate(t+1))},bf.prototype.setData=function(t){this._data=t},bf.prototype.getData=function(){return this._data},bf.prototype.toString=function(){return Nu.toLineString(new qh(this._pts))},bf.prototype.interfaces_=function(){return[Hl]},bf.prototype.getClass=function(){return bf};var xf=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new nh,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};xf.prototype.getInteriorIntersection=function(){return this._interiorIntersection},xf.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},xf.prototype.getIntersectionSegments=function(){return this._intSegments},xf.prototype.count=function(){return this._intersectionCount},xf.prototype.getIntersections=function(){return this._intersections},xf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},xf.prototype.setKeepIntersections=function(t){this._keepIntersections=t},xf.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},xf.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},xf.prototype.hasIntersection=function(){return null!==this._interiorIntersection},xf.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},xf.prototype.interfaces_=function(){return[Mc]},xf.prototype.getClass=function(){return xf},xf.createAllIntersectionsFinder=function(t){var e=new xf(t);return e.setFindAllIntersections(!0),e},xf.createAnyIntersectionFinder=function(t){return new xf(t)},xf.createIntersectionCounter=function(t){var e=new xf(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var wf=function(){this._li=new Du,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};wf.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},wf.prototype.getIntersections=function(){return this._segInt.getIntersections()},wf.prototype.isValid=function(){return this.execute(),this._isValid},wf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},wf.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new xf(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new tc;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},wf.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new al(this.getErrorMessage(),this._segInt.getInteriorIntersection())},wf.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Nu.toLineString(t[0],t[1])+" and "+Nu.toLineString(t[2],t[3])},wf.prototype.interfaces_=function(){return[]},wf.prototype.getClass=function(){return wf},wf.computeIntersections=function(t){var e=new wf(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Ef=function t(){this._nv=null;var e=arguments[0];this._nv=new wf(t.toSegmentStrings(e))};Ef.prototype.checkValid=function(){this._nv.checkValid()},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef},Ef.toSegmentStrings=function(t){for(var e=new nh,n=t.iterator();n.hasNext();){var i=n.next();e.add(new bf(i.getCoordinates(),i))}return e},Ef.checkValid=function(t){new Ef(t).checkValid()};var Cf=function(t){this._mapOp=t};Cf.prototype.map=function(t){for(var e=new nh,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection($h.toGeometryArray(e))},Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf},Cf.map=function(t,e){return new Cf(e).map(t)};var Sf=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new nh,this._resultLineList=new nh;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Sf.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Sf.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Sf.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Sf.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!op.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},Sf.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},Sf.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Sf.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},Sf.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(Ru.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(op.isResultOfOp(i,e)&&e===op.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf};var Mf=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new nh;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Mf.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Mf.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==op.INTERSECTION)){var i=n.getLabel();op.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},Mf.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf};var If=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};If.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},If.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof kh&&!i.isEmpty()||(n=!1);for(var r=new nh,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof kh||(n=!1),r.add(s))}if(n)return this._factory.createPolygon(i,r.toArray([]));var a=new nh;return null!==i&&a.add(i),a.addAll(r),this._factory.buildGeometry(a)},If.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},If.prototype.getInputGeometry=function(){return this._inputGeom},If.prototype.transformMultiLineString=function(t,e){for(var n=new nh,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},If.prototype.transformCoordinates=function(t,e){return this.copy(t)},If.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},If.prototype.transformMultiPoint=function(t,e){for(var n=new nh,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},If.prototype.transformMultiPolygon=function(t,e){for(var n=new nh,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},If.prototype.copy=function(t){return t.copy()},If.prototype.transformGeometryCollection=function(t,e){for(var n=new nh,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection($h.toGeometryArray(n)):this._factory.buildGeometry(n)},If.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Nh)return this.transformPoint(t,null);if(t instanceof Rh)return this.transformMultiPoint(t,null);if(t instanceof kh)return this.transformLinearRing(t,null);if(t instanceof Th)return this.transformLineString(t,null);if(t instanceof wh)return this.transformMultiLineString(t,null);if(t instanceof Ah)return this.transformPolygon(t,null);if(t instanceof Ph)return this.transformMultiPolygon(t,null);if(t instanceof xh)return this.transformGeometryCollection(t,null);throw new $a("Unknown Geometry subtype: "+t.getClass().getName())},If.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If};var Tf=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Xl,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Th&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=t.isClosed(i),this._snapTolerance=r}};Tf.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new nu(o)),0===i&&this._isClosed&&t.set(t.size()-1,new nu(o)))}},Tf.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Tf.prototype.snapTo=function(t){var e=new rh(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Tf.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new nu(r),!1)}},Tf.prototype.findSegmentIndexToSnap=function(t,e){for(var n=Za.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},Tf.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf},Tf.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Of=function(t){this._srcGeom=t||null},Nf={SNAP_PRECISION_FACTOR:{configurable:!0}};Of.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Lf(e,n).transform(this._srcGeom)},Of.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Lf(t,n,!0).transform(this._srcGeom),r=i;return e&&uu(r,Lh)&&(r=i.buffer(0)),r},Of.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Of.prototype.extractTargetCoordinates=function(t){for(var e=new Tr,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},Of.prototype.computeMinimumSegmentLength=function(t){for(var e=Za.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.snap=function(t,e,n){var i=new Array(2).fill(null),r=new Of(t);i[0]=r.snapTo(e,n);var o=new Of(e);return i[1]=o.snapTo(i[0],n),i},Of.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Of.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Wh.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(Of.computeOverlaySnapTolerance(r),Of.computeOverlaySnapTolerance(o))}},Of.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Of.SNAP_PRECISION_FACTOR},Of.snapToSelf=function(t,e,n){return new Of(t).snapToSelf(e,n)},Nf.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Of,Nf);var Lf=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Tf(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(If),Af=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Af.prototype.getCommon=function(){return Za.longBitsToDouble(this._commonBits)},Af.prototype.add=function(t){var e=Za.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Af.signExpBits(this._commonBits),this._isFirst=!1,null):Af.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Af.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Af.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Af.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=Za.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Za.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},Af.prototype.interfaces_=function(){return[]},Af.prototype.getClass=function(){return Af},Af.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Af.signExpBits=function(t){return t>>52},Af.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Af.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(Af.getBit(t,i)!==Af.getBit(e,i))return n;n++}return 52};var Rf=function(){this._commonCoord=null,this._ccFilter=new Pf},kf={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Rf.prototype.addCommonBits=function(t){var e=new Df(this._commonCoord);t.apply(e),t.geometryChanged()},Rf.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new nu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Df(e);return t.apply(n),t.geometryChanged(),t},Rf.prototype.getCommonCoordinate=function(){return this._commonCoord},Rf.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf},kf.CommonCoordinateFilter.get=function(){return Pf},kf.Translater.get=function(){return Df},Object.defineProperties(Rf,kf);var Pf=function(){this._commonBitsX=new Af,this._commonBitsY=new Af};Pf.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Pf.prototype.getCommonCoordinate=function(){return new nu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Pf.prototype.interfaces_=function(){return[Yu]},Pf.prototype.getClass=function(){return Pf};var Df=function(){this.trans=null;var t=arguments[0];this.trans=t};Df.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},Df.prototype.isDone=function(){return!1},Df.prototype.isGeometryChanged=function(){return!0},Df.prototype.interfaces_=function(){return[bh]},Df.prototype.getClass=function(){return Df};var jf=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};jf.prototype.selfSnap=function(t){return new Of(t).snapTo(t,this._snapTolerance)},jf.prototype.removeCommonBits=function(t){this._cbr=new Rf,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},jf.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},jf.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=op.overlayOp(e[0],e[1],t);return this.prepareResult(n)},jf.prototype.checkValid=function(t){t.isValid()||wu.out.println("Snapped geometry is invalid")},jf.prototype.computeSnapTolerance=function(){this._snapTolerance=Of.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},jf.prototype.snap=function(t){var e=this.removeCommonBits(t);return Of.snap(e[0],e[1],this._snapTolerance)},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf},jf.overlayOp=function(t,e,n){return new jf(t,e).getResultGeometry(n)},jf.union=function(t,e){return jf.overlayOp(t,e,op.UNION)},jf.intersection=function(t,e){return jf.overlayOp(t,e,op.INTERSECTION)},jf.symDifference=function(t,e){return jf.overlayOp(t,e,op.SYMDIFFERENCE)},jf.difference=function(t,e){return jf.overlayOp(t,e,op.DIFFERENCE)};var Ff=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};Ff.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=op.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Lu))throw t;i=t}if(!n)try{e=jf.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Lu?i:t}return e},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff},Ff.overlayOp=function(t,e,n){return new Ff(t,e).getResultGeometry(n)},Ff.union=function(t,e){return Ff.overlayOp(t,e,op.UNION)},Ff.intersection=function(t,e){return Ff.overlayOp(t,e,op.INTERSECTION)},Ff.symDifference=function(t,e){return Ff.overlayOp(t,e,op.SYMDIFFERENCE)},Ff.difference=function(t,e){return Ff.overlayOp(t,e,op.DIFFERENCE)};var zf=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};zf.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf};var Bf=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=r,this._obj=o}},qf={INSERT:{configurable:!0},DELETE:{configurable:!0}};Bf.prototype.isDelete=function(){return this._eventType===Bf.DELETE},Bf.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Bf.prototype.getObject=function(){return this._obj},Bf.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},Bf.prototype.getInsertEvent=function(){return this._insertEvent},Bf.prototype.isInsert=function(){return this._eventType===Bf.INSERT},Bf.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Bf.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Bf.prototype.interfaces_=function(){return[Qa]},Bf.prototype.getClass=function(){return Bf},qf.INSERT.get=function(){return 1},qf.DELETE.get=function(){return 2},Object.defineProperties(Bf,qf);var Gf=function(){};Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf};var Uf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};Uf.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Uf.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Uf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Uf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Uf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Uf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},Uf.prototype.hasProperIntersection=function(){return this._hasProper},Uf.prototype.hasIntersection=function(){return this._hasIntersection},Uf.prototype.isDone=function(){return this._isDone},Uf.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Uf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Uf.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Uf.prototype.interfaces_=function(){return[]},Uf.prototype.getClass=function(){return Uf},Uf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Hf=function(t){function e(){t.call(this),this.events=new nh,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Al.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Uf&&uu(arguments[0],eh)&&uu(arguments[1],eh)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&uu(arguments[0],eh)&&arguments[1]instanceof Uf){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new zf(n,r),s=new Bf(e,n.getMinX(r),o);this.events.add(s),this.events.add(new Bf(n.getMaxX(r),s))}},e.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var o=r.next();this.addEdge(o,i)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Gf),Yf=function(){this._min=Za.POSITIVE_INFINITY,this._max=Za.NEGATIVE_INFINITY},Wf={NodeComparator:{configurable:!0}};Yf.prototype.getMin=function(){return this._min},Yf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Yf.prototype.getMax=function(){return this._max},Yf.prototype.toString=function(){return Nu.toLineString(new nu(this._min,0),new nu(this._max,0))},Yf.prototype.interfaces_=function(){return[]},Yf.prototype.getClass=function(){return Yf},Wf.NodeComparator.get=function(){return Xf},Object.defineProperties(Yf,Wf);var Xf=function(){};Xf.prototype.compare=function(t,e){var n=t,i=e,r=(n._min+n._max)/2,o=(i._min+i._max)/2;return r<o?-1:r>o?1:0},Xf.prototype.interfaces_=function(){return[eu]},Xf.prototype.getClass=function(){return Xf};var Vf=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],i=arguments[2];this._min=e,this._max=n,this._item=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yf),Kf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yf),$f=function(){this._leaves=new nh,this._root=null,this._level=0};$f.prototype.buildTree=function(){Al.sort(this._leaves,new Yf.NodeComparator);for(var t=this._leaves,e=null,n=new nh;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},$f.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Vf(t,e,n))},$f.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},$f.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},$f.prototype.printNode=function(t){wu.out.println(Nu.toLineString(new nu(t._min,this._level),new nu(t._max,this._level)))},$f.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},$f.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new Kf(t.get(n),t.get(n+1));e.add(r)}}},$f.prototype.interfaces_=function(){return[]},$f.prototype.getClass=function(){return $f};var Zf=function(){this._items=new nh};Zf.prototype.visitItem=function(t){this._items.add(t)},Zf.prototype.getItems=function(){return this._items},Zf.prototype.interfaces_=function(){return[Tl]},Zf.prototype.getClass=function(){return Zf};var Jf=function(){this._index=null;var t=arguments[0];if(!uu(t,Lh))throw new $a("Argument must be Polygonal");this._index=new ep(t)},Qf={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Jf.prototype.locate=function(t){var e=new Fu(t),n=new tp(e);return this._index.query(t.y,t.y,n),e.getLocation()},Jf.prototype.interfaces_=function(){return[_c]},Jf.prototype.getClass=function(){return Jf},Qf.SegmentVisitor.get=function(){return tp},Qf.IntervalIndexedGeometry.get=function(){return ep},Object.defineProperties(Jf,Qf);var tp=function(){this._counter=null;var t=arguments[0];this._counter=t};tp.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},tp.prototype.interfaces_=function(){return[Tl]},tp.prototype.getClass=function(){return tp};var ep=function(){this._index=new $f;var t=arguments[0];this.init(t)};ep.prototype.init=function(t){for(var e=nf.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},ep.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Xl(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},ep.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Zf;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._index.query(i,r,o)}},ep.prototype.interfaces_=function(){return[]},ep.prototype.getClass=function(){return ep};var np=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Yh,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new rf,2===arguments.length){var e=arguments[0],n=arguments[1],i=Wu.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=i,null!==n&&this.add(n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=r,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),r=1;i.getLocation(t,rl.ON)===su.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new Uf(n,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof kh||this._parentGeom instanceof Ah||this._parentGeom instanceof Ph,u=i||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new Uf(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Nh){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,su.INTERIOR)}else if(arguments[0]instanceof nu){var e=arguments[0];this.insertPoint(this._argIndex,e,su.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),su.EXTERIOR,su.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,su.INTERIOR,su.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],su.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],su.BOUNDARY)},e.prototype.addLineString=function(t){var e=oh.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new kc(e,new cl(this._argIndex,su.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Ru.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===su.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=oh.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;zu.isCCW(i)&&(r=n,o=e);var s=new kc(i,new cl(this._argIndex,su.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],su.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new cl(t,n):r.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Hf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Ph&&(this._useBoundaryDeterminationRule=!1),e instanceof Ah)this.addPolygon(e);else if(e instanceof Th)this.addLineString(e);else if(e instanceof Nh)this.addPoint(e);else if(e instanceof Rh)this.addCollection(e);else if(e instanceof wh)this.addCollection(e);else if(e instanceof Ph)this.addCollection(e);else{if(!(e instanceof xh))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return uu(this._parentGeom,Lh)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Jf(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?su.BOUNDARY:su.INTERIOR},e}(El),ip=function(){if(this._li=new Du,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new np(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=Wu.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new np(0,e,i),this._arg[1]=new np(1,n,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new np(0,r,s),this._arg[1]=new np(1,o,s)}};ip.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},ip.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},ip.prototype.interfaces_=function(){return[]},ip.prototype.getClass=function(){return ip};var rp=function(){};rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp},rp.map=function(){if(arguments[0]instanceof Gu&&uu(arguments[1],rp.MapOp)){for(var t=arguments[0],e=arguments[1],n=new nh,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(uu(arguments[0],Ju)&&uu(arguments[1],rp.MapOp)){for(var o=arguments[0],s=arguments[1],a=new nh,u=o.iterator();u.hasNext();){var h=u.next(),l=s.map(h);null!==l&&a.add(l)}return a}},rp.MapOp=function(){};var op=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new rf,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Sc,this._resultPolyList=new nh,this._resultLineList=new nh,this._resultPointList=new nh,this._graph=new El(new Ec),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new cl(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,r){var o=new nh;return o.addAll(t),o.addAll(n),o.addAll(i),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==su.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new nh,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new nh;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ef.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Cl(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new Sf(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new Mf(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,rl.RIGHT),r.getLocation(1,rl.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(Ru.isTrue(!i.isNull(r,rl.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,rl.LEFT,i.getLocation(r,rl.LEFT)),Ru.isTrue(!i.isNull(r,rl.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,rl.RIGHT,i.getLocation(r,rl.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ip);op.overlayOp=function(t,e,n){return new op(t,e).getResultGeometry(n)},op.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return op.createEmptyResult(op.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Cf.map(t,{interfaces_:function(){return[rp.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Ff.overlayOp(t,e,op.INTERSECTION)},op.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return op.createEmptyResult(op.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Ff.overlayOp(t,e,op.SYMDIFFERENCE)},op.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case op.INTERSECTION:o=Math.min(i,r);break;case op.UNION:o=Math.max(i,r);break;case op.DIFFERENCE:o=i;break;case op.SYMDIFFERENCE:o=Math.max(i,r)}return o},op.createEmptyResult=function(t,e,n,i){var r=null;switch(op.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},op.difference=function(t,e){return t.isEmpty()?op.createEmptyResult(op.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Ff.overlayOp(t,e,op.DIFFERENCE))},op.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return op.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===su.BOUNDARY&&(r=su.INTERIOR),o===su.BOUNDARY&&(o=su.INTERIOR),s){case op.INTERSECTION:return r===su.INTERIOR&&o===su.INTERIOR;case op.UNION:return r===su.INTERIOR||o===su.INTERIOR;case op.DIFFERENCE:return r===su.INTERIOR&&o!==su.INTERIOR;case op.SYMDIFFERENCE:return r===su.INTERIOR&&o!==su.INTERIOR||r!==su.INTERIOR&&o===su.INTERIOR}return!1}},op.INTERSECTION=1,op.UNION=2,op.DIFFERENCE=3,op.SYMDIFFERENCE=4;var sp=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new rf,this._seg=new Xl;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};sp.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),i=0;i<n.size()-1;i++)if(n.getCoordinate(i,this._seg.p0),n.getCoordinate(i+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},sp.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?su.BOUNDARY:this._ptLocator.locate(t,this._g)},sp.prototype.extractLinework=function(t){var e=new ap;t.apply(e);var n=e.getLinework(),i=$h.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp};var ap=function(){this._linework=null,this._linework=new nh};ap.prototype.getLinework=function(){return this._linework},ap.prototype.filter=function(t){if(t instanceof Ah){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},ap.prototype.interfaces_=function(){return[vh]},ap.prototype.getClass=function(){return ap};var up=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};up.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},up.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},up.prototype.getPoints=function(t){for(var e=new nh,n=nf.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},up.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=Math.sqrt(r*r+o*o),a=n*r/s,u=n*o/s,h=(e.x+t.x)/2,l=(e.y+t.y)/2;if(this._doLeft){var c=new nu(h-u,l+a);i.add(c)}if(this._doRight){var f=new nu(h+u,l-a);i.add(f)}},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var hp=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new nh;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new sp(this._geom[0],this._boundaryDistanceTolerance),new sp(this._geom[1],this._boundaryDistanceTolerance),new sp(this._geom[2],this._boundaryDistanceTolerance)]},lp={TOLERANCE:{configurable:!0}};hp.prototype.reportResult=function(t,e,n){wu.out.println("Overlay result invalid - A:"+su.toLocationSymbol(e[0])+" B:"+su.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+su.toLocationSymbol(e[2]))},hp.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},hp.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!hp.hasLocation(this._location,su.BOUNDARY)||this.isValidResult(i,this._location)}},hp.prototype.addTestPts=function(t){var e=new up(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},hp.prototype.isValidResult=function(t,e){var n=op.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===su.INTERIOR);return i||this.reportResult(t,e,n),i},hp.prototype.getInvalidLocation=function(){return this._invalidLocation},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp},hp.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},hp.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Of.computeSizeBasedSnapTolerance(t),Of.computeSizeBasedSnapTolerance(e))},hp.isValid=function(t,e,n,i){return new hp(t,e,i).isValid(n)},lp.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(hp,lp);var cp=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};cp.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},cp.prototype.combine=function(){for(var t=new nh,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp},cp.combine=function(){if(1===arguments.length){var t=arguments[0];return new cp(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new cp(cp.createList(e,n)).combine()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return new cp(cp.createList(i,r,o)).combine()}},cp.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},cp.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new nh;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=new nh;return s.add(i),s.add(r),s.add(o),s}};var fp=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new nh)},pp={STRTREE_NODE_CAPACITY:{configurable:!0}};fp.prototype.reduceToGeometries=function(t){for(var e=new nh,n=t.iterator();n.hasNext();){var i=n.next(),r=null;uu(i,eh)?r=this.unionTree(i):i instanceof Gu&&(r=i),e.add(r)}return e},fp.prototype.extractByEnvelope=function(t,e,n){for(var i=new nh,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},fp.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return cp.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},fp.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Fl(fp.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},fp.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=fp.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(fp.getGeometry(e,n),fp.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,i);return this.unionSafe(s,a)}},fp.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},fp.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},fp.prototype.unionActual=function(t,e){return fp.restrictToPolygons(t.union(e))},fp.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},fp.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new nh,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),cp.combine(i)},fp.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},fp.prototype.interfaces_=function(){return[]},fp.prototype.getClass=function(){return fp},fp.restrictToPolygons=function(t){if(uu(t,Lh))return t;var e=ef.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon($h.toPolygonArray(e))},fp.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},fp.union=function(t){return new fp(t).union()},pp.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(fp,pp);var dp=function(){};dp.prototype.interfaces_=function(){return[]},dp.prototype.getClass=function(){return dp},dp.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return op.createEmptyResult(op.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Ff.overlayOp(t,e,op.UNION)};var gp=function(){return new Rr};Rr.prototype={constructor:Rr,reset:function(){this.s=this.t=0},add:function(t){kr(yp,t,this.t),kr(this,yp.s,this.s),this.s?this.t+=yp.t:this.s=yp.t},valueOf:function(){return this.s}};var yp=new Rr,mp=1e-6,_p=Math.PI,vp=_p/2,bp=_p/4,xp=2*_p,wp=180/_p,Ep=_p/180,Cp=Math.abs,Sp=Math.atan,Mp=Math.atan2,Ip=Math.cos,Tp=Math.exp,Op=Math.log,Np=Math.sin,Lp=Math.sqrt,Ap=Math.tan,Rp={Feature:function(t,e){jr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)jr(n[i].geometry,e)}},kp={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Fr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Fr(n[i],e,0)},Polygon:function(t,e){zr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)zr(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)jr(n[i],e)}},Pp=function(t,e){t&&Rp.hasOwnProperty(t.type)?Rp[t.type](t,e):jr(t,e)},Dp=(gp(),gp(),gp(),function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n});Xr.invert=Xr;var jp=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Dr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Fp=function(t,e,n,i,r,o){var s,a=t[0],u=t[1],h=0,l=1,c=e[0]-a,f=e[1]-u;if(s=n-a,c||!(s>0)){if(s/=c,c<0){if(s<h)return;s<l&&(l=s)}else if(c>0){if(s>l)return;s>h&&(h=s)}if(s=r-a,c||!(s<0)){if(s/=c,c<0){if(s>l)return;s>h&&(h=s)}else if(c>0){if(s<h)return;s<l&&(l=s)}if(s=i-u,f||!(s>0)){if(s/=f,f<0){if(s<h)return;s<l&&(l=s)}else if(f>0){if(s>l)return;s>h&&(h=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>l)return;s>h&&(h=s)}else if(f>0){if(s<h)return;s<l&&(l=s)}return h>0&&(t[0]=a+h*c,t[1]=u+h*f),l<1&&(e[0]=a+l*c,e[1]=u+l*f),!0}}}}},zp=function(t,e){return Cp(t[0]-e[0])<mp&&Cp(t[1]-e[1])<mp},Bp=function(t,e,n,i,r){var o,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(zp(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else a.push(n=new Qr(i,t,null,!0)),u.push(n.o=new Qr(i,null,n,!1)),a.push(n=new Qr(s,t,null,!1)),u.push(n.o=new Qr(s,null,n,!0))}})),a.length){for(u.sort(e),to(a),to(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var h,l,c=a[0];;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;h=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=h.length;o<s;++o)r.point((l=h[o])[0],l[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(h=f.p.z,o=h.length-1;o>=0;--o)r.point((l=h[o])[0],l[1]);else i(f.x,f.p.x,-1,r);f=f.p}h=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}},qp=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Gp=(function(t){1===t.length&&(t=function(t){return function(e,n){return qp(t(e),n)}}(t))}(qp),function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n}),Up=1e9,Hp=-Up,Yp=gp(),Wp=(gp(),function(t){return t}),Xp=(gp(),gp(),1/0),Vp=Xp,Kp=-Xp,$p=Kp,Zp={point:function(t,e){t<Xp&&(Xp=t),t>Kp&&(Kp=t),e<Vp&&(Vp=e),e>$p&&($p=e)},lineStart:Dr,lineEnd:Dr,polygonStart:Dr,polygonEnd:Dr,result:function(){var t=[[Xp,Vp],[Kp,$p]];return Kp=$p=-(Vp=Xp=1/0),t}},Jp=(gp(),function(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);y.point(n[0],n[1])}function u(){x.point=a,y.lineStart()}function h(){x.point=s,y.lineEnd()}function l(t,e){g.push([t,e]);var n=r(t,e);v.point(n[0],n[1])}function c(){v.lineStart(),g=[]}function f(){l(g[0][0],g[0][1]),v.lineEnd();var t,e,n,i,r=v.clean(),s=_.result(),a=s.length;if(g.pop(),p.push(g),g=null,a)if(1&r){if((e=(n=s[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else a>1&&2&r&&s.push(s.pop().concat(s.shift())),d.push(s.filter(no))}var p,d,g,y=e(o),m=r.invert(i[0],i[1]),_=jp(),v=e(_),b=!1,x={point:s,lineStart:u,lineEnd:h,polygonStart:function(){x.point=l,x.lineStart=c,x.lineEnd=f,d=[],p=[]},polygonEnd:function(){x.point=s,x.lineStart=u,x.lineEnd=h,d=Gp(d);var t=function(t,e){var n=e[0],i=e[1],r=[Np(n),-Ip(n),0],o=0,s=0;Yp.reset();for(var a=0,u=t.length;a<u;++a)if(l=(h=t[a]).length)for(var h,l,c=h[l-1],f=c[0],p=c[1]/2+bp,d=Np(p),g=Ip(p),y=0;y<l;++y,f=_,d=b,g=x,c=m){var m=h[y],_=m[0],v=m[1]/2+bp,b=Np(v),x=Ip(v),w=_-f,E=w>=0?1:-1,C=E*w,S=C>_p,M=d*b;if(Yp.add(Mp(M*E*Np(C),g*x+M*Ip(C))),o+=S?w+E*xp:w,S^f>=n^_>=n){var I=Ur(qr(c),qr(m));Wr(I);var T=Ur(r,I);Wr(T);var O=(S^w>=0?-1:1)*Pr(T[2]);(i>O||i===O&&(I[0]||I[1]))&&(s+=S^w>=0?1:-1)}}return(o<-mp||o<mp&&Yp<-mp)^1&s}(p,m);d.length?(b||(o.polygonStart(),b=!0),Bp(d,io,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}}),Qp=Jp((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?_p:-_p,u=Cp(o-n);Cp(u-_p)<mp?(t.point(n,i=(i+s)/2>0?vp:-vp),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&u>=_p&&(Cp(n-r)<mp&&(n-=r*mp),Cp(o-a)<mp&&(o-=a*mp),i=function(t,e,n,i){var r,o,s=Np(t-n);return Cp(s)>mp?Sp((Np(e)*(o=Ip(i))*Np(n)-Np(i)*(r=Ip(e))*Np(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*vp,i.point(-_p,r),i.point(0,r),i.point(_p,r),i.point(_p,0),i.point(_p,-r),i.point(0,-r),i.point(-_p,-r),i.point(-_p,0),i.point(-_p,r);else if(Cp(t[0]-e[0])>mp){var o=t[0]<e[0]?_p:-_p;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-_p,-vp]),td=function(t,e){function n(t,e){return Ip(t)*Ip(e)>o}function i(t,e,n){var i=[1,0,0],r=Ur(qr(t),qr(e)),s=Gr(r,r),a=r[0],u=s-a*a;if(!u)return!n&&t;var h=o*s/u,l=-o*a/u,c=Ur(i,r),f=Yr(i,h);Hr(f,Yr(r,l));var p=c,d=Gr(f,p),g=Gr(p,p),y=d*d-g*(Gr(f,f)-1);if(!(y<0)){var m=Lp(y),_=Yr(p,(-d-m)/g);if(Hr(_,f),_=Br(_),!n)return _;var v,b=t[0],x=e[0],w=t[1],E=e[1];x<b&&(v=b,b=x,x=v);var C=x-b,S=Cp(C-_p)<mp;if(!S&&E<w&&(v=w,w=E,E=v),S||C<mp?S?w+E>0^_[1]<(Cp(_[0]-b)<mp?w:E):w<=_[1]&&_[1]<=E:C>_p^(b<=_[0]&&_[0]<=x)){var M=Yr(p,(-d+m)/g);return Hr(M,f),[_,Br(M)]}}}function r(e,n){var i=s?t:_p-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var o=Ip(t),s=o>0,a=Cp(o)>mp;return Jp(n,(function(t){var e,o,u,h,l;return{lineStart:function(){h=u=!1,l=1},point:function(c,f){var p,d=[c,f],g=n(c,f),y=s?g?0:r(c,f):g?r(c+(c<0?_p:-_p),f):0;if(!e&&(h=u=g)&&t.lineStart(),g!==u&&(!(p=i(e,d))||zp(e,p)||zp(d,p))&&(d[0]+=mp,d[1]+=mp,g=n(d[0],d[1])),g!==u)l=0,g?(t.lineStart(),p=i(d,e),t.point(p[0],p[1])):(p=i(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(a&&e&&s^g){var m;y&o||!(m=i(d,e,!0))||(l=0,s?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&zp(e,d)||t.point(d[0],d[1]),e=d,u=g,o=y},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(h&&u)<<1}}}),(function(n,i,r,o){!function(t,e,n,i,r,o){if(n){var s=Ip(e),a=Np(e),u=i*n;null==r?(r=e+i*xp,o=e-u/2):(r=Jr(s,r),o=Jr(s,o),(i>0?r<o:r>o)&&(r+=i*xp));for(var h,l=r;i>0?l>o:l<o;l-=u)h=Br([s,-a*Ip(l),-a*Np(l)]),t.point(h[0],h[1])}}(o,t,e,r,n,i)}),s?[0,-t]:[-_p,t-_p])};oo.prototype={constructor:oo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ed=Ip(30*Ep),nd=function(t,e){return+e?function(t,e){function n(i,r,o,s,a,u,h,l,c,f,p,d,g,y){var m=h-i,_=l-r,v=m*m+_*_;if(v>4*e&&g--){var b=s+f,x=a+p,w=u+d,E=Lp(b*b+x*x+w*w),C=Pr(w/=E),S=Cp(Cp(w)-1)<mp||Cp(o-c)<mp?(o+c)/2:Mp(x,b),M=t(S,C),I=M[0],T=M[1],O=I-i,N=T-r,L=_*O-m*N;(L*L/v>e||Cp((m*O+_*N)/v-.5)>.3||s*f+a*p+u*d<ed)&&(n(i,r,o,s,a,u,I,T,S,b/=E,x/=E,w,g,y),y.point(I,T),n(I,T,S,b,x,w,h,l,c,f,p,d,g,y))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){m=NaN,w.point=o,e.lineStart()}function o(i,r){var o=qr([i,r]),s=t(i,r);n(m,_,y,v,b,x,m=s[0],_=s[1],y=i,v=o[0],b=o[1],x=o[2],16,e),e.point(m,_)}function s(){w.point=i,e.lineEnd()}function a(){r(),w.point=u,w.lineEnd=h}function u(t,e){o(l=t,e),c=m,f=_,p=v,d=b,g=x,w.point=o}function h(){n(m,_,y,v,b,x,c,f,l,p,d,g,16,e),w.lineEnd=s,s()}var l,c,f,p,d,g,y,m,_,v,b,x,w={point:i,lineStart:r,lineEnd:s,polygonStart:function(){e.polygonStart(),w.lineStart=a},polygonEnd:function(){e.polygonEnd(),w.lineStart=r}};return w}}(t,e):function(t){return ro({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},id=ro({point:function(t,e){this.stream.point(t*Ep,e*Ep)}});ao.invert=function(t,e){return[t,2*Sp(Tp(e))-vp]},uo.invert=function(t,e){return[-e,2*Sp(Tp(t))-vp]};var rd=function(){var t=function(t){function e(){var e=_p*a(),s=o(function(t){function e(e){return(e=t(e[0]*Ep,e[1]*Ep))[0]*=wp,e[1]*=wp,e}return t=Vr(t[0]*Ep,t[1]*Ep,t.length>2?t[2]*Ep:0),e.invert=function(e){return(e=t.invert(e[0]*Ep,e[1]*Ep))[0]*=wp,e[1]*=wp,e},e}(o.rotate()).invert([0,0]));return h(null==l?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===ao?[[Math.max(s[0]-e,l),n],[Math.min(s[0]+e,i),r]]:[[l,Math.max(s[1]-e,n)],[i,Math.min(s[1]+e,r)]])}var n,i,r,o=function(t){return function(t){function e(t){return[(t=h(t[0]*Ep,t[1]*Ep))[0]*g+s,a-t[1]*g]}function n(t,e){return[(t=o(t,e))[0]*g+s,a-t[1]*g]}function i(){h=Dp(u=Vr(b,x,w),o);var t=o(_,v);return s=y-t[0]*g,a=m+t[1]*g,r()}function r(){return p=d=null,e}var o,s,a,u,h,l,c,f,p,d,g=150,y=480,m=250,_=0,v=0,b=0,x=0,w=0,E=null,C=Qp,S=null,M=Wp,I=.5,T=nd(n,I);return e.stream=function(t){return p&&d===t?p:p=id(C(u,T(M(d=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?td(E=t*Ep,6*Ep):(E=null,Qp),r()):E*wp},e.clipExtent=function(t){return arguments.length?(M=null==t?(S=l=c=f=null,Wp):eo(S=+t[0][0],l=+t[0][1],c=+t[1][0],f=+t[1][1]),r()):null==S?null:[[S,l],[c,f]]},e.scale=function(t){return arguments.length?(g=+t,i()):g},e.translate=function(t){return arguments.length?(y=+t[0],m=+t[1],i()):[y,m]},e.center=function(t){return arguments.length?(_=t[0]%360*Ep,v=t[1]%360*Ep,i()):[_*wp,v*wp]},e.rotate=function(t){return arguments.length?(b=t[0]%360*Ep,x=t[1]%360*Ep,w=t.length>2?t[2]%360*Ep:0,i()):[b*wp,x*wp,w*wp]},e.precision=function(t){return arguments.length?(T=nd(n,I=t*t),r()):Lp(I)},e.fitExtent=function(t,n){return so(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return so(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=h.invert((t[0]-s)/g,(a-t[1])/g))&&[t[0]*wp,t[1]*wp]},i()}}((function(){return t}))()}(t),s=o.center,a=o.scale,u=o.translate,h=o.clipExtent,l=null;return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?l=n=i=r=null:(l=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==l?null:[[l,n],[i,r]]},e()}(uo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=ls,t.random=Xa,t.clusters=Va,t.helpers=Mo,t.invariant=To,t.meta=Io,t.isolines=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},o=n.breaksProperties||[];if(V(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!C(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var s=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;V(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return L(t,(function(t){var e=H(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return H(t)[0]-H(e)[0]}))})).sort((function(t,n){return e?H(t[0])[1]-H(n[0])[1]:H(n[0])[1]-H(t[0])[1]}))}(t,i),s=[],a=0;a<o.length;a++){for(var u=o[a],h=[],l=0;l<u.length;l++){var c=u[l];c.properties[n]?h.push(c.properties[n]):h.push(0),!0===r&&(c.properties.matrixPosition=[a,l])}s.push(h)}return s}(t,{zProperty:i,flip:!0});return h(function(t,e,n){var i=G(n),r=i[2]-i[0],o=i[3]-i[1],s=i[0],a=i[1],u=e[0].length-1,h=e.length-1,l=r/u,c=o/h,f=function(t){t[0]=t[0]*l+s,t[1]=t[1]*c+a};return t.forEach((function(t){I(t,f)})),t}(function(t,e,n,i,r){for(var o=[],s=1;s<e.length;s++){var a=+e[s],u=Object.assign({},i,r[s]);u[n]=a;var h=l(J(t,a),u);o.push(h)}return o}(s,e,i,r,o),s,t))},t.convex=It,t.pointsWithinPolygon=Nt,t.concave=function(t,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var i=n.maxEdge||1/0;if(!E(i))throw new Error("maxEdge is invalid");var r=Lt(function(t){var e=[],n={};return L(t,(function(t){if(t.geometry){var i=t.geometry.coordinates.join("-");n.hasOwnProperty(i)||(e.push(t),n[i]=!0)}})),h(e)}(t));if(r.features=r.features.filter((function(t){var e=t.geometry.coordinates[0][0],r=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=Pt(e,r,n),a=Pt(r,o,n),u=Pt(e,o,n);return s<=i&&a<=i&&u<=i})),r.features.length<1)return null;var o=Vt(r,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,i){var r=Ao(6),o=e.features.map((function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}}));return r.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=G(t),n=[];r.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach((function(e){Tt([e.minX,e.minY],t)&&n.push(e.property)})),t.properties[i]=n})),t},t.flip=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Dt(t)),I(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t},t.simplify=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,i=e.highQuality||!1,r=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==r&&(t=Dt(t)),k(t,(function(t){!function(t,e,n){var i=t.type;if("Point"===i||"MultiPoint"===i)return t;Kt(t,!0);var r=t.coordinates;switch(i){case"LineString":t.coordinates=te(r,e,n);break;case"MultiLineString":t.coordinates=r.map((function(t){return te(t,e,n)}));break;case"Polygon":t.coordinates=ee(r,e,n);break;case"MultiPolygon":t.coordinates=r.map((function(t){return ee(t,e,n)}))}}(t,n,i)})),t},t.bezierSpline=ne,t.tag=function(t,e,n,i){return t=Dt(t),e=Dt(e),L(t,(function(t){t.properties||(t.properties={}),L(e,(function(e){void 0===t.properties[i]&&Tt(t,e)&&(t.properties[i]=e.properties[n])}))})),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return h(function(t,e){for(var n,i,r=t.slice(0),o=t.length,s=o-e;o-- >s;)n=r[i=Math.floor((o+1)*Math.random())],r[i]=r[o],r[o]=n;return r.slice(s)}(t.features,e))},t.envelope=re,t.square=oe,t.circle=ae,t.midpoint=function(t,e){return se(t,Pt(t,e)/2,ue(t,e))},t.center=he,t.centerOfMass=function t(e,n){switch(Z(e)){case"Point":return e;case"Polygon":var r=[];I(e,(function(t){r.push(t)}));var o,s,a,u,h,l,c,f,p=le(e,n),d=p.geometry.coordinates,g=0,y=0,m=0,_=r.map((function(t){return[t[0]-d[0],t[1]-d[1]]}));for(o=0;o<r.length-1;o++)u=(s=_[o])[0],l=s[1],h=(a=_[o+1])[0],m+=f=u*(c=a[1])-h*l,g+=(u+h)*f,y+=(l+c)*f;if(0===m)return p;var v=1/(.5*m*6);return i([d[0]+v*g,d[1]+v*y],n);default:var b=It(e);return b?t(b,n):le(e,n)}},t.centroid=le,t.combine=function(t){function n(t,e,n){n?i[e].coordinates=i[e].coordinates.concat(t.geometry.coordinates):i[e].coordinates.push(t.geometry.coordinates),i[e].properties.push(t.properties)}var i={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},r=Object.keys(i).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});return L(t,(function(t){t.geometry&&(i[t.geometry.type]?n(t,t.geometry.type,!0):r[t.geometry.type]&&n(t,r[t.geometry.type],!1))})),h(Object.keys(i).filter((function(t){return i[t].coordinates.length})).sort().map((function(t){return e({type:t,coordinates:i[t].coordinates},{collectedProperties:i[t].properties})})))},t.distance=Pt,t.explode=ce,t.bbox=G,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Ie(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(Ie(t))})),e},t.bboxPolygon=ie,t.booleanPointInPolygon=Tt,t.nearestPoint=Te,t.nearestPointOnLine=Ke,t.nearestPointToLine=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units,r=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return k(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==Z(e))throw new Error("line must be a LineString");var o=1/0,s=null;return L(t,(function(t){var n=on(t,e,{units:i});n<o&&(o=n,s=t)})),s&&(s.properties=Object.assign({dist:o},s.properties,r)),s},t.planepoint=function(t,e){var n=U(t),i=K(e).coordinates[0];if(i.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var r=e.properties||{},o=r.a,s=r.b,a=r.c,u=n[0],h=n[1],l=i[0][0],c=i[0][1],f=void 0!==o?o:i[0][2],p=i[1][0],d=i[1][1],g=void 0!==s?s:i[1][2],y=i[2][0],m=i[2][1],_=void 0!==a?a:i[2][2];return(_*(u-l)*(h-d)+f*(u-p)*(h-m)+g*(u-y)*(h-c)-g*(u-l)*(h-m)-_*(u-p)*(h-c)-f*(u-y)*(h-d))/((u-l)*(h-d)+(u-p)*(h-m)+(u-y)*(h-c)-(u-l)*(h-m)-(u-p)*(h-c)-(u-y)*(h-d))},t.tin=Lt,t.bearing=ue,t.destination=se,t.kinks=function(t){var e,n,r={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var s=function(t,e,n,i,r,o,s,a){var u,h,l,c,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(a-o)*(n-t)-(s-r)*(i-e))?null!==f.x&&null!==f.y&&f:(c=(n-t)*(h=e-o)-(i-e)*(l=t-r),h=((s-r)*h-(a-o)*l)/u,l=c/u,f.x=t+h*(n-t),f.y=e+h*(i-e),h>=0&&h<=1&&(f.onLine1=!0),l>=0&&l<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);s&&r.features.push(i([s[0],s[1]]))}}))})),r},t.pointOnFeature=an,t.area=hn,t.along=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r;if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}if(!E(e))throw new Error("distance must be a number");for(var o=0,s=0;s<r.length&&!(e>=o&&s===r.length-1);s++){if(o>=e){var a=e-o;if(a){var u=ue(r[s],r[s-1])-180;return se(r[s],a,u,n)}return i(r[s])}o+=Pt(r[s],r[s+1],n)}return i(r[r.length-1])},t.length=pn,t.lineSlice=function(t,e,n){var i=H(n);if("LineString"!==Z(n))throw new Error("line must be a LineString");for(var r,o=Ke(n,t),s=Ke(n,e),u=[(r=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],h=r[0].properties.index+1;h<r[1].properties.index+1;h++)u.push(i[h]);return u.push(r[1].geometry.coordinates),a(u,n.properties)},t.lineSliceAlong=dn,t.pointGrid=vn,t.truncate=bn,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return D(t,(function(t){e.push(t)})),h(e)},t.lineIntersect=Xe,t.lineChunk=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units,r=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return D(t,(function(t){r&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,i){var r=pn(t,{units:n});if(r<=e)return i(t);var o=r/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++)i(dn(t,e*s,e*(s+1),{units:n}))}(t,e,i,(function(t){o.push(t)}))})),h(o)},t.unkinkPolygon=function(t){var e=[];return D(t,(function(t){"Polygon"===t.geometry.type&&L(fs(t),(function(n){e.push(o(n.geometry.coordinates,t.properties))}))})),h(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.npoints,o=n.offset;return t=U(t),e=U(e),i=i||{},r=r||100,o=o||10,new bs({x:t[0],y:t[1]},{x:e[0],y:e[1]},i).Arc(r,{offset:o}).json()},t.lineSegment=We,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=Z(t),i=Z(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===i)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===i)throw new Error("splitter cannot be a GeometryCollection");var r=bn(e,{precision:7});switch(i){case"Point":return Sn(t,r);case"MultiPoint":return Cn(t,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Cn(t,Xe(t,r))}},t.lineArc=Tn,t.polygonToLine=Nn,t.lineToPolygon=An,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),i=H(t),r=t.properties;switch(n){case"LineString":case"MultiLineString":var s=[];return"LineString"===n&&(i=[i]),i.forEach((function(t){xs(t,e,s)})),1===s.length?a(s[0],r):l(s,r);case"Polygon":return o(Fn(i,e),r);case"MultiPolygon":return f(i.map((function(t){return Fn(t,e)})),r);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=Un,t.sector=function(t,e,n,i,r){if(!C(r=r||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof r)throw new Error("options must be an object");if(Yn(n)===Yn(i))return ae(t,e,r);var s=H(t),a=[[s]];return I(Tn(t,e,n,i,r),(function(t){a[0].push(t)})),a[0].push(s),o(a)},t.rhumbBearing=$e,t.rhumbDistance=Je,t.rhumbDestination=Wn,t.polygonTangents=function(t,e){var n,r,o,s=H(t),a=H(e);switch(Z(e)){case"Polygon":n=a[0][0],r=a[0][0],o=Vn(a[0][0],a[0][a[0].length-1],s);var u=Xn(a[0],s,o,void 0,n,r);n=u[0],r=u[1];break;case"MultiPolygon":n=a[0][0][0],r=a[0][0][0],o=Vn(a[0][0][0],a[0][0][a[0][0].length-1],s),a.forEach((function(t){var e=Xn(t[0],s,o,void 0,n,r);n=e[0],r=e[1]}))}return h([i(n),i(r)])},t.rewind=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,i=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");!1===i&&(t=Dt(t));var r=[];switch(t.type){case"GeometryCollection":return k(t,(function(t){$n(t,n)})),t;case"FeatureCollection":return L(t,(function(t){L($n(t,n),(function(t){r.push(t)}))})),h(r)}return $n(t,n)},t.isobands=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},s=n.breaksProperties||[];if(V(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!C(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(s))throw new Error("breaksProperties is not an Array");var a=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;V(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return L(t,(function(t){var e=H(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return H(t)[0]-H(e)[0]}))})).sort((function(t,n){return e?H(t[0])[1]-H(n[0])[1]:H(n[0])[1]-H(t[0])[1]}))}(t,i),s=[],a=0;a<o.length;a++){for(var u=o[a],h=[],l=0;l<u.length;l++){var c=u[l];c.properties[n]?h.push(c.properties[n]):h.push(0),!0===r&&(c.properties.matrixPosition=[a,l])}s.push(h)}return s}(t,{zProperty:i,flip:!0}),u=function(t,e,n){for(var i=[],r=1;r<e.length;r++){var s=+e[r-1],a=+e[r],u=function(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var i=0;i<e.length;i++)if(!e[i].grouped){var r=[];r.push(e[i].lrCoordinates),e[i].grouped=!0;for(var s=o([e[i].lrCoordinates]),a=i+1;a<e.length;a++)e[a].grouped||function(t,e){for(var n=ce(t),i=0;i<n.features.length;i++)if(!Tt(n.features[i],e))return!1;return!0}(o([e[a].lrCoordinates]),s)&&(r.push(e[a].lrCoordinates),e[a].grouped=!0);n.push(r)}return n}(function(t){var e=[],n=[];t.forEach((function(t){var i=hn(o([t]));n.push(i),e.push({ring:t,area:i})})),n.sort((function(t,e){return e-t}));var i=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){i.push(e[n].ring),e.splice(n,1);break}})),i}(Qn(t,s,a-s))),h={};h.groupedRings=u,h[n]=s+"-"+a,i.push(h)}return i}(a,e,i);return h((u=function(t,e,n){var i=G(n),r=i[2]-i[0],o=i[3]-i[1],s=i[0],a=i[1],u=e[0].length-1,h=e.length-1,l=r/u,c=o/h,f=function(t){t[0]=t[0]*l+s,t[1]=t[1]*c+a};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(f)}))}))})),t}(u,a,t)).map((function(t,e){if(s[e]&&!C(s[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},r,s[e]);return n[i]=t[i],f(t.groupedRings,n)})))},t.transformRotate=ni,t.transformScale=ii,t.transformTranslate=function(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var r=i.units,o=i.zTranslation,s=i.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==s&&void 0!==s||(t=Dt(t)),I(t,(function(t){var i=H(Wn(t,e,n,{units:r}));t[0]=i[0],t[1]=i[1],o&&3===t.length&&(t[2]+=o)})),t},t.lineOffset=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var r=Z(t),o=t.properties;switch(r){case"LineString":return ai(t,e,i);case"MultiLineString":var s=[];return D(t,(function(t){s.push(ai(t,e,i).geometry.coordinates)})),l(s,o);default:throw new Error("geometry "+r+" is not supported")}},t.polygonize=function(t){var e=ba.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],i=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):i.push(t)})),n.forEach((function(t){_a.findEdgeRingContaining(t,i)&&i.push(t)})),h(i.map((function(t){return t.toPolygon()})))},t.booleanDisjoint=function(t,e){var n;return D(t,(function(t){D(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!li(e,t);case"Polygon":return!Tt(t,e)}break;case"LineString":switch(e.type){case"Point":return!li(t,e);case"LineString":return!function(t,e){return Xe(t,e).features.length>0}(t,e);case"Polygon":return!ci(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Tt(e,t);case"LineString":return!ci(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Tt(t.coordinates[0][n],e))return!0;for(var i=0;i<e.coordinates[0].length;i++)if(Tt(e.coordinates[0][i],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)}))})),n},t.booleanContains=function(t,e){var n=Z(t),i=Z(e),r=K(t),o=K(e),s=H(t),a=H(e);switch(n){case"Point":switch(i){case"Point":return pi(s,a);default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"Point":return function(t,e){var n,i=!1;for(n=0;n<t.coordinates.length;n++)if(pi(t.coordinates[n],e.coordinates)){i=!0;break}return i}(r,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var i=!1,r=0;r<t.coordinates.length;r++)if(pi(e.coordinates[n],t.coordinates[r])){i=!0;break}if(!i)return!1}return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"Point":return gn(o,r,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(gn({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!0})&&(n=!0),!gn({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!1}))return!1;return n}(r,o);case"MultiPoint":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(gn(e.coordinates[i],t,{ignoreEndVertices:!0})&&(n=!0),!gn(e.coordinates[i],t))return!1;return!!n}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Point":return Tt(o,r,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,i=0;if(!fi(G(t),G(e)))return!1;for(;i<e.coordinates.length-1;i++)if(Tt({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[i],e.coordinates[i+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(r,o);case"Polygon":return function(t,e){if(!fi(G(t),G(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!Tt(e.coordinates[0][n],t))return!1;return!0}(r,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Tt(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=Z(t),i=Z(e),r=K(t),o=K(e);switch(n){case"MultiPoint":switch(i){case"LineString":return di(r,o);case"Polygon":return yi(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"MultiPoint":return di(o,r);case"LineString":return function(t,e){if(Xe(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var i=0;i<e.coordinates.length-1;i++){var r=!0;if(0!==i&&i!==e.coordinates.length-2||(r=!1),mi(t.coordinates[n],t.coordinates[n+1],e.coordinates[i],r))return!0}return!1}(r,o);case"Polygon":return gi(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"MultiPoint":return yi(o,r);case"LineString":return gi(o,r);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=Kn,t.booleanOverlap=xi,t.booleanPointOnLine=gn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return Z(t)===Z(e)&&new Sa({precision:6}).compare(Kt(t),Kt(e))},t.booleanWithin=yn,t.clone=Dt,t.cleanCoords=Kt,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.minPoints,r=n.units;if(V(t,"Point","Input must contain Points"),null==e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(null==i||Math.sign(i)>0))throw new Error("Invalid minPoints");t=Dt(t),i=i||3;var o=new Na.DBSCAN,s=-1;return o.run(R(t),x(e,r),i,Pt).forEach((function(e){s++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=s,n.properties.dbscan="core"}))})),o.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,i=e.mutate;V(t,"Point","Input must contain Points");var r=t.features.length;(n=n||Math.round(Math.sqrt(r/2)))>r&&(n=r),!1!==i&&void 0!==i||(t=Dt(t));var o=R(t),s=o.slice(0,n),a=Pa(o,n,s),u={};return a.centroids.forEach((function(t,e){u[e]=t})),L(t,(function(t,e){var n=a.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]})),t},t.pointToLineDistance=on,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==Ei(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Ei(e,"line2"))throw new Error("line2 must be a LineString");for(var n=We(Kt(t)).features,i=We(Kt(e)).features,r=0;r<n.length;r++){var o=n[r].geometry.coordinates;if(!i[r])break;if(!function(t,e){return _($e(t[0],t[1]))===_($e(e[0],e[1]))}(o,i[r].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var o=r.resolution,s=r.minDistance,u=r.obstacles||h([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!E(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(s)throw new Error("options.minDistance is not yet implemented");var l=U(t),c=U(n);switch(t=i(l),n=i(c),Z(u)){case"FeatureCollection":if(0===u.features.length)return a([l,c]);break;case"Polygon":u=h([e(K(u))]);break;default:throw new Error("invalid obstacles")}var f=u;f.features.push(t),f.features.push(n);var p=G(ii(ie(G(f)),1.15));o||(o=Pt([p[0],p[1]],[p[2],p[1]],r)/100),f.features.pop(),f.features.pop();for(var d=p[0],g=p[1],y=p[2],m=p[3],_=o/Pt([d,g],[y,g],r)*(y-d),v=o/Pt([d,g],[d,m],r)*(m-g),b=y-d,x=m-g,w=(b-Math.floor(b/_)*_)/2,S=[],M=[],I=[],T=[],O=1/0,N=1/0,L=m-(x-Math.floor(x/v)*v)/2,A=0;L>=g;){for(var R=[],k=[],P=d+w,D=0;P<=y;){var j=i([P,L]),F=function(t,e){for(var n=0;n<e.features.length;n++)if(Tt(t,e.features[n]))return!0;return!1}(j,u);R.push(F?0:1),k.push(P+"|"+L);var z=Pt(j,t);!F&&z<O&&(O=z,I={x:D,y:A});var B=Pt(j,n);!F&&B<N&&(N=B,T={x:D,y:A}),P+=_,D++}M.push(R),S.push(k),L-=v,A++}var q=new Si(M,{diagonal:!0}),H=q.grid[I.y][I.x],Y=q.grid[T.y][T.x],W=[l];return Da.search(q,H,Y).forEach((function(t){var e=S[t.x][t.y].split("|");W.push([+e[0],+e[1]])})),W.push(c),Kt(a(W))},t.voronoi=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return V(t,"Point","points"),h(function(){function t(t){return new Ji(t.map((function(i,r){var o=[Math.round(e(i,r,t)/Ya)*Ya,Math.round(n(i,r,t)/Ya)*Ya];return o.index=r,o.data=i,o})),i)}var e=Ti,n=Oi,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:ja(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:ja(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t}().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(Qi))},t.ellipse=tr,t.centerMean=nr,t.centerMedian=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!E(n))throw new Error("counter must be a number");var i=e.weight,r=nr(t,{weight:e.weight}),o=h([]);return L(t,(function(t){o.features.push(le(t,{weight:t.properties[i]}))})),o.properties={tolerance:e.tolerance,medianCandidates:[]},ir(r.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,i=e.weight,r=e.properties||{};if(!E(n))throw new Error("steps must be a number");if(!C(r))throw new Error("properties must be a number");var o=R(t).length,s=nr(t,{weight:i}),a=0,u=0,l=0;L(t,(function(t){var e=t.properties[i]||1,n=rr(H(t),H(s));a+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,l+=n.x*n.y*e}));var c=a-u,f=Math.sqrt(Math.pow(c,2)+4*Math.pow(l,2)),p=2*l,d=Math.atan((c+f)/p),g=180*d/Math.PI,y=0,m=0,_=0;L(t,(function(t){var e=t.properties[i]||1,n=rr(H(t),H(s));y+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*e,m+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*e,_+=e}));var v=Math.sqrt(2*y/_),b=Math.sqrt(2*m/_),x=tr(s,v,b,{units:"degrees",angle:g,steps:n,properties:r}),w=Nt(t,h([x])),S={meanCenterCoordinates:H(s),semiMajorAxis:v,semiMinorAxis:b,numberOfFeatures:o,angle:g,percentageWithinEllipse:100*R(w).length/o};return x.properties.standardDeviationalEllipse=S,x},t.difference=function(t,n){var i=K(t),r=K(n),o=t.properties||{};if(i=Ar(i),r=Ar(r),!i)return null;if(!r)return e(i,o);var s=new nl,a=s.read(i),u=s.read(r),h=op.difference(a,u);return h.isEmpty()?null:e((new il).write(h),o)},t.buffer=function(t,e,n){var i=(n=n||{}).units,r=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");r=r||64,i=i||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return k(t,(function(t){var n=ho(t,e,i,r);n&&o.push(n)})),h(o);case"FeatureCollection":return L(t,(function(t){var n=ho(t,e,i,r);n&&L(n,(function(t){t&&o.push(t)}))})),h(o)}return ho(t,e,i,r)},t.union=po,t.intersect=go,t.dissolve=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;V(t,"Polygon","dissolve");var i=Dt(t),r=i.features,o=[];r.forEach((function(t,e){t.properties.origIndexPosition=e}));var s=Ue();for(var u in s.load(i),r){var h=r[u],l=!1;if(s.search(h).features.forEach((function(t){h=r[u];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var i=yo(e,o);0!==i&&(e-=i)}if(e!==+u){var c=r[e];c&&h&&(void 0!==n&&c.properties[n]!==h.properties[n]||xi(h,c)&&function(t,e){return Xe(a(R(t)),a(R(e))).features.length>0}(h,c)&&(r[u]=po(h,c),o.push(t.properties.origIndexPosition),o.sort((function(t,e){return t-e})),s.remove(t),r.splice(e,1),h.properties.origIndexPosition=u,s.remove(h,(function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition})),l=!0))}})),l){if(!h)continue;h.properties.origIndexPosition=u,s.insert(h),u--}}return r.forEach((function(t){delete t.properties.origIndexPosition,delete t.bbox})),i},t.hexGrid=mo,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),i=function(t){var e=[],n=[];return D(t,(function(t){var i=t.geometry.coordinates,r=i[0],s=i.slice(1);e.push(o([r])),s.forEach((function(t){n.push(o([t]))}))})),[h(e),h(n)]}(t),r=i[0],s=i[1];return function(t,e,n){var i=[];return i.push(t.geometry.coordinates[0]),D(e,(function(t){i.push(t.geometry.coordinates[0])})),D(n,(function(t){i.push(t.geometry.coordinates[0])})),o(i)}(n,r=_o(r),s=_o(s))},t.squareGrid=bo,t.triangleGrid=xo,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.gridType,r=n.property,o=n.weight;if(!t)throw new Error("points is required");if(V(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");r=r||"elevation",i=i||"square",o=o||1;var s,a=G(t);switch(i){case"point":case"points":s=vn(a,e,n);break;case"square":case"squares":s=bo(a,e,n);break;case"hex":case"hexes":s=mo(a,e,n);break;case"triangle":case"triangles":s=xo(a,e,n);break;default:throw new Error("invalid gridType")}var u=[];return L(s,(function(e){var s=0,a=0;L(t,(function(t){var u,h=Pt("point"===i?e:le(e),t,n);if(void 0!==r&&(u=t.properties[r]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===h&&(s=u);var l=1/Math.pow(h,o);a+=l,s+=l*u}));var h=Dt(e);h.properties[r]=s/a,u.push(h)})),h(u)},t.pointOnSurface=an,t.polygonToLineString=Nn,t.lineStringToPolygon=An,t.inside=Tt,t.within=Nt,t.bezier=ne,t.nearest=Te,t.pointOnLine=Ke,t.lineDistance=pn,t.radians2degrees=v,t.degrees2radians=b,t.distanceToDegrees=m,t.distanceToRadians=y,t.radiansToDistance=g,t.bearingToAngle=_,t.convertDistance=x,t.toMercator=Qe,t.toWgs84=tn,t.randomPosition=or,t.randomPoint=sr,t.randomPolygon=ar,t.randomLineString=ur,t.getCluster=lr,t.clusterEach=cr,t.clusterReduce=fr,t.createBins=pr,t.applyFilter=dr,t.propertiesContainsFilter=gr,t.filterProperties=yr,t.earthRadius=wo,t.factors=Eo,t.unitsFactors=Co,t.areaFactors=So,t.feature=e,t.geometry=n,t.point=i,t.points=r,t.polygon=o,t.polygons=s,t.lineString=a,t.lineStrings=u,t.featureCollection=h,t.multiLineString=l,t.multiPoint=c,t.multiPolygon=f,t.geometryCollection=p,t.round=d,t.radiansToLength=g,t.lengthToRadians=y,t.lengthToDegrees=m,t.bearingToAzimuth=_,t.radiansToDegrees=v,t.degreesToRadians=b,t.convertLength=x,t.convertArea=w,t.isNumber=E,t.isObject=C,t.validateBBox=S,t.validateId=M,t.getCoord=U,t.getCoords=H,t.containsNumber=Y,t.geojsonType=W,t.featureOf=X,t.collectionOf=V,t.getGeom=K,t.getGeomType=$,t.getType=Z,t.coordEach=I,t.coordReduce=T,t.propEach=O,t.propReduce=N,t.featureEach=L,t.featureReduce=A,t.coordAll=R,t.geomEach=k,t.geomReduce=P,t.flattenEach=D,t.flattenReduce=j,t.segmentEach=F,t.segmentReduce=z,t.lineEach=B,t.lineReduce=q,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";var i=n(56),r=n(2),o=n(14),s=n(6);function a(t){return t}var u=n(16),h=n(15);var l=n(46),c=n(12),f="center",p="resolution",d="rotation",g=n(10),y=n(41),m=n(24),_=n(0),v=n(5),b=n(59),x=n(9),w=n(11),E=n(26),C=function(t){function e(e){t.call(this);var n=Object(x.a)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(w.e)(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[f]=void 0!==t.center?t.center:null;var n=function(t){var e,n,r,o=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var l=t.resolutions;n=l[o],r=void 0!==l[a]?l[a]:l[l.length-1],e=function(t){return function(e,n,i){if(void 0!==e){var r=Object(h.e)(t,e,i);r=Object(s.a)(r+n,0,t.length-1);var o=Math.floor(r);if(r!=o&&o<t.length-1){var a=t[o]/t[o+1];return t[o]/Math.pow(a,r-o)}return t[o]}}}(l)}else{var c=Object(w.e)(t.projection,"EPSG:3857"),f=c.getExtent(),p=(f?Math.max(Object(_.E)(f),Object(_.A)(f)):360*w.a[E.b.DEGREES]/c.getMetersPerUnit())/i.b/Math.pow(2,0),d=p/Math.pow(2,28);void 0!==(n=t.maxResolution)?o=0:n=p/Math.pow(u,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,a):p/Math.pow(u,a):d),a=o+Math.floor(Math.log(n/r)/Math.log(u)),r=n/Math.pow(u,a-o),e=function(t,e,n){return function(i,r,o){if(void 0!==i){var s=-o/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+s),u=Math.max(a+r,0);return void 0!==n&&(u=Math.min(u,n)),e/Math.pow(t,u)}}}(u,n,a-o)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:u}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var r=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[Object(s.a)(t[0],e[0],e[2]),Object(s.a)(t[1],e[1],e[3])]:void 0}):a;var e}(t),o=n.constraint,u=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(l.b)():!1===e?l.d:"number"==typeof e?Object(l.a)(e):l.d}return l.c}(t);this.constraints_={center:r,resolution:o,rotation:u},void 0!==t.resolution?e[p]=t.resolution:void 0!==t.zoom&&(e[p]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[p]=Object(s.a)(Number(this.getResolution()||e[p]),this.minResolution_,this.maxResolution_))),e[d]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(x.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(x.a)({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var r=arguments[i-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&S(e,!0))}for(var o=Date.now(),a=this.getCenter().slice(),u=this.getResolution(),h=this.getRotation(),l=[],f=0;f<i;++f){var p=n[f],d={start:o,complete:!1,anchor:p.anchor,duration:void 0!==p.duration?p.duration:1e3,easing:p.easing||m.c};if(p.center&&(d.sourceCenter=a,d.targetCenter=p.center,a=d.targetCenter),void 0!==p.zoom?(d.sourceResolution=u,d.targetResolution=this.constrainResolution(this.maxResolution_,p.zoom-this.minZoom_,0),u=d.targetResolution):p.resolution&&(d.sourceResolution=u,d.targetResolution=p.resolution,u=d.targetResolution),void 0!==p.rotation){d.sourceRotation=h;var g=Object(s.d)(p.rotation-h+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=h+g,h=d.targetRotation}d.callback=e,M(d)?d.complete=!0:o+=d.duration,l.push(d)}this.animations_.push(l),this.setHint(c.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[c.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[c.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(c.a.ANIMATING,-this.hints_[c.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&S(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,a=i.length;o<a;++o){var u=i[o];if(!u.complete){var h=t-u.start,l=u.duration>0?h/u.duration:1;l>=1?(u.complete=!0,l=1):r=!1;var g=u.easing(l);if(u.sourceCenter){var y=u.sourceCenter[0],m=u.sourceCenter[1],_=y+g*(u.targetCenter[0]-y),v=m+g*(u.targetCenter[1]-m);this.set(f,[_,v])}if(u.sourceResolution&&u.targetResolution){var b=1===g?u.targetResolution:u.sourceResolution+g*(u.targetResolution-u.sourceResolution);u.anchor&&this.set(f,this.calculateCenterZoom(b,u.anchor)),this.set(p,b)}if(void 0!==u.sourceRotation&&void 0!==u.targetRotation){var x=1===g?Object(s.d)(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+g*(u.targetRotation-u.sourceRotation);u.anchor&&this.set(f,this.calculateCenterRotate(x,u.anchor)),this.set(d,x)}if(e=!0,!u.complete)break}}if(r){this.animations_[n]=null,this.setHint(c.a.ANIMATING,-1);var w=i[0].callback;w&&S(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],Object(y.c)(n,t-this.getRotation()),Object(y.a)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]);return n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(r.c)(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){var i=e||0,r=n||0;return this.constraints_.resolution(t,i,r)},e.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},e.prototype.getCenter=function(){return this.get(f)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();Object(g.a)(n,1);var i=this.getResolution();Object(g.a)(void 0!==i,2);var r=this.getRotation();return Object(g.a)(void 0!==r,3),Object(_.z)(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(p)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=Object(_.E)(t)/n[0],r=Object(_.A)(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(d)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=Object(h.e)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n,i=e||{},r=i.size;r||(r=this.getSizeFromViewport_()),Object(g.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(g.a)(!Object(_.H)(t),25),n=Object(b.b)(t)):t.getType()===v.a.CIRCLE?(t=t.getExtent(),(n=Object(b.b)(t)).rotate(this.getRotation(),Object(_.x)(t))):n=t;var s,a=void 0!==i.padding?i.padding:[0,0,0,0],u=void 0===i.constrainResolution||i.constrainResolution,h=void 0!==i.nearest&&i.nearest;s=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var l=n.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),p=Math.sin(-c),d=1/0,y=1/0,m=-1/0,x=-1/0,w=n.getStride(),E=0,C=l.length;E<C;E+=w){var M=l[E]*f-l[E+1]*p,I=l[E]*p+l[E+1]*f;d=Math.min(d,M),y=Math.min(y,I),m=Math.max(m,M),x=Math.max(x,I)}var T=this.getResolutionForExtent([d,y,m,x],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(T=isNaN(T)?s:Math.max(T,s),u){var O=this.constrainResolution(T,0,0);!h&&O<T&&(O=this.constrainResolution(O,-1,0)),T=O}p=-p;var N=(d+m)/2,L=(y+x)/2,A=[(N+=(a[1]-a[3])/2*T)*f-(L+=(a[0]-a[2])/2*T)*p,L*f+N*p],R=i.callback?i.callback:o.c;void 0!==i.duration?this.animate({resolution:T,center:A,duration:i.duration,easing:i.easing},R):(this.setResolution(T),this.setCenter(A),S(R,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),s=t[0]*r-t[1]*o,a=t[1]*r+t[0]*o,u=this.getResolution(),h=(s+=(e[0]/2-n[0])*u)*r-(a+=(n[1]-e[1]/2)*u)*(o=-o),l=a*r+s*o;this.setCenter([h,l])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(f,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(p,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(d,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(u.a);function S(t,e){setTimeout((function(){t(e)}),0)}function M(t){return!(t.sourceCenter&&t.targetCenter&&!Object(y.b)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.a=C},function(t,e,n){"use strict";var i=n(10),r=n(1),o=n(4),s=n(16),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;this.setGeometry(n)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(r.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(r.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;Array.isArray(t)?e=t:(Object(i.a)("function"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(r.c)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s.a);e.a=a},function(t,e,n){"use strict";var i=n(32),r=n(42),o=n(82),s=n(9),a=n(72),u="renderOrder",h=function(t){function e(e){var n=e||{},r=Object(s.a)({},n);delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,t.call(this,r),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||o.a.VECTOR,this.type=i.a.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(u)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(u,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:a.a,this.styleFunction_=null===t?void 0:Object(a.c)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(r.a);h.prototype.getSource,e.a=h},function(t,e,n){"use strict";var i=n(2),r=n(29),o=n(27),s=n(45),a=n(15),u=n(10),h=n(1),l=n(23),c=n(4),f=n(0),p=n(14),d="arraybuffer",g="json",y="text",m="xml";function _(t,e){return function(t,e,n,i){return function(r,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(r,o,s):t,!0),e.getType()==d&&(a.responseType="arraybuffer"),a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r,o=e.getType();o==g||o==y?r=a.responseText:o==m?(r=a.responseXML)||(r=(new DOMParser).parseFromString(a.responseText,"application/xml")):o==d&&(r=a.response),r?n.call(this,e.readFeatures(r,{featureProjection:s}),e.readProjection(r),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),a.onerror=function(){i.call(this)}.bind(this),a.send()}}(t,e,(function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}),p.c)}function v(t,e){return[[-1/0,-1/0,1/0,1/0]]}var b=n(9),x=n(83),w=n(39),E="addfeature",C="changefeature",S="clear",M="removefeature",I=n(64),T=n.n(I),O=function(t){this.rbush_=T()(t,void 0),this.items_={}};O.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(i.c)(e)]=n},O.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,o=e.length;r<o;r++){var s=t[r],a=e[r],u={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};n[r]=u,this.items_[Object(i.c)(a)]=u}this.rbush_.load(n)},O.prototype.remove=function(t){var e=Object(i.c)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},O.prototype.update=function(t,e){var n=this.items_[Object(i.c)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];Object(f.p)(r,t)||(this.remove(e),this.insert(t,e))},O.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},O.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},O.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},O.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},O.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},O.prototype.isEmpty=function(){return Object(b.d)(this.items_)},O.prototype.clear=function(){this.rbush_.clear(),this.items_={}},O.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(f.k)(e.minX,e.minY,e.maxX,e.maxY,t)},O.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var N=O,L=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l.a),A=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:w.a.READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=p.c,this.format_=n.format,this.overlaps_=null==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&(Object(u.a)(this.format_,7),this.loader_=_(this.url_,this.format_)),this.strategy_=void 0!==n.strategy?n.strategy:v;var i,o,s=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=s?new N:null,this.loadedExtentsRtree_=new N,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?o=n.features:n.features&&(o=(i=n.features).getArray()),s||void 0!==i||(i=new r.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(i.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new L(E,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(h.a)(e,c.a.CHANGE,this.handleFeatureChange_,this),Object(h.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:(Object(u.a)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],o=0,s=t.length;o<s;o++){var a=t[o],u=Object(i.c)(a);this.addToIndex_(u,a)&&n.push(a)}for(var h=0,l=n.length;h<l;h++){var c=n[h],f=Object(i.c)(c);this.setupChangeEvents_(f,c);var p=c.getGeometry();if(p){var d=p.getExtent();e.push(d),r.push(c)}else this.nullGeometryFeatures_[f]=c}this.featuresRtree_&&this.featuresRtree_.load(e,r);for(var g=0,y=n.length;g<y;g++)this.dispatchEvent(new L(E,n[g]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(h.a)(this,E,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),Object(h.a)(this,M,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),Object(h.a)(t,o.a.ADD,(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}),this),Object(h.a)(t,o.a.REMOVE,(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}),this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(h.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new L(S);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(b.d)(this.nullGeometryFeatures_)||Object(a.b)(t,Object(b.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],u=e||p.b;return this.featuresRtree_.forEachInExtent(a,(function(t){if(u(t)){var e=t.getGeometry(),h=s;if((s=e.closestPointXY(n,i,o,s))<h){r=t;var l=Math.sqrt(s);a[0]=n-l,a[1]=i-l,a[2]=n+l,a[3]=i+l}}})),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(i.c)(e),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var s=e.getId();if(void 0!==s){var a=s.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new L(C,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(i.c)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(b.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];r.forEachInExtent(a,(function(t){return Object(f.g)(t.extent,a)}))||(i.loader_.call(i,a,e,n),r.insert(a,{extent:a.slice()}),i.loading=i.loader_!==p.c)},a=0,u=o.length;a<u;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(Object(f.p)(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Object(i.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(i.c)(t);this.featureChangeKeys_[e].forEach(h.e),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new L(M,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(x.a);e.a=A},function(t,e,n){var i;
/*!
 * jQuery JavaScript Library v3.4.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-04-10T19:48Z
 */!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,u=o.slice,h=o.concat,l=o.push,c=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,g=d.toString,y=g.call(Object),m={},_=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},v=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var i,r,o=(n=n||s).createElement("script");if(o.text=t,e)for(i in b)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!_(t)&&!v(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.4.0",constructor:E,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[a]||{},a++),"object"==typeof s||_(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(h&&i&&(E.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||E.isPlainObject(n)?n:{},r=!1,s[e]=E.extend(h,o,i)):void 0!==i&&(s[e]=i));return s},E.extend({expando:"jQuery"+("3.4.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t))&&(!(e=a(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&g.call(n)===y)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){x(t,{nonce:e&&e.nonce})},each:function(t,e){var n,i=0;if(S(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(C,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?E.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(S(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return h.apply([],s)},guid:1,support:m}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){f["[object "+e+"]"]=e.toLowerCase()}));var M=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(t){var e,n,i,r,o,s,a,u,h,l,c,f,p,d,g,y,m,_,v,b="sizzle"+1*new Date,x=t.document,w=0,E=0,C=ut(),S=ut(),M=ut(),I=ut(),T=function(t,e){return t===e&&(c=!0),0},O={}.hasOwnProperty,N=[],L=N.pop,A=N.push,R=N.push,k=N.slice,P=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",q=new RegExp(j+"+","g"),G=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),U=new RegExp("^"+j+"*,"+j+"*"),H=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),Y=new RegExp(j+"|>"),W=new RegExp(B),X=new RegExp("^"+F+"$"),V={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){f()},st=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{R.apply(N=k.call(x.childNodes),x.childNodes),N[x.childNodes.length].nodeType}catch(t){R={apply:N.length?function(t,e){A.apply(t,k.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var o,a,h,l,c,d,m,_=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&((e?e.ownerDocument||e:x)!==p&&f(e),e=e||p,g)){if(11!==w&&(c=Q.exec(t)))if(o=c[1]){if(9===w){if(!(h=e.getElementById(o)))return i;if(h.id===o)return i.push(h),i}else if(_&&(h=_.getElementById(o))&&v(e,h)&&h.id===o)return i.push(h),i}else{if(c[2])return R.apply(i,e.getElementsByTagName(t)),i;if((o=c[3])&&n.getElementsByClassName&&e.getElementsByClassName)return R.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!I[t+" "]&&(!y||!y.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(m=t,_=e,1===w&&Y.test(t)){for((l=e.getAttribute("id"))?l=l.replace(it,rt):e.setAttribute("id",l=b),a=(d=s(t)).length;a--;)d[a]="#"+l+" "+vt(d[a]);m=d.join(","),_=tt.test(t)&&mt(e.parentNode)||e}try{return R.apply(i,_.querySelectorAll(m)),i}catch(e){I(t,!0)}finally{l===b&&e.removeAttribute("id")}}}return u(t.replace(G,"$1"),e,i,r)}function ut(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ht(t){return t[b]=!0,t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function yt(t){return ht((function(e){return e=+e,ht((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!K.test(e||n&&n.nodeName||"HTML")},f=at.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:x;return s!==p&&9===s.nodeType&&s.documentElement?(d=(p=s).documentElement,g=!o(p),x!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.attributes=lt((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=lt((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=lt((function(t){return d.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],y=[],(n.qsa=J.test(p.querySelectorAll))&&(lt((function(t){d.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||y.push("\\["+j+"*(?:value|"+D+")"),t.querySelectorAll("[id~="+b+"-]").length||y.push("~="),t.querySelectorAll(":checked").length||y.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")})),lt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&y.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),y.push(",.*:")}))),(n.matchesSelector=J.test(_=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&lt((function(t){n.disconnectedMatch=_.call(t,"*"),_.call(t,"[s!='']:x"),m.push("!=",B)})),y=y.length&&new RegExp(y.join("|")),m=m.length&&new RegExp(m.join("|")),e=J.test(d.compareDocumentPosition),v=e||J.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return c=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===x&&v(x,t)?-1:e===p||e.ownerDocument===x&&v(x,e)?1:l?P(l,t)-P(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return c=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:l?P(l,t)-P(l,e):0;if(r===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ft(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),n.matchesSelector&&g&&!I[e+" "]&&(!m||!m.test(e))&&(!y||!y.test(e)))try{var i=_.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){I(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),v(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&O.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,o=0;if(c=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(T),c){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return l=null,t},r=at.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=at.selectors={cacheLength:50,createPseudo:ht,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&C(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(q," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var h,l,c,f,p,d,g=o!==s?"nextSibling":"previousSibling",y=e.parentNode,m=a&&e.nodeName.toLowerCase(),_=!u&&!a,v=!1;if(y){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?y.firstChild:y.lastChild],s&&_){for(v=(p=(h=(l=(c=(f=y)[b]||(f[b]={}))[f.uniqueID]||(c[f.uniqueID]={}))[t]||[])[0]===w&&h[1])&&h[2],f=p&&y.childNodes[p];f=++p&&f&&f[g]||(v=p=0)||d.pop();)if(1===f.nodeType&&++v&&f===e){l[t]=[w,p,v];break}}else if(_&&(v=p=(h=(l=(c=(f=e)[b]||(f[b]={}))[f.uniqueID]||(c[f.uniqueID]={}))[t]||[])[0]===w&&h[1]),!1===v)for(;(f=++p&&f&&f[g]||(v=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++v||(_&&((l=(c=f[b]||(f[b]={}))[f.uniqueID]||(c[f.uniqueID]={}))[t]=[w,v]),f!==e)););return(v-=r)===i||v%i==0&&v/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ht((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=P(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,n)}):r}},pseudos:{not:ht((function(t){var e=[],n=[],i=a(t.replace(G,"$1"));return i[b]?ht((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:ht((function(t){return function(e){return at(t,e).length>0}})),contains:ht((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ht((function(t){return X.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return $.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:yt((function(){return[0]})),last:yt((function(t,e){return[e-1]})),eq:yt((function(t,e,n){return[n<0?n+e:n]})),even:yt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:yt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:yt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:yt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function _t(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=E++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var h,l,c,f=[w,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(l=(c=e[b]||(e[b]={}))[e.uniqueID]||(c[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((h=l[o])&&h[0]===w&&h[1]===a)return f[2]=h[2];if(l[o]=f,f[2]=t(e,n,u))return!0}return!1}}function xt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,h=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),h&&e.push(a)));return s}function Et(t,e,n,i,r,o){return i&&!i[b]&&(i=Et(i)),r&&!r[b]&&(r=Et(r,o)),ht((function(o,s,a,u){var h,l,c,f=[],p=[],d=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),y=!t||!o&&e?g:wt(g,f,t,a,u),m=n?r||(o?t:d||i)?[]:s:y;if(n&&n(y,m,a,u),i)for(h=wt(m,p),i(h,[],a,u),l=h.length;l--;)(c=h[l])&&(m[p[l]]=!(y[p[l]]=c));if(o){if(r||t){if(r){for(h=[],l=m.length;l--;)(c=m[l])&&h.push(y[l]=c);r(null,m=[],h,u)}for(l=m.length;l--;)(c=m[l])&&(h=r?P(o,c):f[l])>-1&&(o[h]=!(s[h]=c))}}else m=wt(m===s?m.splice(d,m.length):m),r?r(null,s,m,u):R.apply(s,m)}))}function Ct(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],u=s?1:0,l=bt((function(t){return t===e}),a,!0),c=bt((function(t){return P(e,t)>-1}),a,!0),f=[function(t,n,i){var r=!s&&(i||n!==h)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])f=[bt(xt(f),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[b]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return Et(u>1&&xt(f),u>1&&vt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(G,"$1"),n,u<r&&Ct(t.slice(u,r)),r<o&&Ct(t=t.slice(r)),r<o&&vt(t))}f.push(n)}return xt(f)}return _t.prototype=i.filters=i.pseudos,i.setFilters=new _t,s=at.tokenize=function(t,e){var n,r,o,s,a,u,h,l=S[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],h=i.preFilter;a;){for(s in n&&!(r=U.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=H.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(G," ")}),a=a.slice(n.length)),i.filter)!(r=V[s].exec(a))||h[s]&&!(r=h[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):S(t,u).slice(0)},a=at.compile=function(t,e){var n,r=[],o=[],a=M[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=Ct(e[n]))[b]?r.push(a):o.push(a);(a=M(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,u,l){var c,d,y,m=0,_="0",v=o&&[],b=[],x=h,E=o||r&&i.find.TAG("*",l),C=w+=null==x?1:Math.random()||.1,S=E.length;for(l&&(h=s===p||s||l);_!==S&&null!=(c=E[_]);_++){if(r&&c){for(d=0,s||c.ownerDocument===p||(f(c),a=!g);y=t[d++];)if(y(c,s||p,a)){u.push(c);break}l&&(w=C)}n&&((c=!y&&c)&&m--,o&&v.push(c))}if(m+=_,n&&_!==m){for(d=0;y=e[d++];)y(v,b,s,a);if(o){if(m>0)for(;_--;)v[_]||b[_]||(b[_]=L.call(u));b=wt(b)}R.apply(u,b),l&&!o&&b.length>0&&m+e.length>1&&at.uniqueSort(u)}return l&&(w=C,h=x),v};return n?ht(o):o}(o,r))).selector=t}return a},u=at.select=function(t,e,n,r){var o,u,h,l,c,f="function"==typeof t&&t,p=!r&&s(t=f.selector||t);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(h=u[0]).type&&9===e.nodeType&&g&&i.relative[u[1].type]){if(!(e=(i.find.ID(h.matches[0].replace(et,nt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=V.needsContext.test(t)?0:u.length;o--&&(h=u[o],!i.relative[l=h.type]);)if((c=i.find[l])&&(r=c(h.matches[0].replace(et,nt),tt.test(u[0].type)&&mt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&vt(u)))return R.apply(n,r),n;break}}return(f||a(t,p))(r,e,!g,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!c,f(),n.sortDetached=lt((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),lt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ct("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&lt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ct("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),lt((function(t){return null==t.getAttribute("disabled")}))||ct(D,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(n);E.find=M,E.expr=M.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=M.uniqueSort,E.text=M.getText,E.isXMLDoc=M.isXML,E.contains=M.contains,E.escapeSelector=M.escape;var I=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&E(t).is(n))break;i.push(t)}return i},T=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},O=E.expr.match.needsContext;function N(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(t,e,n){return _(e)?E.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?E.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?E.grep(t,(function(t){return c.call(e,t)>-1!==n})):E.filter(e,t,n)}E.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?E.find.matchesSelector(i,t)?[i]:[]:E.find.matches(t,E.grep(e,(function(t){return 1===t.nodeType})))},E.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(E(t).filter((function(){for(e=0;e<i;e++)if(E.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)E.find(t,r[e],n);return i>1?E.uniqueSort(n):n},filter:function(t){return this.pushStack(A(this,t||[],!1))},not:function(t){return this.pushStack(A(this,t||[],!0))},is:function(t){return!!A(this,"string"==typeof t&&O.test(t)?E(t):t||[],!1).length}});var R,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||R,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:k.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),L.test(i[1])&&E.isPlainObject(e))for(i in e)_(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_(t)?void 0!==n.ready?n.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,R=E(s);var P=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(E.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&E(t);if(!O.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?c.call(E(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,n){return I(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,n){return I(t,"nextSibling",n)},prevUntil:function(t,e,n){return I(t,"previousSibling",n)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(N(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},(function(t,e){E.fn[t]=function(n,i){var r=E.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=E.filter(i,r)),this.length>1&&(D[t]||E.uniqueSort(r),P.test(t)&&r.reverse()),this.pushStack(r)}}));var F=/[^\x20\t\r\n\f]+/g;function z(t){return t}function B(t){throw t}function q(t,e,n,i){var r;try{t&&_(r=t.promise)?r.call(t).done(e).fail(n):t&&_(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):E.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},h={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){E.each(n,(function(n,i){_(i)?t.unique&&h.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&e(i)}))}(arguments),n&&!e&&u()),this},remove:function(){return E.each(arguments,(function(t,e){for(var n;(n=E.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?E.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return E.Deferred((function(n){E.each(e,(function(e,i){var r=_(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&_(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,u=arguments,h=function(){var n,h;if(!(t<o)){if((n=i.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");h=n&&("object"==typeof n||"function"==typeof n)&&n.then,_(h)?r?h.call(n,s(o,e,z,r),s(o,e,B,r)):(o++,h.call(n,s(o,e,z,r),s(o,e,B,r),s(o,e,z,e.notifyWith))):(i!==z&&(a=void 0,u=[n]),(r||e.resolveWith)(a,u))}},l=r?h:function(){try{h()}catch(n){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(n,l.stackTrace),t+1>=o&&(i!==B&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?l():(E.Deferred.getStackHook&&(l.stackTrace=E.Deferred.getStackHook()),n.setTimeout(l))}}return E.Deferred((function(n){e[0][3].add(s(0,n,_(r)?r:z,n.notifyWith)),e[1][3].add(s(0,n,_(t)?t:z)),e[2][3].add(s(0,n,_(i)?i:B))})).promise()},promise:function(t){return null!=t?E.extend(t,r):r}},o={};return E.each(e,(function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add((function(){i=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=u.call(arguments),o=E.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(q(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||_(r[n]&&r[n].then)))return o.then();for(;n--;)q(r[n],s(n),o.reject);return o.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&G.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){n.setTimeout((function(){throw t}))};var U=E.Deferred();function H(){s.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),E.ready()}E.fn.ready=function(t){return U.then(t).catch((function(t){E.readyException(t)})),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||U.resolveWith(s,[E]))}}),E.ready.then=U.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(E.ready):(s.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var Y=function(t,e,n,i,r,o,s){var a=0,u=t.length,h=null==n;if("object"===w(n))for(a in r=!0,n)Y(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,_(i)||(s=!0),h&&(s?(e.call(t,i),e=null):(h=e,e=function(t,e,n){return h.call(E(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:h?e.call(t):u?e(t[0],n):o},W=/^-ms-/,X=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function K(t){return t.replace(W,"ms-").replace(X,V)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=E.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[K(e)]=n;else for(i in e)r[K(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||E.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var J=new Z,Q=new Z,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}E.extend({hasData:function(t){return Q.hasData(t)||J.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),E.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=K(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){Q.set(this,t)})):Y(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))||void 0!==(n=nt(o,t))?n:void 0;this.each((function(){Q.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Q.remove(this,t)}))}}),E.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=E.queue(t,e),i=n.length,r=n.shift(),o=E._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){E.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:E.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",n])}))})}}),E.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?E.queue(this[0],t):void 0===e?this:this.each((function(){var n=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&E.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){E.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=E.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=J.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=s.documentElement,at=function(t){return E.contains(t.ownerDocument,t)},ut={composed:!0};st.attachShadow&&(at=function(t){return E.contains(t.ownerDocument,t)||t.getRootNode(ut)===t.ownerDocument});var ht=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===E.css(t,"display")},lt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ct(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return E.css(t,e,"")},u=a(),h=n&&n[3]||(E.cssNumber[e]?"":"px"),l=t.nodeType&&(E.cssNumber[e]||"px"!==h&&+u)&&rt.exec(E.css(t,e));if(l&&l[3]!==h){for(u/=2,h=h||l[3],l=+u||1;s--;)E.style(t,e,l+h),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;l*=2,E.style(t,e,l+h),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=h,i.start=l,i.end=r)),r}var ft={};function pt(t){var e,n=t.ownerDocument,i=t.nodeName,r=ft[i];return r||(e=n.body.appendChild(n.createElement(i)),r=E.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ft[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ht(i)&&(r[o]=pt(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}E.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ht(this)?E(this).show():E(this).hide()}))}});var gt=/^(?:checkbox|radio)$/i,yt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mt=/^$|^module$|\/(?:java|ecma)script/i,_t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&N(t,e)?E.merge([t],n):n}function bt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}_t.optgroup=_t.option,_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td;var xt,wt,Et=/<|&#?\w+;/;function Ct(t,e,n,i,r){for(var o,s,a,u,h,l,c=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===w(o))E.merge(f,o.nodeType?[o]:o);else if(Et.test(o)){for(s=s||c.appendChild(e.createElement("div")),a=(yt.exec(o)||["",""])[1].toLowerCase(),u=_t[a]||_t._default,s.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;E.merge(f,s.childNodes),(s=c.firstChild).textContent=""}else f.push(e.createTextNode(o));for(c.textContent="",p=0;o=f[p++];)if(i&&E.inArray(o,i)>-1)r&&r.push(o);else if(h=at(o),s=vt(c.appendChild(o),"script"),h&&bt(s),n)for(l=0;o=s[l++];)mt.test(o.type||"")&&n.push(o);return c}xt=s.createDocumentFragment().appendChild(s.createElement("div")),(wt=s.createElement("input")).setAttribute("type","radio"),wt.setAttribute("checked","checked"),wt.setAttribute("name","t"),xt.appendChild(wt),m.checkClone=xt.cloneNode(!0).cloneNode(!0).lastChild.checked,xt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!xt.cloneNode(!0).lastChild.defaultValue;var St=/^key/,Mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Ot(){return!1}function Nt(t,e){return t===function(){try{return s.activeElement}catch(t){}}()==("focus"===e)}function Lt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Lt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ot;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return E().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),t.each((function(){E.event.add(this,e,r,i,n)}))}function At(t,e,n){n?(J.set(t,e,!1),E.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=J.get(this,e);if(1&t.isTrigger&&this[e]){if(o)(E.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=u.call(arguments),J.set(this,e,o),i=n(this,e),this[e](),o!==(r=J.get(this,e))||i?J.set(this,e,!1):r=void 0,o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r}else o&&(J.set(this,e,E.event.trigger(E.extend(o.shift(),E.Event.prototype),o,this)),t.stopImmediatePropagation())}})):E.event.add(t,e,Tt)}E.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,h,l,c,f,p,d,g,y=J.get(t);if(y)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&E.find.matchesSelector(st,r),n.guid||(n.guid=E.guid++),(u=y.events)||(u=y.events={}),(s=y.handle)||(s=y.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(F)||[""]).length;h--;)p=g=(a=It.exec(e[h])||[])[1],d=(a[2]||"").split(".").sort(),p&&(c=E.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=E.event.special[p]||{},l=E.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=u[p])||((f=u[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,d,s)||t.addEventListener&&t.addEventListener(p,s)),c.add&&(c.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),E.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,h,l,c,f,p,d,g,y=J.hasData(t)&&J.get(t);if(y&&(u=y.events)){for(h=(e=(e||"").match(F)||[""]).length;h--;)if(p=g=(a=It.exec(e[h])||[])[1],d=(a[2]||"").split(".").sort(),p){for(c=E.event.special[p]||{},f=u[p=(i?c.delegateType:c.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!r&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,c.remove&&c.remove.call(t,l));s&&!f.length&&(c.teardown&&!1!==c.teardown.call(t,d,y.handle)||E.removeEvent(t,p,y.handle),delete u[p])}else for(p in u)E.event.remove(t,p+e[h],n,i,!0);E.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=E.event.fix(t),u=new Array(arguments.length),h=(J.get(this,"events")||{})[a.type]||[],l=E.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=E.event.handlers.call(this,a,h),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((E.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,h=t.target;if(u&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?E(r,this).index(h)>-1:E.find(r,this,null,[h]).length),s[r]&&o.push(i);o.length&&a.push({elem:h,handlers:o})}return h=this,u<e.length&&a.push({elem:h,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:_(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&N(e,"input")&&void 0===J.get(e,"click")&&At(e,"click",Tt),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&N(e,"input")&&void 0===J.get(e,"click")&&At(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&N(e,"input")&&J.get(e,"click")||N(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&St.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Mt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(t,e){E.event.special[t]={setup:function(){return At(this,t,Nt),!1},trigger:function(){return At(this,t),!0},delegateType:e}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||E.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),E.fn.extend({on:function(t,e,n,i){return Lt(this,t,e,n,i)},one:function(t,e,n,i){return Lt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,E(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ot),this.each((function(){E.event.remove(this,t,n,e)}))}});var Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,kt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jt(t,e){return N(t,"table")&&N(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function zt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var n,i,r,o,s,a,u,h;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),s=J.set(e,o),h=o.events))for(r in delete s.handle,s.events={},h)for(n=0,i=h[r].length;n<i;n++)E.event.add(e,r,h[r][n]);Q.hasData(t)&&(a=Q.access(t),u=E.extend({},a),Q.set(e,u))}}function qt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Gt(t,e,n,i){e=h.apply([],e);var r,o,s,a,u,l,c=0,f=t.length,p=f-1,d=e[0],g=_(d);if(g||f>1&&"string"==typeof d&&!m.checkClone&&Pt.test(d))return t.each((function(r){var o=t.eq(r);g&&(e[0]=d.call(this,r,o.html())),Gt(o,e,n,i)}));if(f&&(o=(r=Ct(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=E.map(vt(r,"script"),Ft)).length;c<f;c++)u=r,c!==p&&(u=E.clone(u,!0,!0),a&&E.merge(s,vt(u,"script"))),n.call(t[c],u,c);if(a)for(l=s[s.length-1].ownerDocument,E.map(s,zt),c=0;c<a;c++)u=s[c],mt.test(u.type||"")&&!J.access(u,"globalEval")&&E.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&!u.noModule&&E._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):x(u.textContent.replace(Dt,""),u,l))}return t}function Ut(t,e,n){for(var i,r=e?E.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||E.cleanData(vt(i)),i.parentNode&&(n&&at(i)&&bt(vt(i,"script")),i.parentNode.removeChild(i));return t}E.extend({htmlPrefilter:function(t){return t.replace(Rt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=at(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(s=vt(a),i=0,r=(o=vt(t)).length;i<r;i++)qt(o[i],s[i]);if(e)if(n)for(o=o||vt(t),s=s||vt(a),i=0,r=o.length;i<r;i++)Bt(o[i],s[i]);else Bt(t,a);return(s=vt(a,"script")).length>0&&bt(s,!u&&vt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=E.event.special,o=0;void 0!==(n=t[o]);o++)if($(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?E.event.remove(n,i):E.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),E.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return Y(this,(function(t){return void 0===t?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Gt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)}))},prepend:function(){return Gt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Gt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Gt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return E.clone(this,t,e)}))},html:function(t){return Y(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!kt.test(t)&&!_t[(yt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(E.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Gt(this,arguments,(function(e){var n=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(vt(this)),n&&n.replaceChild(e,this))}),t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){E.fn[t]=function(t){for(var n,i=[],r=E(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),E(r[s])[e](n),l.apply(i,n.get());return this.pushStack(i)}}));var Ht=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Yt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Wt=new RegExp(ot.join("|"),"i");function Xt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Yt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||at(t)||(s=E.style(t,e)),!m.pixelBoxStyles()&&Ht.test(s)&&Wt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(h).appendChild(l);var t=n.getComputedStyle(l);i="1%"!==t.top,u=12===e(t.marginLeft),l.style.right="60%",a=36===e(t.right),r=36===e(t.width),l.style.position="absolute",o=12===e(l.offsetWidth/3),st.removeChild(h),l=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,u,h=s.createElement("div"),l=s.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,E.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Kt=["Webkit","Moz","ms"],$t=s.createElement("div").style,Zt={};function Jt(t){var e=E.cssProps[t]||Zt[t];return e||(t in $t?t:Zt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Kt.length;n--;)if((t=Kt[n]+e)in $t)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,te=/^--/,ee={position:"absolute",visibility:"hidden",display:"block"},ne={letterSpacing:"0",fontWeight:"400"};function ie(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function re(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=E.css(t,n+ot[s],!0,r)),i?("content"===n&&(u-=E.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(u-=E.css(t,"border"+ot[s]+"Width",!0,r))):(u+=E.css(t,"padding"+ot[s],!0,r),"padding"!==n?u+=E.css(t,"border"+ot[s]+"Width",!0,r):a+=E.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function oe(t,e,n){var i=Yt(t),r=(!m.boxSizingReliable()||n)&&"border-box"===E.css(t,"boxSizing",!1,i),o=r,s=Xt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===E.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===E.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+re(t,e,n||(r?"border":"content"),o,i,s)+"px"}function se(t,e,n,i,r){return new se.prototype.init(t,e,n,i,r)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Xt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=K(e),u=te.test(e),h=t.style;if(u||(e=Jt(a)),s=E.cssHooks[e]||E.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:h[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ct(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=r&&r[3]||(E.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(h[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?h.setProperty(e,n):h[e]=n))}},css:function(t,e,n,i){var r,o,s,a=K(e);return te.test(e)||(e=Jt(a)),(s=E.cssHooks[e]||E.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Xt(t,e,i)),"normal"===r&&e in ne&&(r=ne[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),E.each(["height","width"],(function(t,e){E.cssHooks[e]={get:function(t,n,i){if(n)return!Qt.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?oe(t,e,i):lt(t,ee,(function(){return oe(t,e,i)}))},set:function(t,n,i){var r,o=Yt(t),s=!m.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===E.css(t,"boxSizing",!1,o),u=i?re(t,e,i,a,o):0;return a&&s&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-re(t,e,"border",!1,o)-.5)),u&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=E.css(t,e)),ie(0,n,u)}}})),E.cssHooks.marginLeft=Vt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Xt(t,"marginLeft"))||t.getBoundingClientRect().left-lt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(t,e){E.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(E.cssHooks[t+e].set=ie)})),E.fn.extend({css:function(t,e){return Y(this,(function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Yt(t),r=e.length;s<r;s++)o[e[s]]=E.css(t,e[s],!1,i);return o}return void 0!==n?E.style(t,e,n):E.css(t,e)}),t,e,arguments.length>1)}}),E.Tween=se,se.prototype={constructor:se,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return t&&t.get?t.get(this):se.propHooks._default.get(this)},run:function(t){var e,n=se.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):se.propHooks._default.set(this),this}},se.prototype.init.prototype=se.prototype,se.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||!E.cssHooks[t.prop]&&null==t.elem.style[Jt(t.prop)]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},se.propHooks.scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=se.prototype.init,E.fx.step={};var ae,ue,he=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function ce(){ue&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ce):n.setTimeout(ce,E.fx.interval),E.fx.tick())}function fe(){return n.setTimeout((function(){ae=void 0})),ae=Date.now()}function pe(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function de(t,e,n){for(var i,r=(ge.tweeners[e]||[]).concat(ge.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ge(t,e,n){var i,r,o=0,s=ge.prefilters.length,a=E.Deferred().always((function(){delete u.elem})),u=function(){if(r)return!1;for(var e=ae||fe(),n=Math.max(0,h.startTime+h.duration-e),i=1-(n/h.duration||0),o=0,s=h.tweens.length;o<s;o++)h.tweens[o].run(i);return a.notifyWith(t,[h,i,n]),i<1&&s?n:(s||a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:e,originalOptions:n,startTime:ae||fe(),duration:n.duration,tweens:[],createTween:function(e,n){var i=E.Tween(t,h.opts,e,n,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(i),i},stop:function(e){var n=0,i=e?h.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)h.tweens[n].run(1);return e?(a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h,e])):a.rejectWith(t,[h,e]),this}}),l=h.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=K(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=E.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(l,h.opts.specialEasing);o<s;o++)if(i=ge.prefilters[o].call(h,t,l,h.opts))return _(i.stop)&&(E._queueHooks(h.elem,h.opts.queue).stop=i.stop.bind(i)),i;return E.map(l,de,h),_(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),E.fx.timer(E.extend(u,{elem:t,anim:h,queue:h.opts.queue})),h}E.Animation=E.extend(ge,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){_(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ge.tweeners[n]=ge.tweeners[n]||[],ge.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,u,h,l,c="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&ht(t),y=J.get(t,"fxshow");for(i in n.queue||(null==(s=E._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,E.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[i],he.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!y||void 0===y[i])continue;g=!0}p[i]=y&&y[i]||E.style(t,i)}if((u=!E.isEmptyObject(e))||!E.isEmptyObject(p))for(i in c&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(h=y&&y.display)&&(h=J.get(t,"display")),"none"===(l=E.css(t,"display"))&&(h?l=h:(dt([t],!0),h=t.style.display||h,l=E.css(t,"display"),dt([t]))),("inline"===l||"inline-block"===l&&null!=h)&&"none"===E.css(t,"float")&&(u||(f.done((function(){d.display=h})),null==h&&(l=d.display,h="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),u=!1,p)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(t,"fxshow",{display:h}),o&&(y.hidden=!g),g&&dt([t],!0),f.done((function(){for(i in g||dt([t]),J.remove(t,"fxshow"),p)E.style(t,i,p[i])}))),u=de(g?y[i]:0,i,f),i in y||(y[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ge.prefilters.unshift(t):ge.prefilters.push(t)}}),E.speed=function(t,e,n){var i=t&&"object"==typeof t?E.extend({},t):{complete:n||!n&&e||_(t)&&t,duration:t,easing:n&&e||e&&!_(e)&&e};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){_(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ht).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=E.isEmptyObject(t),o=E.speed(e,n,i),s=function(){var e=ge(this,E.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=E.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&le.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||E.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=E.timers,s=i?i.length:0;for(n.finish=!0,E.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(t,e){var n=E.fn[e];E.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(pe(e,!0),t,i,r)}})),E.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){E.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),E.timers=[],E.fx.tick=function(){var t,e=0,n=E.timers;for(ae=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||E.fx.stop(),ae=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ue||(ue=!0,ce())},E.fx.stop=function(){ue=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var ye,me=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return Y(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){E.removeAttr(this,t)}))}}),E.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?E.prop(t,e,n):(1===o&&E.isXMLDoc(t)||(r=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?ye:void 0)),void 0!==n?null===n?void E.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=E.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&N(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ye={set:function(t,e,n){return!1===e?E.removeAttr(t,n):t.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=me[e]||E.find.attr;me[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=me[s],me[s]=r,r=null!=n(t,e,i)?s:null,me[s]=o),r}}));var _e=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function be(t){return(t.match(F)||[]).join(" ")}function xe(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}E.fn.extend({prop:function(t,e){return Y(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[E.propFix[t]||t]}))}}),E.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,r=E.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(_(t))return this.each((function(e){E(this).addClass(t.call(this,e,xe(this)))}));if((e=we(t)).length)for(;n=this[u++];)if(r=xe(n),i=1===n.nodeType&&" "+be(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=be(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(_(t))return this.each((function(e){E(this).removeClass(t.call(this,e,xe(this)))}));if(!arguments.length)return this.attr("class","");if((e=we(t)).length)for(;n=this[u++];)if(r=xe(n),i=1===n.nodeType&&" "+be(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=be(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):_(t)?this.each((function(n){E(this).toggleClass(t.call(this,n,xe(this),e),e)})):this.each((function(){var e,r,o,s;if(i)for(r=0,o=E(this),s=we(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=xe(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+be(xe(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g;E.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=_(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,E(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=E.map(r,(function(t){return null==t?"":t+""}))),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=E.valHooks[r.type]||E.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Ee,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:be(E.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(e=E(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=E.makeArray(e),s=r.length;s--;)((i=r[s]).selected=E.inArray(E.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},m.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in n;var Ce=/^(?:focusinfocus|focusoutblur)$/,Se=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,i,r){var o,a,u,h,l,c,f,p,g=[i||s],y=d.call(t,"type")?t.type:t,m=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=u=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!Ce.test(y+E.event.triggered)&&(y.indexOf(".")>-1&&(m=y.split("."),y=m.shift(),m.sort()),l=y.indexOf(":")<0&&"on"+y,(t=t[E.expando]?t:new E.Event(y,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:E.makeArray(e,[t]),f=E.event.special[y]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!v(i)){for(h=f.delegateType||y,Ce.test(h+y)||(a=a.parentNode);a;a=a.parentNode)g.push(a),u=a;u===(i.ownerDocument||s)&&g.push(u.defaultView||u.parentWindow||n)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?h:f.bindType||y,(c=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&c.apply(a,e),(c=l&&a[l])&&c.apply&&$(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=y,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!$(i)||l&&_(i[y])&&!v(i)&&((u=i[l])&&(i[l]=null),E.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,Se),i[y](),t.isPropagationStopped()&&p.removeEventListener(y,Se),E.event.triggered=void 0,u&&(i[l]=u)),t.result}},simulate:function(t,e,n){var i=E.extend(new E.Event,n,{type:t,isSimulated:!0});E.event.trigger(i,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each((function(){E.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return E.event.trigger(t,e,n,!0)}}),m.focusin||E.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}}));var Me=n.location,Ie=Date.now(),Te=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Oe=/\[\]$/,Ne=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function Re(t,e,n,i){var r;if(Array.isArray(e))E.each(e,(function(e,r){n||Oe.test(t)?i(t,r):Re(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==w(e))i(t,e);else for(r in e)Re(t+"["+r+"]",e[r],n,i)}E.param=function(t,e){var n,i=[],r=function(t,e){var n=_(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,(function(){r(this.name,this.value)}));else for(n in t)Re(n,t[n],e,r);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&Ae.test(this.nodeName)&&!Le.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(t){return{name:e.name,value:t.replace(Ne,"\r\n")}})):{name:e.name,value:n.replace(Ne,"\r\n")}})).get()}});var ke=/%20/g,Pe=/#.*$/,De=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:GET|HEAD)$/,ze=/^\/\//,Be={},qe={},Ge="*/".concat("*"),Ue=s.createElement("a");function He(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(F)||[];if(_(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ye(t,e,n,i){var r={},o=t===qe;function s(a){var u;return r[a]=!0,E.each(t[a]||[],(function(t,a){var h=a(e,n,i);return"string"!=typeof h||o||r[h]?o?!(u=h):void 0:(e.dataTypes.unshift(h),s(h),!1)})),u}return s(e.dataTypes[0])||!r["*"]&&s("*")}function We(t,e){var n,i,r=E.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&E.extend(!0,t,i),t}Ue.href=Me.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?We(We(t,E.ajaxSettings),e):We(E.ajaxSettings,t)},ajaxPrefilter:He(Be),ajaxTransport:He(qe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,u,h,l,c,f,p,d=E.ajaxSetup({},e),g=d.context||d,y=d.context&&(g.nodeType||g.jquery)?E(g):E.event,m=E.Deferred(),_=E.Callbacks("once memory"),v=d.statusCode||{},b={},x={},w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=je.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)C.always(t[C.status]);else for(e in t)v[e]=[v[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),S(0,e),this}};if(m.promise(C),d.url=((t||d.url||Me.href)+"").replace(ze,Me.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(F)||[""],null==d.crossDomain){h=s.createElement("a");try{h.href=d.url,h.href=h.href,d.crossDomain=Ue.protocol+"//"+Ue.host!=h.protocol+"//"+h.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),Ye(Be,d,e,C),l)return C;for(f in(c=E.event&&d.global)&&0==E.active++&&E.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Fe.test(d.type),r=d.url.replace(Pe,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(ke,"+")):(p=d.url.slice(r.length),d.data&&(d.processData||"string"==typeof d.data)&&(r+=(Te.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(r=r.replace(De,"$1"),p=(Te.test(r)?"&":"?")+"_="+Ie+++p),d.url=r+p),d.ifModified&&(E.lastModified[r]&&C.setRequestHeader("If-Modified-Since",E.lastModified[r]),E.etag[r]&&C.setRequestHeader("If-None-Match",E.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ge+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(g,C,d)||l))return C.abort();if(w="abort",_.add(d.complete),C.done(d.success),C.fail(d.error),i=Ye(qe,d,e,C)){if(C.readyState=1,c&&y.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(u=n.setTimeout((function(){C.abort("timeout")}),d.timeout));try{l=!1,i.send(b,S)}catch(t){if(l)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,s,a){var h,f,p,b,x,w=e;l||(l=!0,u&&n.clearTimeout(u),i=void 0,o=a||"",C.readyState=t>0?4:0,h=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,C,s)),b=function(t,e,n,i){var r,o,s,a,u,h={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)h[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=h[u+" "+o]||h["* "+o]))for(r in h)if((a=r.split(" "))[1]===o&&(s=h[u+" "+a[0]]||h["* "+a[0]])){!0===s?s=h[r]:!0!==h[r]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(d,b,C,h),h?(d.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(E.lastModified[r]=x),(x=C.getResponseHeader("etag"))&&(E.etag[r]=x)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,h=!(p=b.error))):(p=w,!t&&w||(w="error",t<0&&(t=0))),C.status=t,C.statusText=(e||w)+"",h?m.resolveWith(g,[f,w,C]):m.rejectWith(g,[C,w,p]),C.statusCode(v),v=void 0,c&&y.trigger(h?"ajaxSuccess":"ajaxError",[C,d,h?f:p]),_.fireWith(g,[C,w]),c&&(y.trigger("ajaxComplete",[C,d]),--E.active||E.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return E.get(t,e,n,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],(function(t,e){E[e]=function(t,n,i,r){return _(n)&&(r=r||i,i=n,n=void 0),E.ajax(E.extend({url:t,type:e,dataType:r,data:n,success:i},E.isPlainObject(t)&&t))}})),E._evalUrl=function(t,e){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){E.globalEval(t,e)}})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(_(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return _(t)?this.each((function(e){E(this).wrapInner(t.call(this,e))})):this.each((function(){var e=E(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=_(t);return this.each((function(n){E(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Xe={0:200,1223:204},Ve=E.ajaxSettings.xhr();m.cors=!!Ve&&"withCredentials"in Ve,m.ajax=Ve=!!Ve,E.ajaxTransport((function(t){var e,i;if(m.cors||Ve&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Xe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),E.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),E.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=E("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ke,$e=[],Ze=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||E.expando+"_"+Ie++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",(function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=_(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ze,"$1"+r):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||E.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===o?E(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,$e.push(r)),s&&_(o)&&o(s[0]),s=o=void 0})),"script"})),m.createHTMLDocument=((Ke=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ke.childNodes.length),E.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),o=!n&&[],(r=L.exec(t))?[e.createElement(r[1])]:(r=Ct([t],e,o),o&&o.length&&E(o).remove(),E.merge([],r.childNodes)));var i,r,o},E.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=be(t.slice(a)),t=t.slice(0,a)),_(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&E.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?E("<div>").append(E.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){E.fn[e]=function(t){return this.on(e,t)}})),E.expr.pseudos.animated=function(t){return E.grep(E.timers,(function(e){return t===e.elem})).length},E.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,h=E.css(t,"position"),l=E(t),c={};"static"===h&&(t.style.position="relative"),a=l.offset(),o=E.css(t,"top"),u=E.css(t,"left"),("absolute"===h||"fixed"===h)&&(o+u).indexOf("auto")>-1?(s=(i=l.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),_(e)&&(e=e.call(t,n,E.extend({},a))),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+r),"using"in e?e.using.call(t,c):l.css(c)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){E.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===E.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),r.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-E.css(i,"marginTop",!0),left:e.left-r.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||st}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;E.fn[t]=function(i){return Y(this,(function(t,i,r){var o;if(v(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),E.each(["top","left"],(function(t,e){E.cssHooks[e]=Vt(m.pixelPosition,(function(t,n){if(n)return n=Xt(t,e),Ht.test(n)?E(t).position()[e]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){E.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return Y(this,(function(e,n,r){var o;return v(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?E.css(e,n,a):E.style(e,n,r,a)}),e,s?r:void 0,s)}}))})),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){E.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),E.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),_(t))return i=u.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(u.call(arguments)))}).guid=t.guid=t.guid||E.guid++,r},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=N,E.isFunction=_,E.isWindow=v,E.camelCase=K,E.type=w,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return E}.apply(e,[]))||(t.exports=i);var Je=n.jQuery,Qe=n.$;return E.noConflict=function(t){return n.$===E&&(n.$=Qe),t&&n.jQuery===E&&(n.jQuery=Je),E},r||(n.jQuery=n.$=E),E}))},function(t,e,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function h(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function c(t,e,n,i){var r,o,s,a;if(h(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=l(t))>0&&s.length>r&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function d(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):y(r,r.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=r[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var h=u.length,l=y(u,h);for(n=0;n<h;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return c(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return c(this,t,e,!0)},a.prototype.once=function(t,e){return h(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,p(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,i,r,o,s;if(h(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,n){(e=t.exports=n(103)).Stream=e,e.Readable=e,e.Writable=n(92),e.Duplex=n(54),e.Transform=n(108),e.PassThrough=n(164)},function(t,e,n){"use strict";(function(e,i,r){var o=n(74);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;t.entry=null;for(;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=_;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:o.nextTick;_.WritableState=m;var h=n(69);h.inherits=n(61);var l={deprecate:n(163)},c=n(104),f=n(75).Buffer,p=r.Uint8Array||function(){};var d,g=n(105);function y(){}function m(t,e){a=a||n(54),t=t||{};var i=e instanceof a;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,h=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(h||0===h)?h:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?(o.nextTick(r,i),o.nextTick(C,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(r(i),t._writableState.errorEmitted=!0,t.emit("error",i),C(t,e))}(t,n,i,e,r);else{var s=w(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||x(t,n),i?u(b,t,n,s,r):b(t,n,s,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function _(t){if(a=a||n(54),!(d.call(_,this)||this instanceof a))return new _(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),c.call(this)}function v(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function b(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),C(t,e)}function x(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)r[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;r.allBuffers=u,v(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var h=n.chunk,l=n.encoding,c=n.callback;if(v(t,e,!1,e.objectMode?1:h.length,h,l,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),C(t,e)}))}function C(t,e){var n=w(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}h.inherits(_,c),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===_&&(t&&t._writableState instanceof m)}})):d=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,n){var i,r=this._writableState,s=!1,a=!r.objectMode&&(i=t,f.isBuffer(i)||i instanceof p);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=y),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var r=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(i,s),r=!1),r}(this,r,t,n))&&(r.pendingcb++,s=function(t,e,n,i,r,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n));return e}(e,i,r);i!==s&&(n=!0,r="buffer",i=s)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,i,r,o);return u}(this,r,a,t,e,n)),s},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||x(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,C(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(73),n(106).setImmediate,n(30))},function(t,e,n){"use strict";var i=n(70),r=n(112),o=n(113),s=n(114);o=n(113);function a(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}a.prototype={getContentWorker:function(){var t=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new o("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},t.exports=a},function(t,e,n){"use strict";var i=n(18);var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(22);class r{constructor(t,e,n,r){this.id=t,this.margin={top:10,right:13,bottom:20,left:10};let o=n.all();this.x=i.g().range([0,200]).domain([+o[0].key,+o[o.length-1].key]),this.y=i.g().range([100,0]),this.axis=i.a().ticks(5),this.brush=i.c(),this.brushDirty=!1,this.dimension=e,this.group=n,this.render_all=r,this.brush.on("brush.chart",this.brush_listener(this))}brush_listener(t){return function(){const e=i.i(this.parentNode);let n=i.d.selection||i.b(this);if(!(n&&2===n.length&&!isNaN(n[0])&&!isNaN(n[1])))return;let r=n.map(t.x.invert);console.log(r),e.selectAll(".brush-handle").style("display",null).attr("transform",(t,e)=>`translate(${n[e]}, 0)`),e.select(`#clip-${t.id} rect`).attr("x",n[0]).attr("width",n[1]-n[0]),t.dimension.filterRange(r),t.render_all()}}chart(t){const e=this.x.range()[1],n=this.y.range()[0];this.brush.extent([[0,0],[e,n]]),this.y.domain([0,this.group.top(1)[0].value]);let r=i.i(t).select("g");if(r.empty()){let o=e+this.margin.left+this.margin.right,s=n+this.margin.top+this.margin.bottom;r=i.i(t).append("svg").attr("viewBox",`0 0 ${o} ${s}`).attr("width","100%").attr("height","250px").append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),r.append("clipPath").attr("id","clip-"+this.id).append("rect").attr("width",e).attr("height",n),r.selectAll(".bar").data(["background","foreground"]).enter().append("path").attr("class",t=>t+" bar").datum(this.group.all()),r.selectAll(".foreground.bar").attr("clip-path",`url(#clip-${this.id})`),r.append("g").attr("class","axis").attr("transform",`translate(0,${n})`).call(i.a(this.x).ticks(5))}var o,s=r.append("g").attr("class","brush").call(this.brush);if(s.selectAll(".handle--custom").data([{type:"w"},{type:"e"}]).enter().append("path").attr("class","brush-handle").attr("cursor","ew-resize").attr("d",this.resizePath).style("display","none"),!1!==this.brushDirty){const n=brushDirty;if(this.brushDirty=!1,t.select(".title a").style("display",i.b(t)?null:"none"),n){const t=n.map(x);this.brush.move(s,t)}else r.call(this.brush),r.selectAll(`#clip-${this.id} rect`).attr("x",0).attr("width",e),r.selectAll(".brush-handle").style("display","none"),renderAll()}r.selectAll(".bar").attr("d",(o=this,function(t){const e=[];let i=-1;const r=t.length;let s;for(;++i<r;)s=t[i],e.push("M",o.x(+s.key),",",n,"V",o.y(s.value),"h9V",n);return e.join("")}))}}},function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=n(155),i.prototype.loadAsync=n(188),i.support=n(49),i.defaults=n(111),i.version="3.2.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=n(70),t.exports=i},function(t,e,n){var i,r,o;
/* @license
Papa Parse
v4.6.3
https://github.com/mholt/PapaParse
License: MIT
*/Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),r=[],void 0===(o="function"==typeof(i=function(){"use strict";var t,e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},i=!n.document&&!!n.postMessage,r=i&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),o=!1,s={},a=0,u={parse:function(e,i){var r=(i=i||{}).dynamicTyping||!1;if(E(r)&&(i.dynamicTypingFunction=r,r={}),i.dynamicTyping=r,i.transform=!!E(i.transform)&&i.transform,i.worker&&u.WORKERS_SUPPORTED){var h=function(){if(!u.WORKERS_SUPPORTED)return!1;if(!o&&null===u.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=u.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var i=new n.Worker(e);return i.onmessage=_,i.id=a++,s[i.id]=i}();return h.userStep=i.step,h.userChunk=i.chunk,h.userComplete=i.complete,h.userError=i.error,i.step=E(i.step),i.chunk=E(i.chunk),i.complete=E(i.complete),i.error=E(i.error),delete i.worker,void h.postMessage({input:e,config:i,workerId:h.id})}var l=null;return u.NODE_STREAM_INPUT,"string"==typeof e?l=i.download?new c(i):new p(i):!0===e.readable&&E(e.read)&&E(e.on)?l=new d(i):(n.File&&e instanceof File||e instanceof Object)&&(l=new f(i)),l.stream(e)},unparse:function(t,e){var n=!1,i=!0,r=",",o="\r\n",s='"',a=!1;"object"==typeof e&&("string"!=typeof e.delimiter||u.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(r=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(a=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(i=e.header));var h=new RegExp(y(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return c(null,t,a);if("object"==typeof t[0])return c(l(t[0]),t,a)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:l(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),c(t.fields||[],t.data||[],a);throw"exception: Unable to serialize unrecognized input";function l(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function c(t,e,n){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(a&&i){for(var h=0;h<t.length;h++)0<h&&(s+=r),s+=f(t[h],h);0<e.length&&(s+=o)}for(var l=0;l<e.length;l++){var c=a?t.length:e[l].length,p=!1,d=a?0===Object.keys(e[l]).length:0===e[l].length;if(n&&!a&&(p="greedy"===n?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===n&&a){for(var g=[],y=0;y<c;y++){var m=u?t[y]:y;g.push(e[l][m])}p=""===g.join("").trim()}if(!p){for(var _=0;_<c;_++){0<_&&!d&&(s+=r);var v=a&&u?t[_]:_;s+=f(e[l][v],_)}l<e.length-1&&(!n||0<c&&!d)&&(s+=o)}}return s}function f(t,e){return null==t?"":t.constructor===Date?JSON.stringify(t).slice(1,25):(t=t.toString().replace(h,s+s),"boolean"==typeof n&&n||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(t,u.BAD_DELIMITERS)||-1<t.indexOf(r)||" "===t.charAt(0)||" "===t.charAt(t.length-1)?s+t+s:t)}}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\ufeff",u.BAD_DELIMITERS=["\r","\n",'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!n.Worker,u.SCRIPT_PATH=null,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=m,u.ParserHandle=g,u.NetworkStreamer=c,u.FileStreamer=f,u.StringStreamer=p,u.ReadableStreamStreamer=d,n.jQuery){var h=n.jQuery;h.fn.parse=function(t){var e=t.config||{},i=[];return this.each((function(t){if("INPUT"!==h(this).prop("tagName").toUpperCase()||"file"!==h(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:h.extend({},e)})})),r(),this;function r(){if(0!==i.length){var e,n,r,s=i[0];if(E(t.before)){var a=t.before(s.file,s.inputElem);if("object"==typeof a){if("abort"===a.action)return e=s.file,n=s.inputElem,r=a.reason,void(E(t.error)&&t.error({name:"AbortError"},e,n,r));if("skip"===a.action)return void o();"object"==typeof a.config&&(s.instanceConfig=h.extend(s.instanceConfig,a.config))}else if("skip"===a)return void o()}var l=s.instanceConfig.complete;s.instanceConfig.complete=function(t){E(l)&&l(t,s.file,s.inputElem),o()},u.parse(s.file,s.instanceConfig)}else E(t.complete)&&t.complete()}function o(){i.splice(0,1),r()}}}function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=x(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new g(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var h=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)n.postMessage({results:s,workerId:u.WORKER_ID,finished:h});else if(E(this._config.chunk)&&!e){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!h||!E(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),h||s&&s.meta.paused||this._nextChunk(),s}},this._sendError=function(t){E(this._config.error)?this._config.error(t):r&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=u.RemoteChunkSize),l.call(this,t),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),i||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open("GET",this._input,!i),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+r),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}i&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function f(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=u.LocalChunkSize),l.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function p(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function d(t){l.call(this,t=t||{});var e=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=w((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=w((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function g(t){var e,n,i,r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,a=0,h=0,l=!1,c=!1,f=[],p={data:[],errors:[],meta:{}};if(E(t.step)){var d=t.step;t.step=function(e){if(p=e,v())_();else{if(_(),0===p.data.length)return;a+=e.data.length,t.preview&&a>t.preview?n.abort():d(p,s)}}}function g(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function _(){if(p&&i&&(w("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines)for(var e=0;e<p.data.length;e++)g(p.data[e])&&p.data.splice(e--,1);return v()&&function(){if(p){for(var e=0;v()&&e<p.data.length;e++)for(var n=0;n<p.data[e].length;n++){var i=p.data[e][n];t.trimHeaders&&(i=i.trim()),f.push(i)}p.data.splice(0,1)}}(),function(){if(!p||!t.header&&!t.dynamicTyping&&!t.transform)return p;for(var e=0;e<p.data.length;e++){var n,i=t.header?{}:[];for(n=0;n<p.data[e].length;n++){var r=n,o=p.data[e][n];t.header&&(r=n>=f.length?"__parsed_extra":f[n]),t.transform&&(o=t.transform(o,r)),o=b(r,o),"__parsed_extra"===r?(i[r]=i[r]||[],i[r].push(o)):i[r]=o}p.data[e]=i,t.header&&(n>f.length?w("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+n,h+e):n<f.length&&w("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+n,h+e))}return t.header&&p.meta&&(p.meta.fields=f),h+=p.data.length,p}()}function v(){return t.header&&0===f.length}function b(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(r.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var i}function w(t,e,n,i){p.errors.push({type:t,code:e,message:n,row:i})}this.parse=function(r,o,s){var a=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var n=new RegExp(y(e)+"([^]*?)"+y(e),"gm"),i=(t=t.replace(n,"")).split("\r"),r=t.split("\n"),o=1<r.length&&r[0].length<i[0].length;if(1===i.length||o)return"\n";for(var s=0,a=0;a<i.length;a++)"\n"===i[a][0]&&s++;return s>=i.length/2?"\r\n":"\r"}(r,a)),i=!1,t.delimiter)E(t.delimiter)&&(t.delimiter=t.delimiter(r),p.meta.delimiter=t.delimiter);else{var h=function(e,n,i,r){for(var o,s,a,h=[",","\t","|",";",u.RECORD_SEP,u.UNIT_SEP],l=0;l<h.length;l++){var c=h[l],f=0,p=0,d=0;a=void 0;for(var y=new m({comments:r,delimiter:c,newline:n,preview:10}).parse(e),_=0;_<y.data.length;_++)if(i&&g(y.data[_]))d++;else{var v=y.data[_].length;p+=v,void 0!==a?1<v&&(f+=Math.abs(v-a),a=v):a=0}0<y.data.length&&(p/=y.data.length-d),(void 0===s||s<f)&&1.99<p&&(s=f,o=c)}return{successful:!!(t.delimiter=o),bestDelimiter:o}}(r,t.newline,t.skipEmptyLines,t.comments);h.successful?t.delimiter=h.bestDelimiter:(i=!0,t.delimiter=u.DefaultDelimiter),p.meta.delimiter=t.delimiter}var c=x(t);return t.preview&&t.header&&c.preview++,e=r,n=new m(c),p=n.parse(e,o,s),_(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){l=!1,s.streamer.parseChunk(e,!0)},this.aborted=function(){return c},this.abort=function(){c=!0,n.abort(),p.meta.aborted=!0,E(t.complete)&&t.complete(p),e=""}}function y(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(t){var e,n=(t=t||{}).delimiter,i=t.newline,r=t.comments,o=t.step,s=t.preview,a=t.fastMode,h=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(h=t.escapeChar),("string"!=typeof n||-1<u.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||-1<u.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var l=0,c=!1;this.parse=function(t,u,f){if("string"!=typeof t)throw"Input must be a string";var p=t.length,d=n.length,g=i.length,m=r.length,_=E(o),v=[],b=[],x=[],w=l=0;if(!t)return D();if(a||!1!==a&&-1===t.indexOf(e)){for(var C=t.split(i),S=0;S<C.length;S++){if(x=C[S],l+=x.length,S!==C.length-1)l+=i.length;else if(f)return D();if(!r||x.substr(0,m)!==r){if(_){if(v=[],A(x.split(n)),j(),c)return D()}else A(x.split(n));if(s&&s<=S)return v=v.slice(0,s),D(!0)}}return D()}for(var M,I=t.indexOf(n,l),T=t.indexOf(i,l),O=new RegExp(y(h)+y(e),"g");;)if(t[l]!==e)if(r&&0===x.length&&t.substr(l,m)===r){if(-1===T)return D();l=T+g,T=t.indexOf(i,l),I=t.indexOf(n,l)}else if(-1!==I&&(I<T||-1===T))x.push(t.substring(l,I)),l=I+d,I=t.indexOf(n,l);else{if(-1===T)break;if(x.push(t.substring(l,T)),P(T+g),_&&(j(),c))return D();if(s&&v.length>=s)return D(!0)}else for(M=l,l++;;){if(-1===(M=t.indexOf(e,M+1)))return f||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:l}),k();if(M===p-1)return k(t.substring(l,M).replace(O,e));if(e!==h||t[M+1]!==h){if(e===h||0===M||t[M-1]!==h){var N=R(-1===T?I:Math.min(I,T));if(t[M+1+N]===n){x.push(t.substring(l,M).replace(O,e)),l=M+1+N+d,I=t.indexOf(n,l),T=t.indexOf(i,l);break}var L=R(T);if(t.substr(M+1+L,g)===i){if(x.push(t.substring(l,M).replace(O,e)),P(M+1+L+g),I=t.indexOf(n,l),_&&(j(),c))return D();if(s&&v.length>=s)return D(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:l}),M++}}else M++}return k();function A(t){v.push(t),w=l}function R(e){var n=0;if(-1!==e){var i=t.substring(M+1,e);i&&""===i.trim()&&(n=i.length)}return n}function k(e){return f||(void 0===e&&(e=t.substr(l)),x.push(e),l=p,A(x),_&&j()),D()}function P(e){l=e,A(x),x=[],T=t.indexOf(i,l)}function D(t){return{data:v,errors:b,meta:{delimiter:n,linebreak:i,aborted:c,truncated:!!t,cursor:w+(u||0)}}}function j(){o(D()),v=[],b=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return l}}function _(t){var e=t.data,n=s[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){i=!0,v(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(E(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},r),!i);o++);delete e.results}else E(n.userChunk)&&(n.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!i&&v(e.workerId,e.results)}function v(t,e){var n=s[t];E(n.userComplete)&&n.userComplete(e),n.terminate(),delete s[t]}function b(){throw"Not implemented."}function x(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=x(t[n]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function E(t){return"function"==typeof t}return r?n.onmessage=function(t){var e=t.data;if(void 0===u.WORKER_ID&&e&&(u.WORKER_ID=e.workerId),"string"==typeof e.input)n.postMessage({workerId:u.WORKER_ID,results:u.parse(e.input,e.config),finished:!0});else if(n.File&&e.input instanceof File||e.input instanceof Object){var i=u.parse(e.input,e.config);i&&n.postMessage({workerId:u.WORKER_ID,results:i,finished:!0})}}:u.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",(function(){o=!0}),!0):o=!0),(c.prototype=Object.create(l.prototype)).constructor=c,(f.prototype=Object.create(l.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(d.prototype=Object.create(l.prototype)).constructor=d,u})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";var i=484813681109536e-20,r=Math.PI/2,o=.017453292519943295,s=57.29577951308232,a=Math.PI/4,u=2*Math.PI,h=3.14159265359,l={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},c={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},f=/[\s_\-\/\(\)]/g;function p(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(f,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(f,"")===r)return t[n]}var d=function(t){var e,n,i,r={},s=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),a={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*o},lat_1:function(t){r.lat1=t*o},lat_2:function(t){r.lat2=t*o},lat_ts:function(t){r.lat_ts=t*o},lon_0:function(t){r.long0=t*o},lon_1:function(t){r.long1=t*o},lon_2:function(t){r.long2=t*o},alpha:function(t){r.alpha=parseFloat(t)*o},lonc:function(t){r.longc=t*o},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=p(c,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*o},pm:function(t){var e=p(l,t);r.from_greenwich=(e||parseFloat(t))*o},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)}};for(e in s)n=s[e],e in a?"function"==typeof(i=a[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},g=function(t){return new x(t).output()},y=/\s/,m=/[A-Za-z]/,_=/[A-Za-z84]/,v=/[,\]]/,b=/[\d\.E\-\+]/;function x(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function w(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce((function(t,e){return E(e,t),t}),i);e&&(t[e]=r)}function E(t,e){if(Array.isArray(t)){var n,i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void E(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i)switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&E(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&E(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void w(e,i,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return E(t,e[i]);return w(e,i,t)}else e[i]=t;else e[i]=!0}else e[t]=!0}x.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;y.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},x.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(v.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},x.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},x.prototype.number=function(t){if(!b.test(t)){if(v.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},x.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},x.prototype.keyword=function(t){if(_.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!v.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},x.prototype.neutral=function(t){if(m.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(b.test(t))return this.word=t,void(this.state=3);if(!v.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},x.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function C(t){return.017453292519943295*t}var S=function(t){var e=g(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return E(e,r),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",C],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",C],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",C],["lat0","latitude_of_origin",C],["lat0","standard_parallel_1",C],["lat1","standard_parallel_1",C],["lat2","standard_parallel_2",C],["azimuth","Azimuth"],["alpha","azimuth",C],["srsCode","name"]].forEach((function(e){return n=t,r=(i=e)[0],o=i[1],void(!(r in n)&&o in n&&(n[r]=n[o],3===i.length&&(n[r]=i[2](n[r]))));var n,i,r,o})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=C(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function M(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?M[t]=d(arguments[1]):M[t]=S(arguments[1]):M[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?M.apply(e,t):M(t)}));if("string"==typeof t){if(t in M)return M[t]}else"EPSG"in t?M["EPSG:"+t.EPSG]=t:"ESRI"in t?M["ESRI:"+t.ESRI]=t:"IAU2000"in t?M["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(M);var I=M;var T=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var O=["3857","900913","3785","102113"];var N=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in I}(t))return I[t];if(function(t){return T.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=S(t);if(function(t){var e=p(t,"authority");if(e){var n=p(e,"epsg");return n&&O.indexOf(n)>-1}}(e))return I["EPSG:3857"];var n=function(t){var e=p(t,"extension");if(e)return p(e,"proj4")}(e);return n?d(n):e}return function(t){return"+"===t[0]}(t)?d(t):void 0},L=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t},A=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)},R=function(t){return t<0?-1:1},k=function(t){return Math.abs(t)<=h?t:t-R(t)*u},P=function(t,e,n){var i=t*n,o=.5*t;return i=Math.pow((1-i)/(1+i),o),Math.tan(.5*(r-e))/i},D=function(t,e){for(var n,i,o=.5*t,s=r-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(s),s+=i=r-2*Math.atan(e*Math.pow((1-n)/(1+n),o))-s,Math.abs(i)<=1e-10)return s;return-9999};function j(t){return t}var F=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=A(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,i=t.x,o=t.y;if(o*s>90&&o*s<-90&&i*s>180&&i*s<-180)return null;if(Math.abs(Math.abs(o)-r)<=1e-10)return null;if(this.sphere)e=this.x0+this.a*this.k0*k(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(a+.5*o));else{var u=Math.sin(o),h=P(this.e,o,u);e=this.x0+this.a*this.k0*k(i-this.long0),n=this.y0-this.a*this.k0*Math.log(h)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,o=t.y-this.y0;if(this.sphere)n=r-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var s=Math.exp(-o/(this.a*this.k0));if(-9999===(n=D(this.e,s)))return null}return e=k(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:j,inverse:j,names:["longlat","identity"]}],z={},B=[];function q(t,e){var n=B.length;return t.names?(B[n]=t,t.names.forEach((function(t){z[t.toLowerCase()]=n})),this):(console.log(e),!0)}var G={start:function(){F.forEach(q)},add:q,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==z[e]&&B[z[e]]?B[z[e]]:void 0}},U={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},H=U.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};U.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Y={};Y.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Y.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Y.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Y.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Y.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Y.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Y.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Y.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},Y.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Y.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Y.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Y.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Y.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Y.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Y.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Y.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Y.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var W=function(t,e,n,r,o,s){var a={};return a.datum_type=void 0===t||"none"===t?5:4,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=1),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=2,a.datum_params[3]*=i,a.datum_params[4]*=i,a.datum_params[5]*=i,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=n,a.b=r,a.es=o,a.ep2=s,a};function X(t,e){if(!(this instanceof X))return new X(t);e=e||function(t){if(t)throw t};var n=N(t);if("object"==typeof n){var i=X.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=p(Y,n.datumCode);r&&(n.datum_params=r.towgs84?r.towgs84.split(","):null,n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o,s,a,u,h,l,c,f=function(t,e,n,i,r){if(!t){var o=p(U,i);o||(o=H),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<1e-10)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),d=(o=f.a,s=f.b,f.rf,a=n.R_A,l=((u=o*o)-(h=s*s))/u,c=0,a?(u=(o*=1-l*(.16666666666666666+l*(.04722222222222222+.022156084656084655*l)))*o,l=0):c=Math.sqrt(l),{es:l,e:c,ep2:(u-h)/h}),g=n.datum||W(n.datumCode,n.datum_params,f.a,f.b,d.es,d.ep2);L(this,n),L(this,i),this.a=f.a,this.b=f.b,this.rf=f.rf,this.sphere=f.sphere,this.es=d.es,this.e=d.e,this.ep2=d.ep2,this.datum=g,this.init(),e(null,this)}else e(t)}else e(t)}X.projections=G,X.projections.start();var V=X;function K(t){return 1===t||2===t}var $=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}(t,e)||5===t.datum_type||5===e.datum_type?n:t.es!==e.es||t.a!==e.a||K(t.datum_type)||K(e.datum_type)?(n=function(t,e,n){var i,o,s,a,u=t.x,h=t.y,l=t.z?t.z:0;if(h<-r&&h>-1.001*r)h=-r;else if(h>r&&h<1.001*r)h=r;else{if(h<-r)return{x:-1/0,y:-1/0,z:t.z};if(h>r)return{x:1/0,y:1/0,z:t.z}}return u>Math.PI&&(u-=2*Math.PI),o=Math.sin(h),a=Math.cos(h),s=o*o,{x:((i=n/Math.sqrt(1-e*s))+l)*a*Math.cos(u),y:(i+l)*a*Math.sin(u),z:(i*(1-e)+l)*o}}(n,t.es,t.a),K(t.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],h=n[6];return{x:h*(t.x-u*t.y+a*t.z)+i,y:h*(u*t.x+t.y-s*t.z)+r,z:h*(-a*t.x+s*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),K(e.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],h=n[6],l=(t.x-i)/h,c=(t.y-r)/h,f=(t.z-o)/h;return{x:l+u*c-a*f,y:-u*l+c+s*f,z:a*l-s*c+f}}}(n,e.datum_type,e.datum_params)),function(t,e,n,i){var o,s,a,u,h,l,c,f,p,d,g,y,m,_,v,b=t.x,x=t.y,w=t.z?t.z:0;if(o=Math.sqrt(b*b+x*x),s=Math.sqrt(b*b+x*x+w*w),o/n<1e-12){if(_=0,s/n<1e-12)return r,v=-i,{x:t.x,y:t.y,z:t.z}}else _=Math.atan2(x,b);a=w/s,f=(u=o/s)*(1-e)*(h=1/Math.sqrt(1-e*(2-e)*u*u)),p=a*h,m=0;do{m++,l=e*(c=n/Math.sqrt(1-e*p*p))/(c+(v=o*f+w*p-c*(1-e*p*p))),y=(g=a*(h=1/Math.sqrt(1-l*(2-l)*u*u)))*f-(d=u*(1-l)*h)*p,f=d,p=g}while(y*y>1e-24&&m<30);return{x:_,y:Math.atan(g/Math.abs(d)),z:v}}(n,e.es,e.a,e.b)):n},Z=function(t,e,n){var i,r,o,s=n.x,a=n.y,u=n.z||0,h={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=s,r="x"):1===o?(i=a,r="y"):(i=u,r="z"),t.axis[o]){case"e":h[r]=i;break;case"w":h[r]=-i;break;case"n":h[r]=i;break;case"s":h[r]=-i;break;case"u":void 0!==n[r]&&(h.z=i);break;case"d":void 0!==n[r]&&(h.z=-i);break;default:return null}return h},J=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e};function Q(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function tt(t,e,n){var i;return Array.isArray(n)&&(n=J(n)),function(t){Q(t.x),Q(t.y)}(n),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(n=tt(t,i=new V("WGS84"),n),t=i),"enu"!==t.axis&&(n=Z(t,!1,n)),"longlat"===t.projName?n={x:n.x*o,y:n.y*o}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=$(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*s,y:n.y*s}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?Z(e,!0,n):n}var et=V("WGS84");function nt(t,e,n){var i,r,o;return Array.isArray(n)?(i=tt(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):(r=tt(t,e,n),2===(o=Object.keys(n)).length||o.forEach((function(t){"x"!==t&&"y"!==t&&(r[t]=n[t])})),r)}function it(t){return t instanceof V?t:t.oProj?t.oProj:V(t)}var rt=function(t,e,n){t=it(t);var i,r=!1;return void 0===e?(e=t,t=et,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=et,r=!0),e=it(e),n?nt(t,e,n):(i={forward:function(n){return nt(t,e,n)},inverse:function(n){return nt(e,t,n)}},r&&(i.oProj=e),i)},ot=73,st=79,at={forward:ut,inverse:function(t){var e=ft(gt(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:ht};function ut(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(p=t.easting,d=t.northing,g=t.zoneNumber,y=dt(g),m=Math.floor(p/1e5),_=Math.floor(d/1e5)%20,r=m,o=_,s=y,a=s-1,u="AJSAJS".charCodeAt(a),h="AFAFAF".charCodeAt(a),l=u+r-1,c=h+o,f=!1,l>90&&(l=l-90+65-1,f=!0),(l===ot||u<ot&&l>ot||(l>ot||u<ot)&&f)&&l++,(l===st||u<st&&l>st||(l>st||u<st)&&f)&&++l===ot&&l++,l>90&&(l=l-90+65-1),c>86?(c=c-86+65-1,f=!0):f=!1,(c===ot||h<ot&&c>ot||(c>ot||h<ot)&&f)&&c++,(c===st||h<st&&c>st||(c>st||h<st)&&f)&&++c===ot&&c++,c>86&&(c=c-86+65-1),String.fromCharCode(l)+String.fromCharCode(c))+n.substr(n.length-5,e)+i.substr(i.length-5,e);var r,o,s,a,u,h,l,c,f;var p,d,g,y,m,_}(function(t){var e,n,i,r,o,s,a,u=t.lat,h=t.lon,l=6378137,c=lt(u),f=lt(h);a=Math.floor((h+180)/6)+1,180===h&&(a=60);u>=56&&u<64&&h>=3&&h<12&&(a=32);u>=72&&u<84&&(h>=0&&h<9?a=31:h>=9&&h<21?a=33:h>=21&&h<33?a=35:h>=33&&h<42&&(a=37));s=lt(6*(a-1)-180+3),.006739496752268451,e=l/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),n=Math.tan(c)*Math.tan(c),i=.006739496752268451*Math.cos(c)*Math.cos(c),r=Math.cos(c)*(f-s),o=l*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c));var p=.9996*e*(r+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,d=.9996*(o+e*Math.tan(c)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));u<0&&(d+=1e7);return{northing:Math.round(d),easting:Math.round(p),zoneNumber:a,zoneLetter:pt(u)}}({lat:t[1],lon:t[0]}),e)}function ht(t){var e=ft(gt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function lt(t){return t*(Math.PI/180)}function ct(t){return t/Math.PI*180}function ft(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,u,h,l,c,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=n-5e5,y=e;i<"N"&&(y-=1e7),l=6*(r-1)-180+3,f=(c=y/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*c)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*c)+151*d*d*d/96*Math.sin(6*c),o=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),s=Math.tan(f)*Math.tan(f),a=.006739496752268451*Math.cos(f)*Math.cos(f),u=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),h=g/(.9996*o);var m=f-o*Math.tan(f)/u*(h*h/2-(5+3*s+10*a-4*a*a-.06065547077041606)*h*h*h*h/24+(61+90*s+298*a+45*s*s-1.6983531815716497-3*a*a)*h*h*h*h*h*h/720);m=ct(m);var _,v=(h-(1+2*s+a)*h*h*h/6+(5-2*a+28*s-3*a*a+.05391597401814761+24*s*s)*h*h*h*h*h/120)/Math.cos(f);if(v=l+ct(v),t.accuracy){var b=ft({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:b.lat,right:b.lon,bottom:m,left:v}}else _={lat:m,lon:v};return _}function pt(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function dt(t){var e=t%6;return 0===e&&(e=6),e}function gt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);for(var u=dt(s),h=function(t,e){var n="AJSAJS".charCodeAt(e-1),i=1e5,r=!1;for(;n!==t.charCodeAt(0);){if(++n===ot&&n++,n===st&&n++,n>90){if(r)throw"Bad character: "+t;n=65,r=!0}i+=1e5}return i}(i.charAt(0),u),l=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n="AFAFAF".charCodeAt(e-1),i=0,r=!1;for(;n!==t.charCodeAt(0);){if(++n===ot&&n++,n===st&&n++,n>86){if(r)throw"Bad character: "+t;n=65,r=!0}i+=1e5}return i}(i.charAt(1),u);l<yt(a);)l+=2e6;var c=n-o;if(c%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,g=c/2,y=0,m=0;return g>0&&(f=1e5/Math.pow(10,g),p=t.substring(o,o+g),y=parseFloat(p)*f,d=t.substring(o+g),m=parseFloat(d)*f),{easting:y+h,northing:m+l,zoneLetter:a,zoneNumber:s,accuracy:f}}function yt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function mt(t,e,n){if(!(this instanceof mt))return new mt(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}mt.fromMGRS=function(t){return new mt(ht(t))},mt.prototype.toMGRS=function(t){return ut([this.x,this.y],t)};var _t=mt,vt=n(126),bt=.01068115234375,xt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*bt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*bt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},wt=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))},Et=function(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var s=Math.sin(r),a=1-e*s*s;if(r-=a=(wt(r,s,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,Math.abs(a)<1e-10)return r}return r};var Ct={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=xt(this.es),this.ml0=wt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.x,o=t.y,s=k(r-this.long0),a=Math.sin(o),u=Math.cos(o);if(this.es){var h=u*s,l=Math.pow(h,2),c=this.ep2*Math.pow(u,2),f=Math.pow(c,2),p=Math.abs(u)>1e-10?Math.tan(o):0,d=Math.pow(p,2),g=Math.pow(d,2);e=1-this.es*Math.pow(a,2),h/=Math.sqrt(e);var y=wt(o,a,u,this.en);n=this.a*(this.k0*h*(1+l/6*(1-d+c+l/20*(5-18*d+g+14*c-58*d*c+l/42*(61+179*g-g*d-479*d)))))+this.x0,i=this.a*(this.k0*(y-this.ml0+a*s*h/2*(1+l/12*(5-d+9*c+4*f+l/30*(61+g-58*d+270*c-330*d*c+l/56*(1385+543*g-g*d-3111*d))))))+this.y0}else{var m=u*Math.sin(s);if(Math.abs(Math.abs(m)-1)<1e-10)return 93;if(n=.5*this.a*this.k0*Math.log((1+m)/(1-m))+this.x0,i=u*Math.cos(s)/Math.sqrt(1-Math.pow(m,2)),(m=Math.abs(i))>=1){if(m-1>1e-10)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,o,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=Et(e,this.es,this.en),Math.abs(n)<r){var u=Math.sin(n),h=Math.cos(n),l=Math.abs(h)>1e-10?Math.tan(n):0,c=this.ep2*Math.pow(h,2),f=Math.pow(c,2),p=Math.pow(l,2),d=Math.pow(p,2);e=1-this.es*Math.pow(u,2);var g=s*Math.sqrt(e)/this.k0,y=Math.pow(g,2);i=n-(e*=l)*y/(1-this.es)*.5*(1-y/12*(5+3*p-9*c*p+c-4*f-y/30*(61+90*p-252*c*p+45*d+46*c-y/56*(1385+3633*p+4095*d+1574*d*p)))),o=k(this.long0+g*(1-y/6*(1+2*p+c-y/20*(5+28*p+24*d+8*c*p+6*c-y/42*(61+662*p+1320*d+720*d*p))))/h)}else i=r*R(a),o=0;else{var m=Math.exp(s/this.k0),_=.5*(m-1/m),v=this.lat0+a/this.k0,b=Math.cos(v);e=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(_,2))),i=Math.asin(e),a<0&&(i=-i),o=0===_&&0===b?0:k(Math.atan2(_,b)+this.long0)}return t.x=o,t.y=i,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},St=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Mt=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},It=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Mt(1,e)+1))),t<0?-e:e},Tt=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return e+n*Math.sin(2*e)},Ot=function(t,e,n){for(var i,r,o=Math.sin(e),s=Math.cos(e),a=St(n),u=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(n),h=2*s*u,l=-2*o*a,c=t.length-1,f=t[c],p=0,d=0,g=0;--c>=0;)i=d,r=p,f=h*(d=f)-i-l*(p=g)+t[c],g=l*d-r+h*p;return[(h=o*u)*f-(l=s*a)*g,h*g+l*f]};var Nt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var i=Tt(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return Math.sin(e)*n}(this.gtu,2*i))},forward:function(t){var e=k(t.x-this.long0),n=t.y;n=Tt(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(i,s*r),e=Math.atan2(o*r,Mt(i,r*s)),e=It(Math.tan(e));var a,u,h=Ot(this.gtu,2*n,2*e);return n+=h[0],e+=h[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,u=1/0),t.x=a,t.y=u,t},inverse:function(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=Ot(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(St(i));var s=Math.sin(r),a=Math.cos(r),u=Math.sin(i),h=Math.cos(i);r=Math.atan2(s*h,Mt(u,h*a)),i=Math.atan2(u,h*a),e=k(i+this.long0),n=Tt(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]};var Lt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(k(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*o,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Nt.init.apply(this),this.forward=Nt.forward,this.inverse=Nt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},At=function(t,e){return Math.pow((1-t)/(1+t),e)};var Rt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+a)/(Math.pow(Math.tan(.5*this.lat0+a),this.C)*At(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+a),this.C)*At(this.e*Math.sin(n),this.ratexp))-r,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+a)/this.K,1/this.C),o=20;o>0&&(n=2*Math.atan(i*At(this.e*Math.sin(t.y),-.5*this.e))-r,!(Math.abs(n-t.y)<1e-14));--o)t.y=n;return o?(t.x=e,t.y=n,t):null},names:["gauss"]};var kt={init:function(){Rt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=k(t.x-this.long0),Rt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,Rt.inverse.apply(this,[t]),t.x=k(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var Pt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+R(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*A(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/P(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=A(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-r,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,o,s,a,u=t.x,h=t.y,l=Math.sin(h),c=Math.cos(h),f=k(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=1e-10&&Math.abs(h+this.lat0)<=1e-10?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*c*Math.cos(f)),t.x=this.a*e*c*Math.sin(f)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*c*Math.cos(f))+this.y0,t):(n=2*Math.atan(this.ssfn_(h,l,this.e))-r,o=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=1e-10?(s=P(this.e,h*this.con,this.con*l),a=2*this.a*this.k0*s/this.cons,t.x=this.x0+a*Math.sin(u-this.long0),t.y=this.y0-this.con*a*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<1e-10?(e=2*this.a*this.k0/(1+o*Math.cos(f)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*o*Math.cos(f))),t.y=e*(this.cosX0*i-this.sinX0*o*Math.cos(f))+this.y0),t.x=e*o*Math.sin(f)+this.x0,t))},inverse:function(t){var e,n,i,o,s;t.x-=this.x0,t.y-=this.y0;var a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=1e-10?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/a),e=Math.abs(this.coslat0)<1e-10?this.lat0>0?k(this.long0+Math.atan2(t.x,-1*t.y)):k(this.long0+Math.atan2(t.x,t.y)):k(this.long0+Math.atan2(t.x*Math.sin(u),a*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=1e-10){if(a<=1e-10)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*D(this.e,i),e=this.con*k(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=1e-10?s=this.X0:(s=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/a),e=k(this.long0+Math.atan2(t.x*Math.sin(o),a*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),n=-1*D(this.e,Math.tan(.5*(r+s)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(r+t))*Math.pow((1-e)/(1+e),.5*n)}};var Dt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,u=0,h=o,l=-1e3,c=0;Math.abs(h-l)>1e-7;){if(++c>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),l=h,h=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=a,t.y=h,t},names:["somerc"]};var jt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i,r,o=P(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(s*s<1&&(s=1),isNaN(this.longc)){var a=P(this.e,this.lat1,Math.sin(this.lat1)),u=P(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var h=Math.pow(a,this.bl),l=Math.pow(u,this.bl);r=.5*((i=this.el/h)-1/i);var c=(this.el*this.el-l*h)/(this.el*this.el+l*h),f=(l-h)/(l+h),p=k(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(c*Math.tan(.5*this.bl*p)/f)/this.bl,this.long0=k(this.long0);var d=k(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/r),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else i=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=i*Math.pow(o,this.bl),r=.5*(i-1/i),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,n,i,o=t.x,s=t.y,u=k(o-this.long0);if(Math.abs(Math.abs(s)-r)<=1e-10)i=s>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(a+i*this.gamma0*.5)),e=-1*i*r*this.al/this.bl;else{var h=P(this.e,s,Math.sin(s)),l=this.el/Math.pow(h,this.bl),c=.5*(l-1/l),f=.5*(l+1/l),p=Math.sin(this.bl*u),d=(c*Math.sin(this.gamma0)-p*Math.cos(this.gamma0))/f;n=Math.abs(Math.abs(d)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-d)/(1+d))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=1e-10?this.al*this.bl*u:this.al*Math.atan2(c*Math.cos(this.gamma0)+p*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),o=.5*(i-1/i),s=.5*(i+1/i),a=Math.sin(this.bl*e/this.al),u=(a*Math.cos(this.gamma0)+o*Math.sin(this.gamma0))/s,h=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<1e-10?(t.x=this.long0,t.y=r):Math.abs(u+1)<1e-10?(t.x=this.long0,t.y=-1*r):(t.y=D(this.e,h),t.x=k(this.long0-Math.atan2(o*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var Ft={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=A(this.e,e,n),r=P(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=A(this.e,o,s),u=P(this.e,this.lat2,o),h=P(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(i/a)/Math.log(r/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=1e-10&&(n=R(n)*(r-2e-10));var i,o,s=Math.abs(Math.abs(n)-r);if(s>1e-10)i=P(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(i,this.ns);else{if((s=n*this.ns)<=0)return null;o=0}var a=this.ns*k(e-this.long0);return t.x=this.k0*(o*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-o*Math.cos(a))+this.y0,t},inverse:function(t){var e,n,i,o,s,a=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+u*u),n=1):(e=-Math.sqrt(a*a+u*u),n=-1);var h=0;if(0!==e&&(h=Math.atan2(n*a,n*u)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(o=D(this.e,i)))return null}else o=-r;return s=k(h/this.ns+this.long0),t.x=s,t.y=o,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};var zt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,s,a,u=t.x,h=t.y,l=k(u-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),i=-l*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,s,a,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var h=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,h+=1}while(0===a&&h<15);return h>=15?null:t},names:["Krovak","krovak"]},Bt=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},qt=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Gt=function(t){return.375*t*(1+.25*t*(1+.46875*t))},Ut=function(t){return.05859375*t*t*(1+.75*t)},Ht=function(t){return t*t*t*(35/3072)},Yt=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)},Wt=function(t){return Math.abs(t)<r?t:t-R(t)*Math.PI},Xt=function(t,e,n,i,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN};var Vt={init:function(){this.sphere||(this.e0=qt(this.es),this.e1=Gt(this.es),this.e2=Ut(this.es),this.e3=Ht(this.es),this.ml0=this.a*Bt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=k(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=Yt(this.a,this.e,o),u=Math.tan(r)*Math.tan(r),h=i*Math.cos(r),l=h*h,c=this.es*s*s/(1-this.es);e=a*h*(1-l*u*(1/6-(8-u+8*c)*l/120)),n=this.a*Bt(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*o/s*l*(.5+(5-u+6*c)*l/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,o=t.y/this.a;if(this.sphere){var s=o+this.lat0;e=Math.asin(Math.sin(s)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(s))}else{var a=this.ml0/this.a+o,u=Xt(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(u)-r)<=1e-10)return t.x=this.long0,t.y=r,o<0&&(t.y*=-1),t;var h=Yt(this.a,this.e,Math.sin(u)),l=h*h*h/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(u),2),f=i*this.a/h,p=f*f;e=u-h*Math.tan(u)/l*f*f*(.5-(1+3*c)*f*f/24),n=f*(1-p*(c/3+(1+3*c)*c*p/15))/Math.cos(u)}return t.x=k(n+this.long0),t.y=Wt(e),t},names:["Cassini","Cassini_Soldner","cass"]},Kt=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e};var $t={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-r)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Kt(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=.3333333333333333*t,e=t*t,n[0]+=.17222222222222222*e,n[1]=.06388888888888888*e,e*=t,n[0]+=.10257936507936508*e,n[1]+=.0664021164021164*e,n[2]=.016415012942191543*e,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Kt(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,o,s,u,h,l,c,f,p=t.x,d=t.y;if(p=k(p-this.long0),this.sphere){if(s=Math.sin(d),f=Math.cos(d),i=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+f*i:1+this.sinph0*s+this.cosph0*f*i)<=1e-10)return null;e=(n=Math.sqrt(2/n))*f*Math.sin(p),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.phi0)<1e-10)return null;n=a-.5*d,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(p),n*=i}}else{switch(h=0,l=0,c=0,i=Math.cos(p),o=Math.sin(p),s=Math.sin(d),u=Kt(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=u/this.qp,l=Math.sqrt(1-h*h)),this.mode){case this.OBLIQ:c=1+this.sinb1*h+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=r+d,u=this.qp-u;break;case this.S_POLE:c=d-r,u=this.qp+u}if(Math.abs(c)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*h-this.sinb1*l*i):(c=Math.sqrt(2/(1+l*i)))*h*this.ymf,e=this.xmf*c*l*o;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(c=Math.sqrt(u))*o,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,o,s,a,u,h,l,c,f=t.x/this.a,p=t.y/this.a;if(this.sphere){var d,g=0,y=0;if((n=.5*(d=Math.sqrt(f*f+p*p)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(y=Math.sin(n),g=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=1e-10?0:Math.asin(p*y/d),f*=y,p=g*d;break;case this.OBLIQ:n=Math.abs(d)<=1e-10?this.phi0:Math.asin(g*this.sinph0+p*y*this.cosph0/d),f*=y*this.cosph0,p=(g-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:p=-p,n=r-n;break;case this.S_POLE:n-=r}e=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(f,p):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(f/=this.dd,p*=this.dd,(a=Math.sqrt(f*f+p*p))<1e-10)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*a/this.rq),i=Math.cos(o),f*=o=Math.sin(o),this.mode===this.OBLIQ?(u=i*this.sinb1+p*o*this.cosb1/a,s=this.qp*u,p=a*this.cosb1*i-p*this.sinb1*o):(u=p*o/a,s=this.qp*u,p=a*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(s=f*f+p*p))return t.x=0,t.y=this.phi0,t;u=1-s/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(f,p),h=Math.asin(u),l=this.apa,c=h+h,n=h+l[0]*Math.sin(c)+l[1]*Math.sin(c+c)+l[2]*Math.sin(c+c+c)}return t.x=k(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Zt=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var Jt={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=A(this.e3,this.sin_po,this.cos_po),this.qs1=Kt(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=A(this.e3,this.sin_po,this.cos_po),this.qs2=Kt(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Kt(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Kt(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*k(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),o=k(r/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,s=Zt(.5*e);if(t<1e-10)return s;for(var a=t*t,u=1;u<=25;u++)if(s+=o=.5*(r=1-(i=t*(n=Math.sin(s)))*i)*r/Math.cos(s)*(e/(1-a)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return s;return null}};var Qt={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,s,a,u=t.x,h=t.y;return i=k(u-this.long0),e=Math.sin(h),n=Math.cos(h),r=Math.cos(i),1,(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=1e-10?(s=this.x0+1*this.a*n*Math.sin(i)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(s=this.x0+this.infinity_dist*n*Math.sin(i),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),s=Zt(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=k(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]};var te={init:function(){this.sphere||(this.k0=A(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.x,r=t.y,o=k(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=Kt(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=k(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*r:r;for(var i,o,s,a,u=Math.asin(.5*e),h=0;h<30;h++)if(o=Math.sin(u),s=Math.cos(u),a=t*o,u+=i=Math.pow(1-a*a,2)/(2*s)*(e/(1-t*t)-o/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(i)<=1e-10)return u;return NaN}(this.e,2*t.y*this.k0/this.a),e=k(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};var ee={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,i=k(e-this.long0),r=Wt(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,n=t.y;return t.x=k(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Wt(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var ne={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qt(this.es),this.e1=Gt(this.es),this.e2=Ut(this.es),this.e3=Ht(this.es),this.ml0=this.a*Bt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.x,o=t.y,s=k(r-this.long0);if(i=s*Math.sin(o),this.sphere)Math.abs(o)<=1e-10?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(Wt(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=1e-10)e=this.a*s,n=-1*this.ml0;else{var a=Yt(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(i),n=this.a*Bt(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,s,a,u,h;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=1e-10)e=k(i/this.a+this.long0),n=0;else{var l;for(s=this.lat0+r/this.a,a=i*i/this.a/this.a+s*s,u=s,o=20;o;--o)if(u+=h=-1*(s*(u*(l=Math.tan(u))+1)-u-.5*(u*u+a)*l)/((u-s)/l-1),Math.abs(h)<=1e-10){n=u;break}e=k(this.long0+Math.asin(i*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=1e-10)n=0,e=k(this.long0+i/this.a);else{var c,f,p,d,g;for(s=(this.ml0+r)/this.a,a=i*i/this.a/this.a+s*s,u=s,o=20;o;--o)if(g=this.e*Math.sin(u),c=Math.sqrt(1-g*g)*Math.tan(u),f=this.a*Bt(this.e0,this.e1,this.e2,this.e3,u),p=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),u-=h=(s*(c*(d=f/this.a)+1)-d-.5*c*(d*d+a))/(this.es*Math.sin(2*u)*(d*d+a-2*s*d)/(4*c)+(s-d)*(c*p-2/Math.sin(2*u))-p),Math.abs(h)<=1e-10){n=u;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=k(this.long0+Math.asin(i*c/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};var ie={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,o=n-this.long0,s=r/i*1e-5,a=o,u=1,h=0;for(e=1;e<=10;e++)u*=s,h+=this.A[e]*u;var l,c=h,f=a,p=1,d=0,g=0,y=0;for(e=1;e<=6;e++)l=d*c+p*f,p=p*c-d*f,d=l,g=g+this.B_re[e]*p-this.B_im[e]*d,y=y+this.B_im[e]*p+this.B_re[e]*d;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,o=t.y,s=r-this.x0,a=(o-this.y0)/this.a,u=s/this.a,h=1,l=0,c=0,f=0;for(e=1;e<=6;e++)n=l*a+h*u,h=h*a-l*u,l=n,c=c+this.C_re[e]*h-this.C_im[e]*l,f=f+this.C_im[e]*h+this.C_re[e]*l;for(var p=0;p<this.iterations;p++){var d,g=c,y=f,m=a,_=u;for(e=2;e<=6;e++)d=y*c+g*f,g=g*c-y*f,y=d,m+=(e-1)*(this.B_re[e]*g-this.B_im[e]*y),_+=(e-1)*(this.B_im[e]*g+this.B_re[e]*y);g=1,y=0;var v=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)d=y*c+g*f,g=g*c-y*f,y=d,v+=e*(this.B_re[e]*g-this.B_im[e]*y),b+=e*(this.B_im[e]*g+this.B_re[e]*y);var x=v*v+b*b;c=(m*v+_*b)/x,f=(_*v-m*b)/x}var w=c,E=f,C=1,S=0;for(e=1;e<=9;e++)C*=w,S+=this.D[e]*C;var M=this.lat0+S*i*1e5,I=this.long0+E;return t.x=I,t.y=M,t},names:["New_Zealand_Map_Grid","nzmg"]};var re={init:function(){},forward:function(t){var e=t.x,n=t.y,i=k(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=k(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]};var oe={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=xt(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=k(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=20;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<1e-10)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var u=Math.sin(r),h=Math.cos(r);n=this.a*wt(r,u,h,this.en),e=this.a*i*h/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,o;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=Zt((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Zt(Math.sin(e)/this.n)),i=k(i+this.long0),e=Wt(e)):(e=Et(t.y/this.a,this.es,this.en),(o=Math.abs(e))<r?(o=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*o*o)/(this.a*Math.cos(e)),i=k(n)):o-1e-10<r&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]};var se={init:function(){},forward:function(t){for(var e=t.x,n=t.y,i=k(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<1e-10)break}r/=2,Math.PI/2-Math.abs(n)<1e-10&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,u=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=u,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=k(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]};var ae={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qt(this.es),this.e1=Gt(this.es),this.e2=Ut(this.es),this.e3=Ht(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=A(this.e,this.sinphi,this.cosphi),this.ml1=Bt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=A(this.e,this.sinphi,this.cosphi),this.ml2=Bt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Bt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=Bt(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*k(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=k(this.long0+o/this.ns),i=Wt(this.g-n/this.a),t.x=r,t.y=i,t;var s=this.g-n/this.a;return i=Xt(s,this.e0,this.e1,this.e2,this.e3),r=k(this.long0+o/this.ns),t.x=r,t.y=i,t},names:["Equidistant_Conic","eqdc"]};var ue={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.x,o=t.y,s=k(i-this.long0);Math.abs(o)<=1e-10&&(e=this.x0+this.R*s,n=this.y0);var a=Zt(2*Math.abs(o/Math.PI));(Math.abs(s)<=1e-10||Math.abs(Math.abs(o)-r)<=1e-10)&&(e=this.x0,n=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var u=.5*Math.abs(Math.PI/s-s/Math.PI),h=u*u,l=Math.sin(a),c=Math.cos(a),f=c/(l+c-1),p=f*f,d=f*(2/l-1),g=d*d,y=Math.PI*this.R*(u*(f-g)+Math.sqrt(h*(f-g)*(f-g)-(g+h)*(p-g)))/(g+h);s<0&&(y=-y),e=this.x0+y;var m=h+f;return y=Math.PI*this.R*(d*m-u*Math.sqrt((g+h)*(h+1)-m*m))/(g+h),n=o>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,s,a,u,h,l,c,f;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,o=(i=t.x/c)*i+(r=t.y/c)*r,c=3*(r*r/(u=-2*(s=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(a=s-2*r*r+i*i)*a*a/u/u/u-9*s*a/u/u)/27)/(h=(s-a*a/3/u)/u)/(l=2*Math.sqrt(-h/3)),Math.abs(c)>1&&(c=c>=0?1:-1),f=Math.acos(c)/3,n=t.y>=0?(-l*Math.cos(f+Math.PI/3)-a/3/u)*Math.PI:-(-l*Math.cos(f+Math.PI/3)-a/3/u)*Math.PI,e=Math.abs(i)<1e-10?this.long0:k(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var he={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,o,s,a,u,h,l,c,f,p,d,g,y,m,_,v,b,x,w,E,C=t.x,S=t.y,M=Math.sin(t.y),I=Math.cos(t.y),T=k(C-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(t.x=this.x0+this.a*(r-S)*Math.sin(T),t.y=this.y0-this.a*(r-S)*Math.cos(T),t):Math.abs(this.sin_p12+1)<=1e-10?(t.x=this.x0+this.a*(r+S)*Math.sin(T),t.y=this.y0+this.a*(r+S)*Math.cos(T),t):(v=this.sin_p12*M+this.cos_p12*I*Math.cos(T),_=(m=Math.acos(v))/Math.sin(m),t.x=this.x0+this.a*_*I*Math.sin(T),t.y=this.y0+this.a*_*(this.cos_p12*M-this.sin_p12*I*Math.cos(T)),t):(e=qt(this.es),n=Gt(this.es),i=Ut(this.es),o=Ht(this.es),Math.abs(this.sin_p12-1)<=1e-10?(s=this.a*Bt(e,n,i,o,r),a=this.a*Bt(e,n,i,o,S),t.x=this.x0+(s-a)*Math.sin(T),t.y=this.y0-(s-a)*Math.cos(T),t):Math.abs(this.sin_p12+1)<=1e-10?(s=this.a*Bt(e,n,i,o,r),a=this.a*Bt(e,n,i,o,S),t.x=this.x0+(s+a)*Math.sin(T),t.y=this.y0+(s+a)*Math.cos(T),t):(u=M/I,h=Yt(this.a,this.e,this.sin_p12),l=Yt(this.a,this.e,M),c=Math.atan((1-this.es)*u+this.es*h*this.sin_p12/(l*I)),b=0===(f=Math.atan2(Math.sin(T),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(T)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(f)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(T)*Math.cos(c)/Math.sin(f)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),m=h*b*(1-(x=b*b)*(y=(d=this.e*this.cos_p12*Math.cos(f)/Math.sqrt(1-this.es))*d)*(1-y)/6+(w=x*b)/8*(g=p*d)*(1-2*y)+(E=w*b)/120*(y*(4-7*y)-3*p*p*(1-7*y))-E*b/48*g),t.x=this.x0+m*Math.sin(f),t.y=this.y0+m*Math.cos(f),t))},inverse:function(t){var e,n,i,o,s,a,u,h,l,c,f,p,d,g,y,m,_,v,b,x,w,E;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*r*this.a)return;return n=e/this.a,i=Math.sin(n),o=Math.cos(n),s=this.long0,Math.abs(e)<=1e-10?a=this.lat0:(a=Zt(o*this.sin_p12+t.y*i*this.cos_p12/e),u=Math.abs(this.lat0)-r,s=Math.abs(u)<=1e-10?this.lat0>=0?k(this.long0+Math.atan2(t.x,-t.y)):k(this.long0-Math.atan2(-t.x,t.y)):k(this.long0+Math.atan2(t.x*i,e*this.cos_p12*o-t.y*this.sin_p12*i))),t.x=s,t.y=a,t}return h=qt(this.es),l=Gt(this.es),c=Ut(this.es),f=Ht(this.es),Math.abs(this.sin_p12-1)<=1e-10?(p=this.a*Bt(h,l,c,f,r),e=Math.sqrt(t.x*t.x+t.y*t.y),a=Xt((p-e)/this.a,h,l,c,f),s=k(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):Math.abs(this.sin_p12+1)<=1e-10?(p=this.a*Bt(h,l,c,f,r),e=Math.sqrt(t.x*t.x+t.y*t.y),a=Xt((e-p)/this.a,h,l,c,f),s=k(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),y=Math.atan2(t.x,t.y),d=Yt(this.a,this.e,this.sin_p12),m=Math.cos(y),v=-(_=this.e*this.cos_p12*m)*_/(1-this.es),b=3*this.es*(1-v)*this.sin_p12*this.cos_p12*m/(1-this.es),E=1-v*(w=(x=e/d)-v*(1+v)*Math.pow(x,3)/6-b*(1+3*v)*Math.pow(x,4)/24)*w/2-x*w*w*w/6,g=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*m),s=k(this.long0+Math.asin(Math.sin(y)*Math.sin(w)/Math.cos(g))),a=Math.atan((1-this.es*E*this.sin_p12/Math.sin(g))*Math.tan(g)/(1-this.es)),t.x=s,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]};var le={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,u=t.x,h=t.y;return i=k(u-this.long0),e=Math.sin(h),n=Math.cos(h),r=Math.cos(i),1,((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=1e-10)&&(s=1*this.a*n*Math.sin(i),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,o,s,a,u;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Zt(e/this.a),i=Math.sin(n),o=Math.cos(n),a=this.long0,Math.abs(e)<=1e-10?(u=this.lat0,t.x=a,t.y=u,t):(u=Zt(o*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.abs(this.lat0)-r,Math.abs(s)<=1e-10?(a=this.lat0>=0?k(this.long0+Math.atan2(t.x,-t.y)):k(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=u,t):(a=k(this.long0+Math.atan2(t.x*i,e*this.cos_p14*o-t.y*this.sin_p14*i)),t.x=a,t.y=u,t))},names:["ortho"]},ce=1,fe=2,pe=3,de=4,ge=5,ye=6,me=1,_e=2,ve=3,be=4;function xe(t,e,n,i){var o;return t<1e-10?(i.value=me,o=0):(o=Math.atan2(e,n),Math.abs(o)<=a?i.value=me:o>a&&o<=r+a?(i.value=_e,o-=r):o>r+a||o<=-(r+a)?(i.value=ve,o=o>=0?o-h:o+h):(i.value=be,o+=r)),o}function we(t,e){var n=t+e;return n<-h?n+=u:n>+h&&(n-=u),n}var Ee={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=r-a/2?this.face=ge:this.lat0<=-(r-a/2)?this.face=ye:Math.abs(this.long0)<=a?this.face=ce:Math.abs(this.long0)<=r+a?this.face=this.long0>0?fe:de:this.face=pe,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,o,s,u,l={x:0,y:0},c={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===ge)o=r-e,n>=a&&n<=r+a?(c.value=me,i=n-r):n>r+a||n<=-(r+a)?(c.value=_e,i=n>0?n-h:n+h):n>-(r+a)&&n<=-a?(c.value=ve,i=n+r):(c.value=be,i=n);else if(this.face===ye)o=r+e,n>=a&&n<=r+a?(c.value=me,i=-n+r):n<a&&n>=-a?(c.value=_e,i=-n):n<-a&&n>=-(r+a)?(c.value=ve,i=-n-r):(c.value=be,i=n>0?-n+h:-n-h);else{var f,p,d,g,y,m;this.face===fe?n=we(n,+r):this.face===pe?n=we(n,+h):this.face===de&&(n=we(n,-r)),g=Math.sin(e),y=Math.cos(e),m=Math.sin(n),f=y*Math.cos(n),p=y*m,d=g,this.face===ce?i=xe(o=Math.acos(f),d,p,c):this.face===fe?i=xe(o=Math.acos(p),d,-f,c):this.face===pe?i=xe(o=Math.acos(-f),d,-p,c):this.face===de?i=xe(o=Math.acos(-p),d,f,c):(o=i=0,c.value=me)}return u=Math.atan(12/h*(i+Math.acos(Math.sin(i)*Math.cos(a))-r)),s=Math.sqrt((1-Math.cos(o))/(Math.cos(u)*Math.cos(u))/(1-Math.cos(Math.atan(1/Math.cos(i))))),c.value===_e?u+=r:c.value===ve?u+=h:c.value===be&&(u+=1.5*h),l.x=s*Math.cos(u),l.y=s*Math.sin(u),l.x=l.x*this.a+this.x0,l.y=l.y*this.a+this.y0,t.x=l.x,t.y=l.y,t},inverse:function(t){var e,n,i,o,s,a,u,l,c,f,p,d,g={lam:0,phi:0},y={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?y.value=me:t.y>=0&&t.y>=Math.abs(t.x)?(y.value=_e,e-=r):t.x<0&&-t.x>=Math.abs(t.y)?(y.value=ve,e=e<0?e+h:e-h):(y.value=be,e+=r),c=h/12*Math.tan(e),s=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),a=Math.atan(s),(u=1-(i=Math.cos(e))*i*(o=Math.tan(n))*o*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?u=-1:u>1&&(u=1),this.face===ge)l=Math.acos(u),g.phi=r-l,y.value===me?g.lam=a+r:y.value===_e?g.lam=a<0?a+h:a-h:y.value===ve?g.lam=a-r:g.lam=a;else if(this.face===ye)l=Math.acos(u),g.phi=l-r,y.value===me?g.lam=-a+r:y.value===_e?g.lam=-a:y.value===ve?g.lam=-a-r:g.lam=a<0?-a-h:-a+h;else{var m,_,v;c=(m=u)*m,_=(c+=(v=c>=1?0:Math.sqrt(1-c)*Math.sin(a))*v)>=1?0:Math.sqrt(1-c),y.value===_e?(c=_,_=-v,v=c):y.value===ve?(_=-_,v=-v):y.value===be&&(c=_,_=v,v=-c),this.face===fe?(c=m,m=-_,_=c):this.face===pe?(m=-m,_=-_):this.face===de&&(c=m,m=_,_=-c),g.phi=Math.acos(-v)-r,g.lam=Math.atan2(_,m),this.face===fe?g.lam=we(g.lam,-r):this.face===pe?g.lam=we(g.lam,-h):this.face===de&&(g.lam=we(g.lam,+r))}return 0!==this.es&&(f=g.phi<0?1:0,p=Math.tan(g.phi),d=this.b/Math.sqrt(p*p+this.one_minus_f_squared),g.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),f&&(g.phi=-g.phi)),g.lam+=this.long0,t.x=g.lam,t.y=g.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Ce=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Se=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Me=s/5,Ie=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};var Te,Oe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=k(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*Me);i<0?i=0:i>=18&&(i=17);var r={x:Ie(Ce[i],n=s*(n-.08726646259971647*i))*e,y:Ie(Se[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=Ce[18][0],e.y=t.y<0?-r:r;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(Se[n][0]>e.y)--n;else{if(!(Se[n+1][0]<=e.y))break;++n}var i=Se[n],s=5*(e.y-i[0])/(Se[n+1][0]-i[0]);s=function(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}((function(t){return(Ie(i,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(i,t)}),s,1e-10,100),e.x/=Ie(Ce[n],s),e.y=(5*n+s)*o,t.y<0&&(e.y=-e.y)}return e.x=k(e.x+this.long0),e},names:["Robinson","robin"]};rt.defaultDatum="WGS84",rt.Proj=V,rt.WGS84=new rt.Proj("WGS84"),rt.Point=_t,rt.toPoint=J,rt.defs=I,rt.transform=tt,rt.mgrs=at,rt.version=vt.a,(Te=rt).Proj.projections.add(Ct),Te.Proj.projections.add(Nt),Te.Proj.projections.add(Lt),Te.Proj.projections.add(kt),Te.Proj.projections.add(Pt),Te.Proj.projections.add(Dt),Te.Proj.projections.add(jt),Te.Proj.projections.add(Ft),Te.Proj.projections.add(zt),Te.Proj.projections.add(Vt),Te.Proj.projections.add($t),Te.Proj.projections.add(Jt),Te.Proj.projections.add(Qt),Te.Proj.projections.add(te),Te.Proj.projections.add(ee),Te.Proj.projections.add(ne),Te.Proj.projections.add(ie),Te.Proj.projections.add(re),Te.Proj.projections.add(oe),Te.Proj.projections.add(se),Te.Proj.projections.add(ae),Te.Proj.projections.add(ue),Te.Proj.projections.add(he),Te.Proj.projections.add(le),Te.Proj.projections.add(Ee),Te.Proj.projections.add(Oe);e.a=rt},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n(29),r=n(15),o=n(48),s=n(19),a=n(13),u=n(1),h=n(4),l=n(42);function c(t){this.updateElement_(t.frameState)}var f=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||c,target:n.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===n.collapsed||n.collapsed,this.overrideCollapsible_=void 0!==n.collapsible,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",r=void 0!==n.tipLabel?n.tipLabel:"Attributions",o=void 0!==n.collapseLabel?n.collapseLabel:"»";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o):this.collapseLabel_=o;var a=void 0!==n.label?n.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a):this.label_=a;var l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=r,f.appendChild(l),Object(u.a)(f,h.a.CLICK,this.handleClick_,this);var p=i+" "+s.d+" "+s.b+(this.collapsed_&&this.collapsible_?" "+s.a:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=p,d.appendChild(this.ulElement_),d.appendChild(f),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,o=0,s=i.length;o<s;++o){var a=i[o];if(Object(l.b)(a,r)){var u=a.layer.getSource();if(u){var h=u.getAttributions();if(h){var c=h(t);if(c)if(this.overrideCollapsible_||!1!==u.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var f=0,p=c.length;f<p;++f)c[f]in e||(n.push(c[f]),e[c[f]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(r.a)(e,this.renderedAttributions_)){Object(a.b)(this.ulElement_);for(var i=0,o=e.length;i<o;++i){var s=document.createElement("li");s.innerHTML=e[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(s.a),this.collapsed_?Object(a.d)(this.collapseLabel_,this.label_):Object(a.d)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(o.a),p=n(24);function d(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(s.c);r||0!==n?r&&0!==n&&this.element.classList.remove(s.c):this.element.classList.add(s.c)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}}var g=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||d,target:n.target});var i=void 0!==n.className?n.className:"ol-rotate",r=void 0!==n.label?n.label:"⇧";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var o=n.tipLabel?n.tipLabel:"Reset rotation",a=document.createElement("button");a.className=i+"-reset",a.setAttribute("type","button"),a.title=o,a.appendChild(this.label_),Object(u.a)(a,h.a.CLICK,this.handleClick_,this);var l=i+" "+s.d+" "+s.b,c=this.element;c.className=l,c.appendChild(a),this.callResetNorth_=n.resetNorth?n.resetNorth:void 0,this.duration_=void 0!==n.duration?n.duration:250,this.autoHide_=void 0===n.autoHide||n.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(s.c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:p.b}):t.setRotation(0))},e}(o.a),y=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target});var i=void 0!==n.className?n.className:"ol-zoom",r=void 0!==n.delta?n.delta:1,o=void 0!==n.zoomInLabel?n.zoomInLabel:"+",a=void 0!==n.zoomOutLabel?n.zoomOutLabel:"−",l=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",c=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=i+"-in",f.setAttribute("type","button"),f.title=l,f.appendChild("string"==typeof o?document.createTextNode(o):o),Object(u.a)(f,h.a.CLICK,this.handleClick_.bind(this,r));var p=document.createElement("button");p.className=i+"-out",p.setAttribute("type","button"),p.title=c,p.appendChild("string"==typeof a?document.createTextNode(a):a),Object(u.a)(p,h.a.CLICK,this.handleClick_.bind(this,-r));var d=i+" "+s.d+" "+s.b,g=this.element;g.className=d,g.appendChild(f),g.appendChild(p),this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var i=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:p.b})):e.setResolution(i)}}},e}(o.a);function m(t){var e=t||{},n=new i.a;return(void 0===e.zoom||e.zoom)&&n.push(new y(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new g(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new f(e.attributionOptions)),n}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(158)},function(t,e,n){"use strict";(function(e,i){var r=n(74);t.exports=v;var o,s=n(101);v.ReadableState=_;n(90).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=n(104),h=n(75).Buffer,l=e.Uint8Array||function(){};var c=n(69);c.inherits=n(61);var f=n(159),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,g=n(160),y=n(105);c.inherits(v,u);var m=["error","close","destroy","pause","resume"];function _(t,e){t=t||{};var i=e instanceof(o=o||n(54));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(107).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||n(54),!(this instanceof v))return new v(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function b(t,e,n,i,r){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}(t,s)):(r||(o=function(t,e){var n;i=e,h.isBuffer(i)||i instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?x(t,s,e,!1):S(t,s)):x(t,s,e,!1))):i||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function x(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),S(t,e)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=y.destroy,v.prototype._undestroy=y.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=h.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},v.prototype.unshift=function(t){return b(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return d||(d=n(107).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};function w(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(C,t):C(t))}function C(t){p("emit readable"),t.emit("readable"),O(t)}function S(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(M,t,e))}function M(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function I(t){p("readable nexttick read 0"),t.read(0)}function T(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;t-=r.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?r+=o:r+=o.slice(0,t),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=h.allocUnsafe(t),i=e.head,r=1;i.data.copy(n),t-=i.data.length;for(;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(s));break}++r}return e.length-=r,n}(t,e);return i}(t,e.buffer,e.decoder),n);var n}function L(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(A,e,t))}function A(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}v.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):E(this),null;if(0===(t=w(t,e))&&e.ended)return 0===e.length&&L(this),null;var i,r=e.needReadable;return p("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",r=!0),e.ended||e.reading?p("reading or ended",r=!1):r&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=w(n,e))),null===(i=t>0?N(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&L(this)),null!==i&&this.emit("data",i),i},v.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?l:v;function h(e,i){p("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),t.removeListener("close",m),t.removeListener("finish",_),t.removeListener("drain",c),t.removeListener("error",y),t.removeListener("unpipe",h),n.removeListener("end",l),n.removeListener("end",v),n.removeListener("data",g),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function l(){p("onend"),t.end()}o.endEmitted?r.nextTick(u):n.once("end",u),t.on("unpipe",h);var c=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,O(t))}}(n);t.on("drain",c);var f=!1;var d=!1;function g(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==R(o.pipes,t))&&!f&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function y(e){p("onerror",e),v(),t.removeListener("error",y),0===a(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",_),v()}function _(){p("onfinish"),t.removeListener("close",m),v()}function v(){p("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",y),t.once("close",m),t.once("finish",_),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var s=R(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},v.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&E(this):r.nextTick(I,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(T,t,e))}(this,t)),this},v.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){(p("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){p("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=N}).call(this,n(30),n(73))},function(t,e,n){t.exports=n(90).EventEmitter},function(t,e,n){"use strict";var i=n(74);function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(162),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(30))},function(t,e,n){"use strict";var i=n(75).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=h,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=c,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=s;var i=n(54),r=n(69);function o(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);i.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){u(t,e,n)})):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n(61),r.inherits(s,i),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";var i=n(18),r=n(49),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,n,r,s,a,u,h,l=[],c=0,f=t.length,p=f,d="string"!==i.getTypeOf(t);c<t.length;)p=f-c,d?(e=t[c++],n=c<f?t[c++]:0,r=c<f?t[c++]:0):(e=t.charCodeAt(c++),n=c<f?t.charCodeAt(c++):0,r=c<f?t.charCodeAt(c++):0),s=e>>2,a=(3&e)<<4|n>>4,u=p>1?(15&n)<<2|r>>6:64,h=p>2?63&r:64,l.push(o.charAt(s)+o.charAt(a)+o.charAt(u)+o.charAt(h));return l.join("")},e.decode=function(t){var e,n,i,s,a,u,h=0,l=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=r.uint8array?new Uint8Array(0|f):new Array(0|f);h<t.length;)e=o.indexOf(t.charAt(h++))<<2|(s=o.indexOf(t.charAt(h++)))>>4,n=(15&s)<<4|(a=o.indexOf(t.charAt(h++)))>>2,i=(3&a)<<6|(u=o.indexOf(t.charAt(h++))),c[l++]=e,64!==a&&(c[l++]=n),64!==u&&(c[l++]=i);return c}},function(t,e,n){"use strict";(function(e){var i=n(18),r=n(172),o=n(37),s=n(109),a=n(49),u=n(70),h=null;if(a.nodestream)try{h=n(173)}catch(t){}function l(t,n){return new u.Promise((function(r,o){var a=[],u=t._internalType,h=t._outputType,l=t._mimeType;t.on("data",(function(t,e){a.push(t),n&&n(e)})).on("error",(function(t){a=[],o(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return i.transformTo(t,e)}}(h,function(t,n){var i,r=0,o=null,s=0;for(i=0;i<n.length;i++)s+=n[i].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(s),i=0;i<n.length;i++)o.set(n[i],r),r+=n[i].length;return o;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(u,a),l);r(t)}catch(t){o(t)}a=[]})).resume()}))}function c(t,e,n){var s=e;switch(e){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=e,this._mimeType=n,i.checkSupport(s),this._worker=t.pipe(new r(s)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}c.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){i.delay(e,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=c}).call(this,n(68).Buffer)},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";var i=n(18),r=n(37);function o(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},function(t,e,n){"use strict";var i=n(18),r=n(37);function o(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(o,r),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)},t.exports=o},function(t,e,n){"use strict";var i=n(37),r=n(94);function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(18).inherits(o,i),o.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=o},function(t,e,n){"use strict";var i=n(37);e.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n(176)},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var o=i,s=r+n;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},function(t,e,n){"use strict";var i=n(50),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function u(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n}s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,s,a=t.length,u=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(u),s=0,o=0;s<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,r,o,a=e||t.length,h=new Array(2*a);for(i=0,n=0;n<a;)if((r=t[n++])<128)h[i++]=r;else if((o=s[r])>4)h[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<a;)r=r<<6|63&t[n++],o--;o>1?h[i++]=65533:r<65536?h[i++]=r:(r-=65536,h[i++]=55296|r>>10&1023,h[i++]=56320|1023&r)}return u(h,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";var i=n(18),r=n(49),o=n(123),s=n(190),a=n(191),u=n(125);t.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new a(t):r.uint8array?new u(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new s(t)}},function(t,e,n){"use strict";var i=n(124);function r(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}n(18).inherits(r,i),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(18);function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=r},function(t,e,n){"use strict";var i=n(123);function r(t){i.call(this,t)}n(18).inherits(r,i),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t){t.exports=JSON.parse('{"a":"2.5.0"}')},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=h;var r=n(47),o=i(n(55)),s=n(128),a=n(203),u=i(n(205));e.VERSION="4.5.3";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function h(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}h.prototype={constructor:h,logger:u.default,log:u.default.log,registerHelper:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===r.toString.call(t))r.extend(this.partials,t);else{if(void 0===e)throw new o.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var l=u.default.log;e.log=l,e.createFrame=r.createFrame,e.logger=u.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){r.default(t),o.default(t),s.default(t),a.default(t),u.default(t),h.default(t),l.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var r=i(n(196)),o=i(n(197)),s=i(n(198)),a=i(n(199)),u=i(n(200)),h=i(n(201)),l=i(n(202))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var i=n(96);class r{constructor(t,e){this.model=t,this.view=e,document.getElementById("ImportData").addEventListener("click",this.import_handler.bind(this)),document.getElementById("NodesImportFile").addEventListener("change",this.import_nodes_file.bind(this)),document.getElementById("ImportNodes").addEventListener("click",this.import_nodes.bind(this)),document.getElementById("LinksImportFile").addEventListener("change",this.import_links_file.bind(this)),document.getElementById("ImportLinks").addEventListener("click",this.import_links.bind(this)),document.getElementById("ImportZip").addEventListener("change",this.import_zip.bind(this)),document.getElementById("ExportMap").addEventListener("click",this.model.export.bind(this.model)),this.load_projections(),document.getElementById("projection").addEventListener("change",this.set_projection.bind(this)),document.getElementById("buttonChangeLayernode").addEventListener("click",this.show_nodes_semio.bind(this)),this.charts=[],console.log("controller"),console.log(this)}import_handler(){this.view.import_nodes()}import_nodes_file(){let t=document.getElementById("NodesImportFile").files[0];this.view.set_nodes_file_name(t.name),"text/csv"===t.type&&this.view.update_import_csv(),this.model.preprocess_nodes(t,this.view.update_import_nodes_modal).catch(this.view.error_nodes_file())}import_nodes(){let t=document.getElementById("NodesImportFile").files[0],e=document.getElementById("NodeImportID").value.replace(/\"/g,""),n=document.getElementById("NodeImportLat").value.replace(/\"/g,""),i=document.getElementById("NodeImportLong").value.replace(/\"/g,"");this.model.set_nodes_varnames(e,n,i),this.model.import_nodes(t,this.view.import_links).catch(this.view.error_nodes_file())}import_links_file(){let t=document.getElementById("LinksImportFile").files[0];this.view.set_links_file_name(t.name),this.model.preprocess_links(t,this.view.update_import_links_modal).catch(this.view.error_links_file())}import_links(){let t=document.getElementById("LinksImportFile").files[0],e=document.getElementById("LinksImportOrigineID").value.replace(/\"/g,""),n=document.getElementById("LinksImportDestinationID").value.replace(/\"/g,""),i=document.getElementById("LinksImportVolume").value.replace(/\"/g,"");console.log(e,n,i),this.model.set_links_varnames(e,n,i),this.model.set_links_aggr(document.getElementById("LinksImportOrigineID").value),this.model.import_links(t,this.view.import_end.bind(this.view)).catch(this.view.error_links_file())}import_zip(){let t=document.getElementById("ImportZip").files[0];this.model.import_zip(t,this.post_import_zip.bind(this)).catch(this.view.error_zip_file())}post_import_zip(t,e,n,r){for(let t=0;t<e.length;t++){let o=new i.a(e[t].id,n[t],r[t],this.render_all.bind(this)),s=document.createElement("div");s.id="filter-"+e[t].id,document.getElementById("Filters").append(s),o.chart(s),this.charts.push(o)}this.view.import_end(t,this.model.get_nodes(),this.model.get_links()),document.getElementById("projection-"+this.model.get_projection()).selected=!0,this.view.set_projection(this.model.get_projection(),this.model.get_nodes(),this.model.get_links())}set_projection(){let t=document.getElementById("projection"),e=t.options[t.selectedIndex].value;console.log(e),this.model.set_projection(e),this.view.set_projection(e,this.model.get_nodes(),this.model.get_links())}load_projections(){let e=Object.keys(t.projections);document.getElementById("projection").innerHTML=e.map(e=>"<option id='projection-"+e+"' value='"+e+"''>"+t.projections[e].name+"</option>").join("")}add_filter(t,e,n){let r=new i.a(t,e,n,this.render_all.bind(this)),o=document.createElement("div");o.id="filter-"+t,document.getElementById("Filters").append(o),r.chart(o),this.charts.push(r)}show_nodes_semio(){this.view.update_nodes_semio(this.model.get_nodes_style())}save_nodes_semio(){console.log("save"),console.log(this)}render_all(){let t=document.getElementById("projection"),e=t.options[t.selectedIndex].value;console.log(e),this.view.renderer.render(this.model.get_nodes(),this.model.get_links())}}}).call(this,n(30))},function(t,e,n){(function(n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,s){var a=o.URL||o.webkitURL,u=document.createElement("a");n=n||t.name||"download",u.download=n,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?r(u):i(u.href)?e(t,n,s):r(u,u.target="_blank")):(u.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(u.href)}),4e4),setTimeout((function(){r(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),n);else if(i(t))e(t,n,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){r(s)}))}}:function(t,n,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,a=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&a)&&"object"==typeof FileReader){var h=new FileReader;h.onloadend=function(){var t=h.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},h.readAsDataURL(t)}else{var l=o.URL||o.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout((function(){l.revokeObjectURL(c)}),4e4)}});o.saveAs=s.saveAs=s,t.exports=s})?i.apply(e,r):i)||(t.exports=o)}).call(this,n(30))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return E}));var i=n(213),r=n(85),o=n(86),s=n(48),a=n(100),u=n(133),h=n(135),l=n(136),c=n(59),f=n(72),p=n(67),d=n(66),g=n(87),y=n(214),m=n(88),_=n(11),v=n(22),b=n(0),x=n(99),w=n(132);class E{constructor(e){Object.keys(t.projections).forEach(e=>x.a.defs(e,t.projections[e].proj4)),Object(w.a)(x.a);var n=document.createElement("div");n.id="ExportMap",n.className="custom-control";var o=new s.a({element:n});this.map=new i.a({controls:Object(a.a)().extend([o,new u.a]),target:"Mapcontainer",layers:[new h.a({source:new y.a})],renderer:"webgl",view:new r.a({center:[0,0],zoom:10,projection:Object(_.g)("Mercator / EPSG:3857"),minZoom:-3,multiWorld:!1})}),this._extent_size=1e7,this._scale_node_size=v.h(),this._node_size_var="degree",this._node_size_ratio=100,this._scale_link_size=v.h(),this._link_size_ratio=100}fresh(){this.map.updateSize(),this.map.render()}nodeStyle(t){return new f.b({stroke:new p.a({color:"white",width:0}),fill:new d.a({color:"rgba(0,0,0,0.7)"})})}nodeSizeScale(t){return this._scale_node_size(+t.properties[this._node_size_var])}add_nodes(t){var e=this.map;this.map.removeLayer(this.get_layer("nodes"));let n=t.map((function(t){return{center:Object(_.j)([t.geometry.coordinates[1],t.geometry.coordinates[0]],"EPSG:4326",e.getView().getProjection()),properties:t.properties,id:t.id}})),i=[v.e(n,t=>t.center[0]),v.f(n,t=>t.center[0])],r=[v.e(n,t=>t.center[1]),v.f(n,t=>t.center[1])];this._extent_size=Math.min(i[0]-i[1],r[0]-r[1]);let s=v.e(t,t=>t.properties[this._node_size_var]);this._scale_node_size.range([0,this._extent_size/100*(this._node_size_ratio/100)]).domain([0,s]);var a=this.nodeSizeScale.bind(this);n=n.map((function(t){return{center:t.center,radius:a(t),properties:t.properties,id:t.id}})),this.proj_nodes=n,this.proj_nodes_hash={},n.forEach(t=>this.proj_nodes_hash[t.id]=t);let u=new m.a({features:n.map(t=>new o.a(new l.a(t.center,t.radius)))}),h=new g.a({name:"nodes",source:u,renderMode:"image",style:this.nodeStyle.bind(this)});this.map.addLayer(h),this.map.getView().fit(Object(b.b)(n.map(t=>t.center)))}update_nodes(t){console.log("up");var e=this.map;e.removeLayer(this.get_layer("nodes"));let n=t.map((function(t){return{center:Object(_.j)([t.geometry.coordinates[1],t.geometry.coordinates[0]],"EPSG:4326",e.getView().getProjection()),properties:t.properties,id:t.id}}));var i=this.nodeSizeScale.bind(this);n=n.map((function(t){return{center:t.center,radius:i(t),properties:t.properties,id:t.id}})),this.proj_nodes=n,this.proj_nodes_hash={},n.forEach(t=>this.proj_nodes_hash[t.id]=t);let r=new m.a({features:n.map(t=>new o.a(new l.a(t.center,t.radius)))}),s=new g.a({name:"nodes",source:r,renderMode:"image",style:this.nodeStyle.bind(this)});this.map.addLayer(s)}linkStyle(t){return new f.b({fill:new d.a({color:"rgba(0,0,0,0.1)"})})}add_links(t){this.map.removeLayer(this.get_layer("links"));let e={geometry:{head:{height:.3,width:.5}},ratioBounds:.9},n=v.e(t,t=>t.value);this._scale_link_size.range([0,this._extent_size/100*(this._node_size_ratio/100)]).domain([0,n]);var i=this._scale_link_size,r=this.proj_nodes_hash;let s=t.map((function(t){let n=t.key.split("->")[0],o=t.key.split("->")[1],s=i(t.value);return M(e,r[n].center,r[o].center,r[n].radius,r[o].radius,s)})).map(t=>new o.a(new c.a([t])));this.links=new m.a({features:s}),this.linksLayer=new g.a({name:"links",source:this.links,style:this.linkStyle.bind(this),renderMode:"image"}),this.map.addLayer(this.linksLayer)}update_links(t){this.map.removeLayer(this.get_layer("links"));let e={geometry:{head:{height:.3,width:.5}},ratioBounds:.9};var n=this._scale_link_size,i=this.proj_nodes_hash;let r=t.map((function(t){let r=t.key.split("->")[0],o=t.key.split("->")[1],s=n(t.value);return M(e,i[r].center,i[o].center,i[r].radius,i[o].radius,s)})).map(t=>new o.a(new c.a([t]))),s=new m.a({features:r}),a=new g.a({name:"links",source:s,style:this.linkStyle.bind(this),renderMode:"image"});this.map.addLayer(a)}set_projection(t,e,n){let i=Object(_.g)(t);console.log(i),this.map.setView(new r.a({center:[0,0],zoom:10,projection:i,minZoom:-3,multiWorld:!1})),this.add_nodes(e),this.add_links(n)}render(t,e){this.update_nodes(t),this.update_links(e)}get_layer(t){let e=this.map.getLayers().getArray();for(let n=0;n<e.length;n++)if(e[n].values_.name==t)return e[n]}}function C(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],a=Math.atan2(s-r,o-i);return[[Math.sin(a)*n+i,-Math.cos(a)*n+r],[Math.sin(a)*n+o,-Math.cos(a)*n+s]]}function S(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],a=Math.atan2(s-r,o-i);return[Math.cos(a)*n+i,Math.sin(a)*n+r]}function M(t,e,n,i,r,o){var s=e[0],a=e[1],u=n[0],h=n[1],l=(Math.atan2(h-a,u-s),S(n,e,r)),c=S(e,n,i),f=t.geometry.head.height,p=t.geometry.head.width,d=Math.sqrt((l[0]-c[0])*(l[0]-c[0])+(l[1]-c[1])*(l[1]-c[1])),g=C(c,l,2.5*t.ratioBounds),y=Math.min(f*o+o,.5*d),m=S(g[1],g[0],y),_=C(g[0],m,o);m=C(g[0],m,o+p*o)[1];return[g[0],g[1],m,_[1],_[0],g[0]]}}).call(this,n(30))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(11),r=n(43),o=n(51);function s(t){var e,n,s=Object.keys(t.defs),a=s.length;for(e=0;e<a;++e){var u=s[e];if(!Object(i.g)(u)){var h=t.defs(u);Object(i.d)(new o.a({code:u,axisOrientation:h.axis,metersPerUnit:h.to_meter,units:h.units}))}}for(e=0;e<a;++e){var l=s[e],c=Object(i.g)(l);for(n=0;n<a;++n){var f=s[n],p=Object(i.g)(f);if(!Object(r.c)(l,f))if(t.defs[l]===t.defs[f])Object(i.c)([c,p]);else{var d=t(l,f);Object(i.b)(c,p,d.forward,d.inverse)}}}}},function(t,e,n){"use strict";var i,r=n(48),o=n(19),s=n(13),a=n(1),u=n(4),h=function(){if(!i){var t=document.body;t.webkitRequestFullscreen?i="webkitfullscreenchange":t.mozRequestFullScreen?i="mozfullscreenchange":t.msRequestFullscreen?i="MSFullscreenChange":t.requestFullscreen&&(i="fullscreenchange")}return i},l=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target}),this.cssClassName_=void 0!==n.className?n.className:"ol-full-screen";var i=void 0!==n.label?n.label:"⤢";this.labelNode_="string"==typeof i?document.createTextNode(i):i;var r=void 0!==n.labelActive?n.labelActive:"×";this.labelActiveNode_="string"==typeof r?document.createTextNode(r):r,this.button_=document.createElement("button");var s=n.tipLabel?n.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,f()),this.button_.setAttribute("type","button"),this.button_.title=s,this.button_.appendChild(this.labelNode_),Object(a.a)(this.button_,u.a.CLICK,this.handleClick_,this);var h=this.cssClassName_+" "+o.d+" "+o.b+" "+(c()?"":o.e),l=this.element;l.className=h,l.appendChild(this.button_),this.keys_=void 0!==n.keys&&n.keys,this.source_=n.source}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(c()){var t,e=this.getMap();if(e)if(f())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(t){t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen():p(t)}(t):p(t)}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();f()?(this.setClassName_(this.button_,!0),Object(s.d)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),Object(s.d)(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var n=this.cssClassName_+"-true",i=this.cssClassName_+"-false",r=e?n:i;t.classList.remove(n),t.classList.remove(i),t.classList.add(r)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&this.listenerKeys.push(Object(a.a)(document,h(),this.handleFullScreenChange_,this))},e}(r.a);function c(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function f(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function p(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}e.a=l},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));class i{constructor(t){this.renderer=t,this.body=document.getElementsByTagName("body")[0],this.home=document.getElementById("home"),this.map_container=document.getElementById("map"),this.ModalImportNodes=document.getElementById("ModalImportNodes"),this.import_nodes_modal=n(194),this.ModalImportNodes.innerHTML=this.import_nodes_modal(),this.ModalImportLinks=document.getElementById("ModalImportLinks"),this.import_links_modal=n(209),this.ModalImportLinks.innerHTML=this.import_links_modal(),this.ModalImportStats=document.getElementById("ModalImportStats"),this.import_stats_modal=n(210),this.ModalSemioNodes=document.getElementById("ModalSemioNodes"),this.semio_nodes_modal=n(211)}import_nodes(){document.getElementById("NodesFileError").innerHTML="",document.getElementById("NodesLatSelect").style.visibility="hidden",document.getElementById("NodesLongSelect").style.visibility="hidden",document.getElementById("NodesFeaturesSelects").style.visibility="hidden",document.getElementById("NodesFileLabel").innerHTML="Nodes data File",document.getElementById("NodesImportFile").value="",t("#importNodesModal").modal()}set_nodes_file_name(t){document.getElementById("NodesFileLabel").innerHTML=t}update_import_csv(){document.getElementById("NodesLatSelect").style.visibility="visible",document.getElementById("NodesLongSelect").style.visibility="visible"}update_import_nodes_modal(t){let e=t.map(e=>0===t.indexOf(e)?"<option selected>"+e+"</option>":"<option>"+e+"</option>").join(""),n=t.map(t=>t.startsWith("lat")?"<option selected>"+t+"</option>":"<option>"+t+"</option>").join(""),i=t.map(t=>t.startsWith("lon")?"<option selected>"+t+"</option>":"<option>"+t+"</option>").join("");document.getElementById("NodesFileError").innerHTML="",document.getElementById("NodesFeaturesSelects").style.visibility="visible",document.getElementById("NodeImportID").innerHTML=e,document.getElementById("NodeImportLat").innerHTML=n,document.getElementById("NodeImportLong").innerHTML=i,document.getElementById("ImportNodes").disabled=!1}error_nodes_file(t){console.log(t),document.getElementById("NodesFileError").innerHTML="<b>An error occured during file parsing (check its structure and content)</b>"}import_links(){document.getElementById("LinksFileError").innerHTML="",document.getElementById("LinksFeaturesSelects").style.visibility="hidden",document.getElementById("LinksFileLabel").innerHTML="Flows data File",document.getElementById("LinksImportFile").value="",t("#importLinksModal").modal()}set_links_file_name(t){document.getElementById("LinksFileLabel").innerHTML=t}update_import_links_modal(t){let e=t.map(e=>0===t.indexOf(e)?"<option selected>"+e+"</option>":"<option>"+e+"</option>").join(""),n=t.map(e=>1===t.indexOf(e)?"<option selected>"+e+"</option>":"<option>"+e+"</option>").join(""),i=t.map(e=>2===t.indexOf(e)?"<option selected>"+e+"</option>":"<option>"+e+"</option>").join("");document.getElementById("LinksFileError").innerHTML="",document.getElementById("LinksFeaturesSelects").style.visibility="visible",document.getElementById("LinksImportOrigineID").innerHTML=e,document.getElementById("LinksImportDestinationID").innerHTML=n,document.getElementById("LinksImportVolume").innerHTML=i,document.getElementById("ImportLinks").disabled=!1}error_links_file(t){console.log(t),document.getElementById("LinksFileError").innerHTML="<b>An error occured during file parsing (check its structure and content)</b>"}error_zip_file(t){console.log(t)}import_end(e,n,i,r){this.ModalImportStats.innerHTML=this.import_stats_modal(e),t("#importStatsModal").modal(),this.home.style.display="none",this.map_container.style.display="block",this.renderer.fresh(),this.renderer.add_nodes(n),this.renderer.add_links(i)}set_projection(t,e,n){this.renderer.set_projection(t,e,n)}update_nodes_semio(e){console.log(e),this.ModalSemioNodes.innerHTML=this.semio_nodes_modal(e),t("#semioNodes").modal()}}}).call(this,n(89))},function(t,e,n){"use strict";var i=n(32),r=n(42),o="preload",s="useInterimTilesOnError",a=n(9),u=function(t){function e(e){var n=e||{},r=Object(a.a)({},n);delete r.preload,delete r.useInterimTilesOnError,t.call(this,r),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=i.a.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(s)},e.prototype.setUseInterimTilesOnError=function(t){this.set(s,t)},e}(r.a);u.prototype.getSource;e.a=u},function(t,e,n){"use strict";var i=n(0),r=n(5),o=n(44),s=n(52),a=function(t){function e(e,n,i){if(t.call(this),void 0!==i&&void 0===n)this.setFlatCoordinates(i,e);else{var r=n||0;this.setCenterAndRadius(e,r,i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<i){if(0===a)for(var u=0;u<this.stride;++u)n[u]=r[u];else{var h=this.getRadius()/Math.sqrt(a);n[0]=r[0]+h*o,n[1]=r[1]+h*s;for(var l=2;l<this.stride;++l)n[l]=r[l]}return n.length=this.stride,a}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Object(i.k)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return r.a.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(i.F)(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||(t[1]<=n[1]&&t[3]>=n[1]||Object(i.t)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=Object(s.a)(i,0,t,this.stride);i[r++]=i[0]+e;for(var o=1,a=this.stride;o<a;++o)i[r++]=i[o];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(o.a);a.prototype.transform,e.a=a},,,,,,,,,,function(t,e,n){
/*!
  * Bootstrap v4.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){o(t,e,n[e])}))}return t}function a(t){var n=this,i=!1;return e(this).one(u.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||u.triggerTransitionEnd(n)}),t),this}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var u={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=e[i],s=o&&u.isElement(o)?"element":(a=o,{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?u.findShadowRoot(t.parentNode):null}};e.fn.emulateTransitionEnd=a,e.event.special[u.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var h="alert",l=e.fn[h],c={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},f="alert",p="fade",d="show",g=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=u.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest("."+f)[0]),i},n._triggerCloseEvent=function(t){var n=e.Event(c.CLOSE);return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass(d),e(t).hasClass(p)){var i=u.getTransitionDurationFromElement(t);e(t).one(u.TRANSITION_END,(function(e){return n._destroyElement(t,e)})).emulateTransitionEnd(i)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger(c.CLOSED).remove()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.alert");r||(r=new t(this),i.data("bs.alert",r)),"close"===n&&r[n](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(c.CLICK_DATA_API,'[data-dismiss="alert"]',g._handleDismiss(new g)),e.fn[h]=g._jQueryInterface,e.fn[h].Constructor=g,e.fn[h].noConflict=function(){return e.fn[h]=l,g._jQueryInterface};var y=e.fn.button,m="active",_="btn",v="focus",b='[data-toggle^="button"]',x='[data-toggle="buttons"]',w='input:not([type="hidden"])',E=".active",C=".btn",S={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},M=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest(x)[0];if(i){var r=this._element.querySelector(w);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(m))t=!1;else{var o=i.querySelector(E);o&&e(o).removeClass(m)}if(t){if(r.hasAttribute("disabled")||i.hasAttribute("disabled")||r.classList.contains("disabled")||i.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(m),e(r).trigger("change")}r.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(m)),t&&e(this._element).toggleClass(m)},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(S.CLICK_DATA_API,b,(function(t){t.preventDefault();var n=t.target;e(n).hasClass(_)||(n=e(n).closest(C)),M._jQueryInterface.call(e(n),"toggle")})).on(S.FOCUS_BLUR_DATA_API,b,(function(t){var n=e(t.target).closest(C)[0];e(n).toggleClass(v,/^focus(in)?$/.test(t.type))})),e.fn.button=M._jQueryInterface,e.fn.button.Constructor=M,e.fn.button.noConflict=function(){return e.fn.button=y,M._jQueryInterface};var I="carousel",T=".bs.carousel",O=e.fn[I],N={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},L={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},A="next",R="prev",k="left",P="right",D={SLIDE:"slide"+T,SLID:"slid"+T,KEYDOWN:"keydown"+T,MOUSEENTER:"mouseenter"+T,MOUSELEAVE:"mouseleave"+T,TOUCHSTART:"touchstart"+T,TOUCHMOVE:"touchmove"+T,TOUCHEND:"touchend"+T,POINTERDOWN:"pointerdown"+T,POINTERUP:"pointerup"+T,DRAG_START:"dragstart"+T,LOAD_DATA_API:"load"+T+".data-api",CLICK_DATA_API:"click"+T+".data-api"},j="carousel",F="active",z="slide",B="carousel-item-right",q="carousel-item-left",G="carousel-item-next",U="carousel-item-prev",H="pointer-event",Y=".active",W=".active.carousel-item",X=".carousel-item",V=".carousel-item img",K=".carousel-item-next, .carousel-item-prev",$=".carousel-indicators",Z="[data-slide], [data-slide-to]",J='[data-ride="carousel"]',Q={TOUCH:"touch",PEN:"pen"},tt=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector($),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide(A)},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide(R)},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(K)&&(u.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(W);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(D.SLID,(function(){return n.to(t)}));else{if(i===t)return this.pause(),void this.cycle();var r=t>i?A:R;this._slide(r,this._items[t])}},n.dispose=function(){e(this._element).off(T),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=s({},N,t),u.typeCheckConfig(I,t,L),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(D.KEYDOWN,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&e(this._element).on(D.MOUSEENTER,(function(e){return t.pause(e)})).on(D.MOUSELEAVE,(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&Q[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){t._pointerEvent&&Q[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};e(this._element.querySelectorAll(V)).on(D.DRAG_START,(function(t){return t.preventDefault()})),this._pointerEvent?(e(this._element).on(D.POINTERDOWN,(function(t){return n(t)})),e(this._element).on(D.POINTERUP,(function(t){return i(t)})),this._element.classList.add(H)):(e(this._element).on(D.TOUCHSTART,(function(t){return n(t)})),e(this._element).on(D.TOUCHMOVE,(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),e(this._element).on(D.TOUCHEND,(function(t){return i(t)})))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(X)):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n=t===A,i=t===R,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=(r+(t===R?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},n._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(W)),o=e.Event(D.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(Y));e(n).removeClass(F);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(F)}},n._slide=function(t,n){var i,r,o,s=this,a=this._element.querySelector(W),h=this._getItemIndex(a),l=n||a&&this._getItemByDirection(t,a),c=this._getItemIndex(l),f=Boolean(this._interval);if(t===A?(i=q,r=G,o=k):(i=B,r=U,o=P),l&&e(l).hasClass(F))this._isSliding=!1;else if(!this._triggerSlideEvent(l,o).isDefaultPrevented()&&a&&l){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(l);var p=e.Event(D.SLID,{relatedTarget:l,direction:o,from:h,to:c});if(e(this._element).hasClass(z)){e(l).addClass(r),u.reflow(l),e(a).addClass(i),e(l).addClass(i);var d=parseInt(l.getAttribute("data-interval"),10);d?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=d):this._config.interval=this._config.defaultInterval||this._config.interval;var g=u.getTransitionDurationFromElement(a);e(a).one(u.TRANSITION_END,(function(){e(l).removeClass(i+" "+r).addClass(F),e(a).removeClass(F+" "+r+" "+i),s._isSliding=!1,setTimeout((function(){return e(s._element).trigger(p)}),0)})).emulateTransitionEnd(g)}else e(a).removeClass(F),e(l).addClass(F),this._isSliding=!1,e(this._element).trigger(p);f&&this.cycle()}},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.carousel"),r=s({},N,e(this).data());"object"==typeof n&&(r=s({},r,n));var o="string"==typeof n?n:r.slide;if(i||(i=new t(this,r),e(this).data("bs.carousel",i)),"number"==typeof n)i.to(n);else if("string"==typeof o){if(void 0===i[o])throw new TypeError('No method named "'+o+'"');i[o]()}else r.interval&&r.ride&&(i.pause(),i.cycle())}))},t._dataApiClickHandler=function(n){var i=u.getSelectorFromElement(this);if(i){var r=e(i)[0];if(r&&e(r).hasClass(j)){var o=s({},e(r).data(),e(this).data()),a=this.getAttribute("data-slide-to");a&&(o.interval=!1),t._jQueryInterface.call(e(r),o),a&&e(r).data("bs.carousel").to(a),n.preventDefault()}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return N}}]),t}();e(document).on(D.CLICK_DATA_API,Z,tt._dataApiClickHandler),e(window).on(D.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(J)),n=0,i=t.length;n<i;n++){var r=e(t[n]);tt._jQueryInterface.call(r,r.data())}})),e.fn[I]=tt._jQueryInterface,e.fn[I].Constructor=tt,e.fn[I].noConflict=function(){return e.fn[I]=O,tt._jQueryInterface};var et="collapse",nt=e.fn[et],it={toggle:!0,parent:""},rt={toggle:"boolean",parent:"(string|element)"},ot={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},st="show",at="collapse",ut="collapsing",ht="collapsed",lt="width",ct="height",ft=".show, .collapsing",pt='[data-toggle="collapse"]',dt=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(pt)),i=0,r=n.length;i<r;i++){var o=n[i],s=u.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter((function(e){return e===t}));null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass(st)?this.hide():this.show()},n.show=function(){var n,i,r=this;if(!(this._isTransitioning||e(this._element).hasClass(st)||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(ft)).filter((function(t){return"string"==typeof r._config.parent?t.getAttribute("data-parent")===r._config.parent:t.classList.contains(at)}))).length&&(n=null),n&&(i=e(n).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var o=e.Event(ot.SHOW);if(e(this._element).trigger(o),!o.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),i||e(n).data("bs.collapse",null));var s=this._getDimension();e(this._element).removeClass(at).addClass(ut),this._element.style[s]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(ht).attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),h=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,(function(){e(r._element).removeClass(ut).addClass(at).addClass(st),r._element.style[s]="",r.setTransitioning(!1),e(r._element).trigger(ot.SHOWN)})).emulateTransitionEnd(h),this._element.style[s]=this._element[a]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(st)){var n=e.Event(ot.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",u.reflow(this._element),e(this._element).addClass(ut).removeClass(at).removeClass(st);var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var s=this._triggerArray[o],a=u.getSelectorFromElement(s);null!==a&&(e([].slice.call(document.querySelectorAll(a))).hasClass(st)||e(s).addClass(ht).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var h=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,(function(){t.setTransitioning(!1),e(t._element).removeClass(ut).addClass(at).trigger(ot.HIDDEN)})).emulateTransitionEnd(h)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=s({},it,t)).toggle=Boolean(t.toggle),u.typeCheckConfig(et,t,rt),t},n._getDimension=function(){return e(this._element).hasClass(lt)?lt:ct},n._getParent=function(){var n,i=this;u.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(r));return e(o).each((function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])})),n},n._addAriaAndCollapsedClass=function(t,n){var i=e(t).hasClass(st);n.length&&e(n).toggleClass(ht,!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=u.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.collapse"),o=s({},it,i.data(),"object"==typeof n&&n?n:{});if(!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||(r=new t(this,o),i.data("bs.collapse",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return it}}]),t}();e(document).on(ot.CLICK_DATA_API,pt,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),i=u.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));e(r).each((function(){var t=e(this),i=t.data("bs.collapse")?"toggle":n.data();dt._jQueryInterface.call(t,i)}))})),e.fn[et]=dt._jQueryInterface,e.fn[et].Constructor=dt,e.fn[et].noConflict=function(){return e.fn[et]=nt,dt._jQueryInterface};var gt="dropdown",yt=e.fn[gt],mt=new RegExp("38|40|27"),_t={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},vt="disabled",bt="show",xt="dropup",wt="dropright",Et="dropleft",Ct="dropdown-menu-right",St="position-static",Mt='[data-toggle="dropdown"]',It=".dropdown form",Tt=".dropdown-menu",Ot=".navbar-nav",Nt=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Lt="top-start",At="top-end",Rt="bottom-start",kt="bottom-end",Pt="right-start",Dt="left-start",jt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Ft={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},zt=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(vt)){var i=t._getParentFromElement(this._element),r=e(this._menu).hasClass(bt);if(t._clearMenus(),!r){var o={relatedTarget:this._element},s=e.Event(_t.SHOW,o);if(e(i).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=i:u.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(i).addClass(St),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(i).closest(Ot).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(bt),e(i).toggleClass(bt).trigger(e.Event(_t.SHOWN,o))}}}},i.show=function(){if(!(this._element.disabled||e(this._element).hasClass(vt)||e(this._menu).hasClass(bt))){var n={relatedTarget:this._element},i=e.Event(_t.SHOW,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(bt),e(r).toggleClass(bt).trigger(e.Event(_t.SHOWN,n)))}},i.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass(vt)&&e(this._menu).hasClass(bt)){var n={relatedTarget:this._element},i=e.Event(_t.HIDE,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(bt),e(r).toggleClass(bt).trigger(e.Event(_t.HIDDEN,n)))}},i.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;e(this._element).on(_t.CLICK,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},i._getConfig=function(t){return t=s({},this.constructor.Default,e(this._element).data(),t),u.typeCheckConfig(gt,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(Tt))}return this._menu},i._getPlacement=function(){var t=e(this._element.parentNode),n=Rt;return t.hasClass(xt)?(n=Lt,e(this._menu).hasClass(Ct)&&(n=At)):t.hasClass(wt)?n=Pt:t.hasClass(Et)?n=Dt:e(this._menu).hasClass(Ct)&&(n=kt),n},i._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.dropdown");if(i||(i=new t(this,"object"==typeof n?n:null),e(this).data("bs.dropdown",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},t._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var i=[].slice.call(document.querySelectorAll(Mt)),r=0,o=i.length;r<o;r++){var s=t._getParentFromElement(i[r]),a=e(i[r]).data("bs.dropdown"),u={relatedTarget:i[r]};if(n&&"click"===n.type&&(u.clickEvent=n),a){var h=a._menu;if(e(s).hasClass(bt)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&e.contains(s,n.target))){var l=e.Event(_t.HIDE,u);e(s).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[r].setAttribute("aria-expanded","false"),e(h).removeClass(bt),e(s).removeClass(bt).trigger(e.Event(_t.HIDDEN,u)))}}}},t._getParentFromElement=function(t){var e,n=u.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if(!(/input|textarea/i.test(n.target.tagName)?32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||e(n.target).closest(Tt).length):!mt.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!e(this).hasClass(vt))){var i=t._getParentFromElement(this),r=e(i).hasClass(bt);if(r&&(!r||27!==n.which&&32!==n.which)){var o=[].slice.call(i.querySelectorAll(Nt));if(0!==o.length){var s=o.indexOf(n.target);38===n.which&&s>0&&s--,40===n.which&&s<o.length-1&&s++,s<0&&(s=0),o[s].focus()}}else{if(27===n.which){var a=i.querySelector(Mt);e(a).trigger("focus")}e(this).trigger("click")}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return jt}},{key:"DefaultType",get:function(){return Ft}}]),t}();e(document).on(_t.KEYDOWN_DATA_API,Mt,zt._dataApiKeydownHandler).on(_t.KEYDOWN_DATA_API,Tt,zt._dataApiKeydownHandler).on(_t.CLICK_DATA_API+" "+_t.KEYUP_DATA_API,zt._clearMenus).on(_t.CLICK_DATA_API,Mt,(function(t){t.preventDefault(),t.stopPropagation(),zt._jQueryInterface.call(e(this),"toggle")})).on(_t.CLICK_DATA_API,It,(function(t){t.stopPropagation()})),e.fn[gt]=zt._jQueryInterface,e.fn[gt].Constructor=zt,e.fn[gt].noConflict=function(){return e.fn[gt]=yt,zt._jQueryInterface};var Bt=e.fn.modal,qt={backdrop:!0,keyboard:!0,focus:!0,show:!0},Gt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Ut={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},Ht="modal-dialog-scrollable",Yt="modal-scrollbar-measure",Wt="modal-backdrop",Xt="modal-open",Vt="fade",Kt="show",$t=".modal-dialog",Zt=".modal-body",Jt='[data-toggle="modal"]',Qt='[data-dismiss="modal"]',te=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ee=".sticky-top",ne=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector($t),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(Vt)&&(this._isTransitioning=!0);var i=e.Event(Ut.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(Ut.CLICK_DISMISS,Qt,(function(t){return n.hide(t)})),e(this._dialog).on(Ut.MOUSEDOWN_DISMISS,(function(){e(n._element).one(Ut.MOUSEUP_DISMISS,(function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(t)})))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=e.Event(Ut.HIDE);if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=e(this._element).hasClass(Vt);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(Ut.FOCUSIN),e(this._element).removeClass(Kt),e(this._element).off(Ut.CLICK_DISMISS),e(this._dialog).off(Ut.MOUSEDOWN_DISMISS),r){var o=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,(function(t){return n._hideModal(t)})).emulateTransitionEnd(o)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return e(t).off(".bs.modal")})),e(document).off(Ut.FOCUSIN),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=s({},qt,t),u.typeCheckConfig("modal",t,Gt),t},n._showElement=function(t){var n=this,i=e(this._element).hasClass(Vt);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(Ht)?this._dialog.querySelector(Zt).scrollTop=0:this._element.scrollTop=0,i&&u.reflow(this._element),e(this._element).addClass(Kt),this._config.focus&&this._enforceFocus();var r=e.Event(Ut.SHOWN,{relatedTarget:t}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(r)};if(i){var s=u.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},n._enforceFocus=function(){var t=this;e(document).off(Ut.FOCUSIN).on(Ut.FOCUSIN,(function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()}))},n._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(Ut.KEYDOWN_DISMISS,(function(e){27===e.which&&(e.preventDefault(),t.hide())})):this._isShown||e(this._element).off(Ut.KEYDOWN_DISMISS)},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on(Ut.RESIZE,(function(e){return t.handleUpdate(e)})):e(window).off(Ut.RESIZE)},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass(Xt),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(Ut.HIDDEN)}))},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,i=e(this._element).hasClass(Vt)?Vt:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Wt,i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on(Ut.CLICK_DISMISS,(function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())})),i&&u.reflow(this._backdrop),e(this._backdrop).addClass(Kt),!t)return;if(!i)return void t();var r=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(Kt);var o=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass(Vt)){var s=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(te)),i=[].slice.call(document.querySelectorAll(ee));e(n).each((function(n,i){var r=i.style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")})),e(i).each((function(n,i){var r=i.style.marginRight,o=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")}));var r=document.body.style.paddingRight,o=e(document.body).css("padding-right");e(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}e(document.body).addClass(Xt)},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(te));e(t).each((function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""}));var n=[].slice.call(document.querySelectorAll(""+ee));e(n).each((function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")}));var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Yt,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,i){return this.each((function(){var r=e(this).data("bs.modal"),o=s({},qt,e(this).data(),"object"==typeof n&&n?n:{});if(r||(r=new t(this,o),e(this).data("bs.modal",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](i)}else o.show&&r.show(i)}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return qt}}]),t}();e(document).on(Ut.CLICK_DATA_API,Jt,(function(t){var n,i=this,r=u.getSelectorFromElement(this);r&&(n=document.querySelector(r));var o=e(n).data("bs.modal")?"toggle":s({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(n).one(Ut.SHOW,(function(t){t.isDefaultPrevented()||a.one(Ut.HIDDEN,(function(){e(i).is(":visible")&&i.focus()}))}));ne._jQueryInterface.call(e(n),o,this)})),e.fn.modal=ne._jQueryInterface,e.fn.modal.Constructor=ne,e.fn.modal.noConflict=function(){return e.fn.modal=Bt,ne._jQueryInterface};var ie=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],re={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},oe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,se=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function ae(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),r=Object.keys(e),o=[].slice.call(i.body.querySelectorAll("*")),s=function(t,n){var i=o[t],s=i.nodeName.toLowerCase();if(-1===r.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var a=[].slice.call(i.attributes),u=[].concat(e["*"]||[],e[s]||[]);a.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===ie.indexOf(n)||Boolean(t.nodeValue.match(oe)||t.nodeValue.match(se));for(var i=e.filter((function(t){return t instanceof RegExp})),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1})(t,u)||i.removeAttribute(t.nodeName)}))},a=0,u=o.length;a<u;a++)s(a);return i.body.innerHTML}var ue="tooltip",he=e.fn[ue],le=new RegExp("(^|\\s)bs-tooltip\\S+","g"),ce=["sanitize","whiteList","sanitizeFn"],fe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},pe={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},de={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:re},ge="show",ye="out",me={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},_e="fade",ve="show",be=".tooltip-inner",xe=".arrow",we="hover",Ee="focus",Ce="click",Se="manual",Me=function(){function t(t,e){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(ve))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var r=u.findShadowRoot(this.element),o=e.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var s=this.getTipElement(),a=u.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(s).addClass(_e);var h="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,l=this._getAttachment(h);this.addAttachmentClass(l);var c=this._getContainer();e(s).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(s).appendTo(c),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,s,{placement:l,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:xe},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),e(s).addClass(ve),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var f=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===ye&&t._leave(null,t)};if(e(this.tip).hasClass(_e)){var p=u.getTransitionDurationFromElement(this.tip);e(this.tip).one(u.TRANSITION_END,f).emulateTransitionEnd(p)}else f()}},i.hide=function(t){var n=this,i=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==ge&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(r),!r.isDefaultPrevented()){if(e(i).removeClass(ve),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[Ce]=!1,this._activeTrigger[Ee]=!1,this._activeTrigger[we]=!1,e(this.tip).hasClass(_e)){var s=u.getTransitionDurationFromElement(i);e(i).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(be)),this.getTitle()),e(t).removeClass(_e+" "+ve)},i.setElementContent=function(t,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=ae(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n):this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:u.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},i._getAttachment=function(t){return pe[t.toUpperCase()]},i._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(n!==Se){var i=n===we?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=n===we?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,(function(e){return t._enter(e)})).on(r,t.config.selector,(function(e){return t._leave(e)}))}})),e(this.element).closest(".modal").on("hide.bs.modal",(function(){t.element&&t.hide()})),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?Ee:we]=!0),e(n.getTipElement()).hasClass(ve)||n._hoverState===ge?n._hoverState=ge:(clearTimeout(n._timeout),n._hoverState=ge,n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){n._hoverState===ge&&n.show()}),n.config.delay.show):n.show())},i._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?Ee:we]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=ye,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){n._hoverState===ye&&n.hide()}),n.config.delay.hide):n.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach((function(t){-1!==ce.indexOf(t)&&delete n[t]})),"number"==typeof(t=s({},this.constructor.Default,n,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),u.typeCheckConfig(ue,t,this.constructor.DefaultType),t.sanitize&&(t.template=ae(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(le);null!==n&&n.length&&t.removeClass(n.join(""))},i._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(_e),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.tooltip"),r="object"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new t(this,r),e(this).data("bs.tooltip",i)),"string"==typeof n)){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return de}},{key:"NAME",get:function(){return ue}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return me}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return fe}}]),t}();e.fn[ue]=Me._jQueryInterface,e.fn[ue].Constructor=Me,e.fn[ue].noConflict=function(){return e.fn[ue]=he,Me._jQueryInterface};var Ie="popover",Te=e.fn[Ie],Oe=new RegExp("(^|\\s)bs-popover\\S+","g"),Ne=s({},Me.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Le=s({},Me.DefaultType,{content:"(string|element|function)"}),Ae="fade",Re="show",ke=".popover-header",Pe=".popover-body",De={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},je=function(t){var n,i;function o(){return t.apply(this,arguments)||this}i=t,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var s=o.prototype;return s.isWithContent=function(){return this.getTitle()||this._getContent()},s.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},s.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},s.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(ke),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(Pe),n),t.removeClass(Ae+" "+Re)},s._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},s._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(Oe);null!==n&&n.length>0&&t.removeClass(n.join(""))},o._jQueryInterface=function(t){return this.each((function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new o(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},r(o,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ne}},{key:"NAME",get:function(){return Ie}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return De}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Le}}]),o}(Me);e.fn[Ie]=je._jQueryInterface,e.fn[Ie].Constructor=je,e.fn[Ie].noConflict=function(){return e.fn[Ie]=Te,je._jQueryInterface};var Fe="scrollspy",ze=e.fn[Fe],Be={offset:10,method:"auto",target:""},qe={offset:"number",method:"string",target:"(string|element)"},Ge={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},Ue="dropdown-item",He="active",Ye='[data-spy="scroll"]',We=".nav, .list-group",Xe=".nav-link",Ve=".nav-item",Ke=".list-group-item",$e=".dropdown",Ze=".dropdown-item",Je=".dropdown-toggle",Qe="offset",tn="position",en=function(){function t(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+Xe+","+this._config.target+" "+Ke+","+this._config.target+" "+Ze,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(Ge.SCROLL,(function(t){return i._process(t)})),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?Qe:tn,i="auto"===this._config.method?n:this._config.method,r=i===tn?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var n,o=u.getSelectorFromElement(t);if(o&&(n=document.querySelector(o)),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[e(n)[i]().top+r,o]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},n.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=s({},Be,"object"==typeof t&&t?t:{})).target){var n=e(t.target).attr("id");n||(n=u.getUID(Fe),e(t.target).attr("id",n)),t.target="#"+n}return u.typeCheckConfig(Fe,t,qe),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(Ue)?(i.closest($e).find(Je).addClass(He),i.addClass(He)):(i.addClass(He),i.parents(We).prev(Xe+", "+Ke).addClass(He),i.parents(We).prev(Ve).children(Xe).addClass(He)),e(this._scrollElement).trigger(Ge.ACTIVATE,{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains(He)})).forEach((function(t){return t.classList.remove(He)}))},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.scrollspy");if(i||(i=new t(this,"object"==typeof n&&n),e(this).data("bs.scrollspy",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Be}}]),t}();e(window).on(Ge.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(Ye)),n=t.length;n--;){var i=e(t[n]);en._jQueryInterface.call(i,i.data())}})),e.fn[Fe]=en._jQueryInterface,e.fn[Fe].Constructor=en,e.fn[Fe].noConflict=function(){return e.fn[Fe]=ze,en._jQueryInterface};var nn=e.fn.tab,rn={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},on="dropdown-menu",sn="active",an="disabled",un="fade",hn="show",ln=".dropdown",cn=".nav, .list-group",fn=".active",pn="> li > .active",dn='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',gn=".dropdown-toggle",yn="> .dropdown-menu .active",mn=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(sn)||e(this._element).hasClass(an))){var n,i,r=e(this._element).closest(cn)[0],o=u.getSelectorFromElement(this._element);if(r){var s="UL"===r.nodeName||"OL"===r.nodeName?pn:fn;i=(i=e.makeArray(e(r).find(s)))[i.length-1]}var a=e.Event(rn.HIDE,{relatedTarget:this._element}),h=e.Event(rn.SHOW,{relatedTarget:i});if(i&&e(i).trigger(a),e(this._element).trigger(h),!h.isDefaultPrevented()&&!a.isDefaultPrevented()){o&&(n=document.querySelector(o)),this._activate(this._element,r);var l=function(){var n=e.Event(rn.HIDDEN,{relatedTarget:t._element}),r=e.Event(rn.SHOWN,{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(r)};n?this._activate(n,n.parentNode,l):l()}}},n.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(t,n,i){var r=this,o=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(fn):e(n).find(pn))[0],s=i&&o&&e(o).hasClass(un),a=function(){return r._transitionComplete(t,o,i)};if(o&&s){var h=u.getTransitionDurationFromElement(o);e(o).removeClass(hn).one(u.TRANSITION_END,a).emulateTransitionEnd(h)}else a()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass(sn);var r=e(n.parentNode).find(yn)[0];r&&e(r).removeClass(sn),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(sn),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),u.reflow(t),t.classList.contains(un)&&t.classList.add(hn),t.parentNode&&e(t.parentNode).hasClass(on)){var o=e(t).closest(ln)[0];if(o){var s=[].slice.call(o.querySelectorAll(gn));e(s).addClass(sn)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.tab");if(r||(r=new t(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(rn.CLICK_DATA_API,dn,(function(t){t.preventDefault(),mn._jQueryInterface.call(e(this),"show")})),e.fn.tab=mn._jQueryInterface,e.fn.tab.Constructor=mn,e.fn.tab.noConflict=function(){return e.fn.tab=nn,mn._jQueryInterface};var _n=e.fn.toast,vn={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},bn="fade",xn="hide",wn="show",En="showing",Cn={animation:"boolean",autohide:"boolean",delay:"number"},Sn={animation:!0,autohide:!0,delay:500},Mn='[data-dismiss="toast"]',In=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this;e(this._element).trigger(vn.SHOW),this._config.animation&&this._element.classList.add(bn);var n=function(){t._element.classList.remove(En),t._element.classList.add(wn),e(t._element).trigger(vn.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(xn),this._element.classList.add(En),this._config.animation){var i=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},n.hide=function(t){var n=this;this._element.classList.contains(wn)&&(e(this._element).trigger(vn.HIDE),t?this._close():this._timeout=setTimeout((function(){n._close()}),this._config.delay))},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(wn)&&this._element.classList.remove(wn),e(this._element).off(vn.CLICK_DISMISS),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},n._getConfig=function(t){return t=s({},Sn,e(this._element).data(),"object"==typeof t&&t?t:{}),u.typeCheckConfig("toast",t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on(vn.CLICK_DISMISS,Mn,(function(){return t.hide(!0)}))},n._close=function(){var t=this,n=function(){t._element.classList.add(xn),e(t._element).trigger(vn.HIDDEN)};if(this._element.classList.remove(wn),this._config.animation){var i=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.toast");if(r||(r=new t(this,"object"==typeof n&&n),i.data("bs.toast",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](this)}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return Cn}},{key:"Default",get:function(){return Sn}}]),t}();e.fn.toast=In._jQueryInterface,e.fn.toast.Constructor=In,e.fn.toast.noConflict=function(){return e.fn.toast=_n,In._jQueryInterface},function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=u,t.Alert=g,t.Button=M,t.Carousel=tt,t.Collapse=dt,t.Dropdown=zt,t.Modal=ne,t.Popover=je,t.Scrollspy=en,t.Tab=mn,t.Toast=In,t.Tooltip=Me,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(89),n(147))},function(t,e,n){"use strict";n.r(e),function(t){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],r=0,o=0;o<i.length;o+=1)if(n&&navigator.userAgent.indexOf(i[o])>=0){r=1;break}var s=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),r))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function u(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function h(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=u(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:l(h(t))}var c=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function p(t){return 11===t?c:10===t?f:c||f}function d(t){if(!t)return document.documentElement;for(var e=p(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?d(n):n:t?t.ownerDocument.documentElement:document.documentElement}function g(t){return null!==t.parentNode?g(t.parentNode):t}function y(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,u=o.commonAncestorContainer;if(t!==u&&e!==u||i.contains(r))return"BODY"===(a=(s=u).nodeName)||"HTML"!==a&&d(s.firstElementChild)!==s?d(u):u;var h=g(t);return h.host?y(h.host,e):y(t,g(e).host)}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||r;return o[n]}return t[n]}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(e,"top"),r=m(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}function v(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function b(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],p(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function x(t){var e=t.body,n=t.documentElement,i=p(10)&&getComputedStyle(n);return{height:b("Height",e,n,i),width:b("Width",e,n,i)}}var w=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),C=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function M(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function I(t){var e={};try{if(p(10)){e=t.getBoundingClientRect();var n=m(t,"top"),i=m(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?x(t.ownerDocument):{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,h=t.offsetWidth-s,l=t.offsetHeight-a;if(h||l){var c=u(t);h-=v(c,"x"),l-=v(c,"y"),r.width-=h,r.height-=l}return M(r)}function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),r="HTML"===e.nodeName,o=I(t),s=I(e),a=l(t),h=u(e),c=parseFloat(h.borderTopWidth,10),f=parseFloat(h.borderLeftWidth,10);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=M({top:o.top-s.top-c,left:o.left-s.left-f,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!i&&r){var g=parseFloat(h.marginTop,10),y=parseFloat(h.marginLeft,10);d.top-=c-g,d.bottom-=c-g,d.left-=f-y,d.right-=f-y,d.marginTop=g,d.marginLeft=y}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(d=_(d,e)),d}function O(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=T(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:m(n),a=e?0:m(n,"left"),u={top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o};return M(u)}function N(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===u(t,"position"))return!0;var n=h(t);return!!n&&N(n)}function L(t){if(!t||!t.parentElement||p())return document.documentElement;for(var e=t.parentElement;e&&"none"===u(e,"transform");)e=e.parentElement;return e||document.documentElement}function A(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?L(t):y(t,e);if("viewport"===i)o=O(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=l(h(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var u=T(a,s,r);if("HTML"!==a.nodeName||N(s))o=u;else{var c=x(t.ownerDocument),f=c.height,p=c.width;o.top+=u.top-u.marginTop,o.bottom=f+u.top,o.left+=u.left-u.marginLeft,o.right=p+u.left}}var d="number"==typeof(n=n||0);return o.left+=d?n:n.left||0,o.top+=d?n:n.top||0,o.right-=d?n:n.right||0,o.bottom-=d?n:n.bottom||0,o}function R(t){return t.width*t.height}function k(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=A(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},u=Object.keys(a).map((function(t){return S({key:t},a[t],{area:R(a[t])})})).sort((function(t,e){return e.area-t.area})),h=u.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),l=h.length>0?h[0].key:u[0].key,c=t.split("-")[1];return l+(c?"-"+c:"")}function P(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?L(e):y(e,n);return T(n,r,i)}function D(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function j(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function F(t,e,n){n=n.split("-")[0];var i=D(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",u=o?"height":"width",h=o?"width":"height";return r[s]=e[s]+e[u]/2-i[u]/2,r[a]=n===a?e[a]-i[h]:e[j(a)],r}function z(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function B(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=z(t,(function(t){return t[e]===n}));return t.indexOf(i)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=M(e.offsets.popper),e.offsets.reference=M(e.offsets.reference),e=n(e,t))})),e}function q(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=k(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=F(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=B(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function G(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function U(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function H(){return this.state.isDestroyed=!0,G(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Y(t){var e=t.ownerDocument;return e?e.defaultView:window}function W(t,e,n,i){n.updateBound=i,Y(t).addEventListener("resize",n.updateBound,{passive:!0});var r=l(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(l(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function X(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}function V(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Y(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function K(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function $(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&K(e[n])&&(i="px"),t.style[n]=e[n]+i}))}var Z=n&&/Firefox/i.test(navigator.userAgent);function J(t,e,n){var i=z(t,(function(t){return t.name===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],tt=Q.slice(3);function et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=tt.indexOf(t),i=tt.slice(n+1).concat(tt.slice(0,n));return e?i.reverse():i}var nt="flip",it="clockwise",rt="counterclockwise";function ot(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(z(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,h=-1!==a?[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))]:[s];return(h=h.map((function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return M(a)[e]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,r,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){K(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}var st={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",h=a?"width":"height",l={start:C({},u,o[u]),end:C({},u,o[u]+o[h]-s[h])};t.offsets.popper=S({},s,l[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],u=void 0;return u=K(+n)?[+n,0]:ot(n,o,s,a),"left"===a?(o.top+=u[0],o.left-=u[1]):"right"===a?(o.top+=u[0],o.left+=u[1]):"top"===a?(o.left+=u[0],o.top-=u[1]):"bottom"===a&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||d(t.instance.popper);t.instance.reference===n&&(n=d(n));var i=U("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var u=A(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=u;var h=e.priority,l=t.offsets.popper,c={primary:function(t){var n=l[t];return l[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(l[t],u[t])),C({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=l[n];return l[t]>u[t]&&!e.escapeWithReference&&(i=Math.min(l[n],u[t]-("right"===t?l.width:l.height))),C({},n,i)}};return h.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";l=S({},l,c[e](t))})),t.offsets.popper=l,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",u=s?"left":"top",h=s?"width":"height";return n[a]<o(i[u])&&(t.offsets.popper[u]=o(i[u])-n[h]),n[u]>o(i[a])&&(t.offsets.popper[u]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!J(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,h=-1!==["left","right"].indexOf(r),l=h?"height":"width",c=h?"Top":"Left",f=c.toLowerCase(),p=h?"left":"top",d=h?"bottom":"right",g=D(i)[l];a[d]-g<s[f]&&(t.offsets.popper[f]-=s[f]-(a[d]-g)),a[f]+g>s[d]&&(t.offsets.popper[f]+=a[f]+g-s[d]),t.offsets.popper=M(t.offsets.popper);var y=a[f]+a[l]/2-g/2,m=u(t.instance.popper),_=parseFloat(m["margin"+c],10),v=parseFloat(m["border"+c+"Width"],10),b=y-t.offsets.popper[f]-_-v;return b=Math.max(Math.min(s[l]-g,b),0),t.arrowElement=i,t.offsets.arrow=(C(n={},f,Math.round(b)),C(n,p,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(G(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=A(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=j(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case nt:s=[i,r];break;case it:s=et(i);break;case rt:s=et(i,!0);break;default:s=e.behavior}return s.forEach((function(a,u){if(i!==a||s.length===u+1)return t;i=t.placement.split("-")[0],r=j(i);var h=t.offsets.popper,l=t.offsets.reference,c=Math.floor,f="left"===i&&c(h.right)>c(l.left)||"right"===i&&c(h.left)<c(l.right)||"top"===i&&c(h.bottom)>c(l.top)||"bottom"===i&&c(h.top)<c(l.bottom),p=c(h.left)<c(n.left),d=c(h.right)>c(n.right),g=c(h.top)<c(n.top),y=c(h.bottom)>c(n.bottom),m="left"===i&&p||"right"===i&&d||"top"===i&&g||"bottom"===i&&y,_=-1!==["top","bottom"].indexOf(i),v=!!e.flipVariations&&(_&&"start"===o&&p||_&&"end"===o&&d||!_&&"start"===o&&g||!_&&"end"===o&&y),b=!!e.flipVariationsByContent&&(_&&"start"===o&&d||_&&"end"===o&&p||!_&&"start"===o&&y||!_&&"end"===o&&g),x=v||b;(f||m||x)&&(t.flipped=!0,(f||m)&&(i=s[u+1]),x&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=S({},t.offsets.popper,F(t.instance.popper,t.offsets.reference,t.placement)),t=B(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=j(e),t.offsets.popper=M(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!J(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=z(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=z(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=d(t.instance.popper),u=I(a),h={position:r.position},l=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(t){return t},u=o(r.width),h=o(i.width),l=-1!==["left","right"].indexOf(t.placement),c=-1!==t.placement.indexOf("-"),f=e?l||c||u%2==h%2?o:s:a,p=e?o:a;return{left:f(u%2==1&&h%2==1&&!c&&e?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:f(i.right)}}(t,window.devicePixelRatio<2||!Z),c="bottom"===n?"top":"bottom",f="right"===i?"left":"right",p=U("transform"),g=void 0,y=void 0;if(y="bottom"===c?"HTML"===a.nodeName?-a.clientHeight+l.bottom:-u.height+l.bottom:l.top,g="right"===f?"HTML"===a.nodeName?-a.clientWidth+l.right:-u.width+l.right:l.left,s&&p)h[p]="translate3d("+g+"px, "+y+"px, 0)",h[c]=0,h[f]=0,h.willChange="transform";else{var m="bottom"===c?-1:1,_="right"===f?-1:1;h[c]=y*m,h[f]=g*_,h.willChange=c+", "+f}var v={"x-placement":t.placement};return t.attributes=S({},v,t.attributes),t.styles=S({},h,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return $(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&$(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=P(r,e,t,n.positionFixed),s=k(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),$(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},at=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=S({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){i.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return S({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return E(t,[{key:"update",value:function(){return q.call(this)}},{key:"destroy",value:function(){return H.call(this)}},{key:"enableEventListeners",value:function(){return X.call(this)}},{key:"disableEventListeners",value:function(){return V.call(this)}}]),t}();at.Utils=("undefined"!=typeof window?window:t).PopperUtils,at.placements=Q,at.Defaults=st,e.default=at}.call(this,n(30))},function(t,e,n){},function(t,e,n){},function(t,e,n){var i,r;
/*!
 * Bootstrap-select v1.13.9 (https://developer.snapappointments.com/bootstrap-select)
 *
 * Copyright 2012-2019 SnapAppointments, LLC
 * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)
 */void 0===this&&void 0!==window&&window,i=[n(89)],void 0===(r=function(t){return function(t){!function(t){"use strict";var e=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function o(e,o){var s=e.nodeName.toLowerCase();if(-1!==t.inArray(s,o))return-1===t.inArray(s,n)||Boolean(e.nodeValue.match(i)||e.nodeValue.match(r));for(var a=t(o).filter((function(t,e){return e instanceof RegExp})),u=0,h=a.length;u<h;u++)if(s.match(a[u]))return!0;return!1}function s(t,e,n){if(n&&"function"==typeof n)return n(t);for(var i=Object.keys(e),r=0,s=t.length;r<s;r++)for(var a=t[r].querySelectorAll("*"),u=0,h=a.length;u<h;u++){var l=a[u],c=l.nodeName.toLowerCase();if(-1!==i.indexOf(c))for(var f=[].slice.call(l.attributes),p=[].concat(e["*"]||[],e[c]||[]),d=0,g=f.length;d<g;d++){var y=f[d];o(y,p)||l.removeAttribute(y.nodeName)}else l.parentNode.removeChild(l)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var n="classList",i="prototype",r=e.Element[i],o=Object,s=function(){var e=t(this);return{add:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.addClass(t)},remove:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.removeClass(t)},toggle:function(t,n){return e.toggleClass(t,n)},contains:function(t){return e.hasClass(t)}}};if(o.defineProperty){var a={get:s,enumerable:!0,configurable:!0};try{o.defineProperty(r,n,a)}catch(e){void 0!==e.number&&-2146823252!==e.number||(a.enumerable=!1,o.defineProperty(r,n,a))}}else o[i].__defineGetter__&&r.__defineGetter__(n,s)}}(window);var a,u,h,l=document.createElement("_");if(l.classList.add("c1","c2"),!l.classList.contains("c2")){var c=DOMTokenList.prototype.add,f=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,c.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,f.bind(this))}}if(l.classList.toggle("c3",!1),l.classList.contains("c3")){var p=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:p.call(this,t)}}function d(t){var e,n=[],i=t.selectedOptions;if(t.multiple)for(var r=0,o=i.length;r<o;r++)e=i[r],n.push(e.value||e.text);else n=t.value;return n}l=null,String.prototype.startsWith||(a=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),u={}.toString,h=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==u.call(t))throw new TypeError;var n=e.length,i=String(t),r=i.length,o=1<arguments.length?arguments[1]:void 0,s=o?Number(o):0;s!=s&&(s=0);var a=Math.min(Math.max(s,0),n);if(n<r+a)return!1;for(var h=-1;++h<r;)if(e.charCodeAt(a+h)!=i.charCodeAt(h))return!1;return!0},a?a(String.prototype,"startsWith",{value:h,configurable:!0,writable:!0}):String.prototype.startsWith=h),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var g={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,n){return n&&!g.useDefault&&t(e).data("selected",!0),g._set.apply(this,arguments)};var y=null,m=function(){try{return new Event("change"),!0}catch(t){return!1}}();function _(t,e,n,i){for(var r=["display","subtext","tokens"],o=!1,s=0;s<r.length;s++){var a=r[s],u=t[a];if(u&&(u=u.toString(),"display"===a&&(u=u.replace(/<[^>]+>/g,"")),i&&(u=C(u)),u=u.toUpperCase(),o="contains"===n?0<=u.indexOf(e):u.startsWith(e)))break}return o}function v(t){return parseInt(t,10)||0}t.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(m?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)};var b={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},x=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,w=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function E(t){return b[t]}function C(t){return(t=t.toString())&&t.replace(x,E).replace(w,"")}var S,M,I,T,O,N=(S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=function(t){return S[t]},I="(?:"+Object.keys(S).join("|")+")",T=RegExp(I),O=RegExp(I,"g"),function(t){return t=null==t?"":""+t,T.test(t)?t.replace(O,M):t}),L={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},A={success:!1,major:"3"};try{A.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),A.major=A.full[0],A.success=!0}catch(t){}var R=0,k=".bs.select",P={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},D={MENU:"."+P.MENU},j={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};j.a.setAttribute("role","option"),j.subtext.className="text-muted",j.text=j.span.cloneNode(!1),j.text.className="text",j.checkMark=j.span.cloneNode(!1);var F=new RegExp("38|40"),z=new RegExp("^9$|27"),B=function(t,e,n){var i=j.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?i.appendChild(t):i.innerHTML=t),void 0!==e&&""!==e&&(i.className=e),null!=n&&i.classList.add("optgroup-"+n),i},q=function(t,e){var n,i,r=j.text.cloneNode(!1);if(t.content)r.innerHTML=t.content;else{if(r.textContent=t.text,t.icon){var o=j.whitespace.cloneNode(!1);(i=(!0===e?j.i:j.span).cloneNode(!1)).className=t.iconBase+" "+t.icon,j.fragment.appendChild(i),j.fragment.appendChild(o)}t.subtext&&((n=j.subtext.cloneNode(!1)).textContent=t.subtext,r.appendChild(n))}if(!0===e)for(;0<r.childNodes.length;)j.fragment.appendChild(r.childNodes[0]);else j.fragment.appendChild(r);return j.fragment},G=function(e,n){var i=this;g.useDefault||(t.valHooks.select.set=g._set,g.useDefault=!0),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=n,this.selectpicker={main:{},current:{},search:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout((function(){i.selectpicker.keydown.keyHistory=""}),800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var r=this.options.windowPadding;"number"==typeof r&&(this.options.windowPadding=[r,r,r,r]),this.val=G.prototype.val,this.render=G.prototype.render,this.refresh=G.prototype.refresh,this.setStyle=G.prototype.setStyle,this.selectAll=G.prototype.selectAll,this.deselectAll=G.prototype.deselectAll,this.destroy=G.prototype.destroy,this.remove=G.prototype.remove,this.show=G.prototype.show,this.hide=G.prototype.hide,this.init()};function U(n){var i,r=arguments,o=n;if([].shift.apply(r),!A.success){try{A.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(n){G.BootstrapVersion?A.full=G.BootstrapVersion.split(" ")[0].split("."):(A.full=[A.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",n))}A.major=A.full[0],A.success=!0}if("4"===A.major){var s=[];G.DEFAULTS.style===P.BUTTONCLASS&&s.push({name:"style",className:"BUTTONCLASS"}),G.DEFAULTS.iconBase===P.ICONBASE&&s.push({name:"iconBase",className:"ICONBASE"}),G.DEFAULTS.tickIcon===P.TICKICON&&s.push({name:"tickIcon",className:"TICKICON"}),P.DIVIDER="dropdown-divider",P.SHOW="show",P.BUTTONCLASS="btn-light",P.POPOVERHEADER="popover-header",P.ICONBASE="",P.TICKICON="bs-ok-default";for(var a=0;a<s.length;a++)n=s[a],G.DEFAULTS[n.name]=P[n.className]}var u=this.each((function(){var n=t(this);if(n.is("select")){var s=n.data("selectpicker"),a="object"==typeof o&&o;if(s){if(a)for(var u in a)a.hasOwnProperty(u)&&(s.options[u]=a[u])}else{var h=n.data();for(var l in h)h.hasOwnProperty(l)&&-1!==t.inArray(l,e)&&delete h[l];var c=t.extend({},G.DEFAULTS,t.fn.selectpicker.defaults||{},h,a);c.template=t.extend({},G.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},h.template,a.template),n.data("selectpicker",s=new G(this,c))}"string"==typeof o&&(i=s[o]instanceof Function?s[o].apply(s,r):s.options[o])}}));return void 0!==i?i:u}G.VERSION="1.13.9",G.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:P.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:P.ICONBASE,tickIcon:P.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},G.prototype={constructor:G,init:function(){var t=this,e=this.$element.attr("id");this.selectId=R++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.options.showTick=this.$element[0].classList.contains("show-tick"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(D.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(P.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+k,(function(){if(t.isVirtual()){var e=t.$menuInner[0],n=e.firstChild.cloneNode(!1);e.replaceChild(n,e.firstChild),e.scrollTop=0}})),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide"+k,e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden"+k,e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show"+k,e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown"+k,e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid"+k,(function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown"+k+".invalid",(function(){t.$element.val(t.$element.val()).off("shown"+k+".invalid")})).on("rendered"+k,(function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered"+k)})),t.$button.on("blur"+k,(function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur"+k)}))})),setTimeout((function(){t.createLi(),t.$element.trigger("loaded"+k)}))},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n="",i=this.autofocus?" autofocus":"";A.major<4&&this.$element.parent().hasClass("input-group")&&(n=" input-group-btn");var r,o="",s="",a="",u="";return this.options.header&&(o='<div class="'+P.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+N(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+P.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+P.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(u='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+P.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),r='<div class="dropdown bootstrap-select'+e+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===A.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+P.MENU+" "+("4"===A.major?"":P.SHOW)+'" role="combobox">'+o+s+a+'<div class="inner '+P.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+P.MENU+" inner "+("4"===A.major?P.SHOW:"")+'"></ul></div>'+u+"</div></div>",t(r)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],n=!0;"divider"===e.type?(n=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(n=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(e,n){n=n||0;var i=this;this.selectpicker.current=e?this.selectpicker.search:this.selectpicker.main;var r,o,a=[];function u(t,n){var u,h,l,c,f,p,d,g,y,m,_=i.selectpicker.current.elements.length,v=[],b=!0,x=i.isVirtual();i.selectpicker.view.scrollTop=t,!0===x&&i.sizeInfo.hasScrollBar&&i.$menu[0].offsetWidth>i.sizeInfo.totalMenuWidth&&(i.sizeInfo.menuWidth=i.$menu[0].offsetWidth,i.sizeInfo.totalMenuWidth=i.sizeInfo.menuWidth+i.sizeInfo.scrollBarWidth,i.$menu.css("min-width",i.sizeInfo.menuWidth)),u=Math.ceil(i.sizeInfo.menuInnerHeight/i.sizeInfo.liHeight*1.5),h=Math.round(_/u)||1;for(var w=0;w<h;w++){var E=(w+1)*u;if(w===h-1&&(E=_),v[w]=[w*u+(w?1:0),E],!_)break;void 0===f&&t<=i.selectpicker.current.data[E-1].position-i.sizeInfo.menuInnerHeight&&(f=w)}if(void 0===f&&(f=0),p=[i.selectpicker.view.position0,i.selectpicker.view.position1],l=Math.max(0,f-1),c=Math.min(h-1,f+1),i.selectpicker.view.position0=!1===x?0:Math.max(0,v[l][0])||0,i.selectpicker.view.position1=!1===x?_:Math.min(_,v[c][1])||0,d=p[0]!==i.selectpicker.view.position0||p[1]!==i.selectpicker.view.position1,void 0!==i.activeIndex&&(o=i.selectpicker.main.elements[i.prevActiveIndex],a=i.selectpicker.main.elements[i.activeIndex],r=i.selectpicker.main.elements[i.selectedIndex],n&&(i.activeIndex!==i.selectedIndex&&a&&a.length&&(a.classList.remove("active"),a.firstChild&&a.firstChild.classList.remove("active")),i.activeIndex=void 0),i.activeIndex&&i.activeIndex!==i.selectedIndex&&r&&r.length&&(r.classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active"))),void 0!==i.prevActiveIndex&&i.prevActiveIndex!==i.activeIndex&&i.prevActiveIndex!==i.selectedIndex&&o&&o.length&&(o.classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active")),(n||d)&&(g=i.selectpicker.view.visibleElements?i.selectpicker.view.visibleElements.slice():[],i.selectpicker.view.visibleElements=!1===x?i.selectpicker.current.elements:i.selectpicker.current.elements.slice(i.selectpicker.view.position0,i.selectpicker.view.position1),i.setOptionStatus(),(e||!1===x&&n)&&(y=g,m=i.selectpicker.view.visibleElements,b=!(y.length===m.length&&y.every((function(t,e){return t===m[e]})))),(n||!0===x)&&b)){var C,S,M=i.$menuInner[0],I=document.createDocumentFragment(),T=M.firstChild.cloneNode(!1),O=i.selectpicker.view.visibleElements,N=[];M.replaceChild(T,M.firstChild),w=0;for(var L=O.length;w<L;w++){var A,R,k=O[w];i.options.sanitize&&(A=k.lastChild)&&(R=i.selectpicker.current.data[w+i.selectpicker.view.position0])&&R.content&&!R.sanitized&&(N.push(A),R.sanitized=!0),I.appendChild(k)}i.options.sanitize&&N.length&&s(N,i.options.whiteList,i.options.sanitizeFn),!0===x&&(C=0===i.selectpicker.view.position0?0:i.selectpicker.current.data[i.selectpicker.view.position0-1].position,S=i.selectpicker.view.position1>_-1?0:i.selectpicker.current.data[_-1].position-i.selectpicker.current.data[i.selectpicker.view.position1-1].position,M.firstChild.style.marginTop=C+"px",M.firstChild.style.marginBottom=S+"px"),M.firstChild.appendChild(I)}if(i.prevActiveIndex=i.activeIndex,i.options.liveSearch){if(e&&n){var P,D=0;i.selectpicker.view.canHighlight[D]||(D=1+i.selectpicker.view.canHighlight.slice(1).indexOf(!0)),P=i.selectpicker.view.visibleElements[D],i.selectpicker.view.currentActive&&(i.selectpicker.view.currentActive.classList.remove("active"),i.selectpicker.view.currentActive.firstChild&&i.selectpicker.view.currentActive.firstChild.classList.remove("active")),P&&(P.classList.add("active"),P.firstChild&&P.firstChild.classList.add("active")),i.activeIndex=(i.selectpicker.current.data[D]||{}).index}}else i.$menuInner.trigger("focus")}this.setPositionData(),u(n,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",(function(t,e){i.noScroll||u(this.scrollTop,e),i.noScroll=!1})),t(window).off("resize"+k+"."+this.selectId+".createView").on("resize"+k+"."+this.selectId+".createView",(function(){i.$newElement.hasClass(P.SHOW)&&u(i.$menuInner[0].scrollTop)}))},setPlaceholder:function(){var e=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=!0;var n=this.$element[0],i=!1,r=!this.selectpicker.view.titleOption.parentNode;r&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=void 0===t(n.options[n.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),(r||0!==this.selectpicker.view.titleOption.index)&&n.insertBefore(this.selectpicker.view.titleOption,n.firstChild),i&&(n.selectedIndex=0)}return e},createLi:function(){var t=this,e=this.options.iconBase,n=':not([hidden]):not([data-hidden="true"])',i=[],r=[],o=0,s=0,a=this.setPlaceholder()?1:0;this.options.hideDisabled&&(n+=":not(:disabled)"),!t.options.showTick&&!t.multiple||j.checkMark.parentNode||(j.checkMark.className=e+" "+t.options.tickIcon+" check-mark",j.a.appendChild(j.checkMark));var u=this.$element[0].querySelectorAll("select > *"+n);function h(t){var e=r[r.length-1];e&&"divider"===e.type&&(e.optID||t.optID)||((t=t||{}).type="divider",i.push(B(!1,P.DIVIDER,t.optID?t.optID+"div":void 0)),r.push(t))}function l(n,s){if((s=s||{}).divider="true"===n.getAttribute("data-divider"),s.divider)h({optID:s.optID});else{var a=r.length,u=n.style.cssText,l=u?N(u):"",c=(n.className||"")+(s.optgroupClass||"");s.optID&&(c="opt "+c),s.text=n.textContent,s.content=n.getAttribute("data-content"),s.tokens=n.getAttribute("data-tokens"),s.subtext=n.getAttribute("data-subtext"),s.icon=n.getAttribute("data-icon"),s.iconBase=e;var f=q(s);i.push(B(function(t,e,n){var i=j.a.cloneNode(!0);return t&&(11===t.nodeType?i.appendChild(t):i.insertAdjacentHTML("beforeend",t)),void 0!==e&&""!==e&&(i.className=e),"4"===A.major&&i.classList.add("dropdown-item"),n&&i.setAttribute("style",n),i}(f,c,l),"",s.optID)),n.liIndex=a,s.display=s.content||s.text,s.type="option",s.index=a,s.option=n,s.disabled=s.disabled||n.disabled,r.push(s);var p=0;s.display&&(p+=s.display.length),s.subtext&&(p+=s.subtext.length),s.icon&&(p+=1),o<p&&(o=p,t.selectpicker.view.widestOption=i[i.length-1])}}function c(t,o){var a=o[t],u=o[t-1],c=o[t+1],f=a.querySelectorAll("option"+n);if(f.length){var p,d,g={label:N(a.label),subtext:a.getAttribute("data-subtext"),icon:a.getAttribute("data-icon"),iconBase:e},y=" "+(a.className||"");s++,u&&h({optID:s});var m=function(t){var e,n,i=j.text.cloneNode(!1);if(i.innerHTML=t.label,t.icon){var r=j.whitespace.cloneNode(!1);(n=j.span.cloneNode(!1)).className=t.iconBase+" "+t.icon,j.fragment.appendChild(n),j.fragment.appendChild(r)}return t.subtext&&((e=j.subtext.cloneNode(!1)).textContent=t.subtext,i.appendChild(e)),j.fragment.appendChild(i),j.fragment}(g);i.push(B(m,"dropdown-header"+y,s)),r.push({display:g.label,subtext:g.subtext,type:"optgroup-label",optID:s});for(var _=0,v=f.length;_<v;_++){var b=f[_];0===_&&(d=(p=r.length-1)+v),l(b,{headerIndex:p,lastIndex:d,optID:s,optgroupClass:y,disabled:a.disabled})}c&&h({optID:s})}}for(var f=u.length;a<f;a++){var p=u[a];"OPTGROUP"!==p.tagName?l(p,{}):c(a,u)}this.selectpicker.main.elements=i,this.selectpicker.main.data=r,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var t,e,n=this,i=this.$element[0].selectedOptions,r=i.length,o=this.$button[0],a=o.querySelector(".filter-option-inner-inner"),u=document.createTextNode(this.options.multipleSeparator),h=j.fragment.cloneNode(!1),l=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)h=q({text:this.options.title},!0);else if((t=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<r)&&(t=1<(e=this.options.selectedTextFormat.split(">")).length&&r>e[1]||1===e.length&&2<=r),!1===t){for(var c=0;c<r&&c<50;c++){var f=i[c],p={},d={content:f.getAttribute("data-content"),subtext:f.getAttribute("data-subtext"),icon:f.getAttribute("data-icon")};this.multiple&&0<c&&h.appendChild(u.cloneNode(!1)),f.title?p.text=f.title:d.content&&n.options.showContent?(p.content=d.content.toString(),l=!0):(n.options.showIcon&&(p.icon=d.icon,p.iconBase=this.options.iconBase),n.options.showSubtext&&!n.multiple&&d.subtext&&(p.subtext=" "+d.subtext),p.text=f.textContent.trim()),h.appendChild(q(p,!0))}49<r&&h.appendChild(document.createTextNode("..."))}else{var g=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(g+=":not(:disabled)");var y=this.$element[0].querySelectorAll("select > option"+g+", optgroup"+g+" option"+g).length,m="function"==typeof this.options.countSelectedText?this.options.countSelectedText(r,y):this.options.countSelectedText;h=q({text:m.replace("{0}",r.toString()).replace("{1}",y.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),h.childNodes.length||(h=q({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),o.title=h.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&l&&s([h],n.options.whiteList,n.options.sanitizeFn),a.innerHTML="",a.appendChild(h),A.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var _=o.querySelector(".filter-expand"),v=a.cloneNode(!0);v.className="filter-expand",_?o.replaceChild(v,_):o.appendChild(v)}this.$element.trigger("rendered"+k)},setStyle:function(t,e){var n,i=this.$button[0],r=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),A.major<4&&(r.classList.add("bs3"),r.parentNode.classList.contains("input-group")&&(r.previousElementSibling||r.nextElementSibling)&&(r.previousElementSibling||r.nextElementSibling).classList.contains("input-group-addon")&&r.classList.add("bs3-has-addon")),n=t?t.trim():o,"add"==e?n&&i.classList.add.apply(i.classList,n.split(" ")):"remove"==e?n&&i.classList.remove.apply(i.classList,n.split(" ")):(o&&i.classList.remove.apply(i.classList,o.split(" ")),n&&i.classList.add.apply(i.classList,n.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),o=document.createElement("ul"),s=document.createElement("li"),a=document.createElement("li"),u=document.createElement("li"),h=document.createElement("a"),l=document.createElement("span"),c=this.options.header&&0<this.$menu.find("."+P.POPOVERHEADER).length?this.$menu.find("."+P.POPOVERHEADER)[0].cloneNode(!0):null,f=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,d=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,g=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,l.className="text",h.className="dropdown-item "+(g?g.className:""),n.className=this.$menu[0].parentNode.className+" "+P.SHOW,n.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(i.style.minWidth=0),i.className=P.MENU+" "+P.SHOW,r.className="inner "+P.SHOW,o.className=P.MENU+" inner "+("4"===A.major?P.SHOW:""),s.className=P.DIVIDER,a.className="dropdown-header",l.appendChild(document.createTextNode("​")),h.appendChild(l),u.appendChild(h),a.appendChild(l.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(u),o.appendChild(s),o.appendChild(a),c&&i.appendChild(c),f){var y=document.createElement("input");f.className="bs-searchbox",y.className="form-control",f.appendChild(y),i.appendChild(f)}p&&i.appendChild(p),r.appendChild(o),i.appendChild(r),d&&i.appendChild(d),n.appendChild(i),document.body.appendChild(n);var m,_=u.offsetHeight,b=a?a.offsetHeight:0,x=c?c.offsetHeight:0,w=f?f.offsetHeight:0,E=p?p.offsetHeight:0,C=d?d.offsetHeight:0,S=t(s).outerHeight(!0),M=!!window.getComputedStyle&&window.getComputedStyle(i),I=i.offsetWidth,T=M?null:t(i),O={vert:v(M?M.paddingTop:T.css("paddingTop"))+v(M?M.paddingBottom:T.css("paddingBottom"))+v(M?M.borderTopWidth:T.css("borderTopWidth"))+v(M?M.borderBottomWidth:T.css("borderBottomWidth")),horiz:v(M?M.paddingLeft:T.css("paddingLeft"))+v(M?M.paddingRight:T.css("paddingRight"))+v(M?M.borderLeftWidth:T.css("borderLeftWidth"))+v(M?M.borderRightWidth:T.css("borderRightWidth"))},N={vert:O.vert+v(M?M.marginTop:T.css("marginTop"))+v(M?M.marginBottom:T.css("marginBottom"))+2,horiz:O.horiz+v(M?M.marginLeft:T.css("marginLeft"))+v(M?M.marginRight:T.css("marginRight"))+2};r.style.overflowY="scroll",m=i.offsetWidth-I,document.body.removeChild(n),this.sizeInfo.liHeight=_,this.sizeInfo.dropdownHeaderHeight=b,this.sizeInfo.headerHeight=x,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=E,this.sizeInfo.doneButtonHeight=C,this.sizeInfo.dividerHeight=S,this.sizeInfo.menuPadding=O,this.sizeInfo.menuExtras=N,this.sizeInfo.menuWidth=I,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=m,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,n=t(window),i=this.$newElement.offset(),r=t(this.options.container);this.options.container&&r.length&&!r.is("body")?((e=r.offset()).top+=parseInt(r.css("borderTopWidth")),e.left+=parseInt(r.css("borderLeftWidth"))):e={top:0,left:0};var o=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-o[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(t){this.getSelectPosition();var e,n,i,r,o,s,a,u=this.sizeInfo.selectWidth,h=this.sizeInfo.liHeight,l=this.sizeInfo.headerHeight,c=this.sizeInfo.searchHeight,f=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,d=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,y=0;if(this.options.dropupAuto&&(a=h*this.selectpicker.current.elements.length+g.vert,this.$newElement.toggleClass(P.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)r=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=r+l+c+f+p,s=Math.max(r-g.vert,0),this.$newElement.hasClass(P.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),e=(o=n)-l-c-f-p-g.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var m=0;m<this.options.size;m++)"divider"===this.selectpicker.current.data[m].type&&y++;e=(n=h*this.options.size+y*d+g.vert)-g.vert,o=n+l+c+f+p,i=s=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(P.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-u),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":s+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n,i=this,r=t(window),o=0;if(this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",(function(){return i.setMenuSize()})),"auto"===this.options.size?r.off("resize"+k+"."+this.selectId+".setMenuSize scroll"+k+"."+this.selectId+".setMenuSize").on("resize"+k+"."+this.selectId+".setMenuSize scroll"+k+"."+this.selectId+".setMenuSize",(function(){return i.setMenuSize()})):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&r.off("resize"+k+"."+this.selectId+".setMenuSize scroll"+k+"."+this.selectId+".setMenuSize"),e)o=this.$menuInner[0].scrollTop;else if(!i.multiple){var s=i.$element[0];"number"==typeof(n=(s.options[s.selectedIndex]||{}).liIndex)&&!1!==i.options.size&&(o=(o=i.sizeInfo.liHeight*n)-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2)}i.createView(!1,o)}},setWidth:function(){var t=this;"auto"===this.options.width?requestAnimationFrame((function(){t.$menu.css("min-width","0"),t.$element.on("loaded"+k,(function(){t.liHeight(),t.setMenuSize();var e=t.$newElement.clone().appendTo("body"),n=e.css("width","auto").children("button").outerWidth();e.remove(),t.sizeInfo.selectWidth=Math.max(t.sizeInfo.totalMenuWidth,n),t.$newElement.css("width",t.sizeInfo.selectWidth+"px")}))})):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,n,i,r=this,o=t(this.options.container),s=function(s){var a={},u=r.options.display||!!t.fn.dropdown.Constructor.Default&&t.fn.dropdown.Constructor.Default.display;r.$bsContainer.addClass(s.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(P.DROPUP,s.hasClass(P.DROPUP)),e=s.offset(),o.is("body")?n={top:0,left:0}:((n=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),i=s.hasClass(P.DROPUP)?0:s[0].offsetHeight,(A.major<4||"static"===u)&&(a.top=e.top-n.top+i,a.left=e.left-n.left),a.width=s[0].offsetWidth,r.$bsContainer.css(a)};this.$button.on("click.bs.dropdown.data-api",(function(){r.isDisabled()||(s(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(P.SHOW,!r.$button.hasClass(P.SHOW)).append(r.$menu))})),t(window).off("resize"+k+"."+this.selectId+" scroll"+k+"."+this.selectId).on("resize"+k+"."+this.selectId+" scroll"+k+"."+this.selectId,(function(){r.$newElement.hasClass(P.SHOW)&&s(r.$newElement)})),this.$element.on("hide"+k,(function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()}))},setOptionStatus:function(){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length)for(var e=0;e<t.selectpicker.view.visibleElements.length;e++){var n=t.selectpicker.current.data[e+t.selectpicker.view.position0],i=n.option;i&&(t.setDisabled(n.index,n.disabled),t.setSelected(n.index,i.selected))}},setSelected:function(t,e){var n,i,r=this.selectpicker.main.elements[t],o=this.selectpicker.main.data[t],s=void 0!==this.activeIndex,a=this.activeIndex===t||e&&!this.multiple&&!s;o.selected=e,i=r.firstChild,e&&(this.selectedIndex=t),r.classList.toggle("selected",e),r.classList.toggle("active",a),a&&(this.selectpicker.view.currentActive=r,this.activeIndex=t),i&&(i.classList.toggle("selected",e),i.classList.toggle("active",a),i.setAttribute("aria-selected",e)),a||!s&&e&&void 0!==this.prevActiveIndex&&((n=this.selectpicker.main.elements[this.prevActiveIndex]).classList.remove("active"),n.firstChild&&n.firstChild.classList.remove("active"))},setDisabled:function(t,e){var n,i=this.selectpicker.main.elements[t];this.selectpicker.main.data[t].disabled=e,n=i.firstChild,i.classList.toggle(P.DISABLED,e),n&&("4"===A.major&&n.classList.toggle(P.DISABLED,e),n.setAttribute("aria-disabled",e),e?n.setAttribute("tabindex",-1):n.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement[0].classList.add(P.DISABLED),this.$button.addClass(P.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(P.DISABLED)&&(this.$newElement[0].classList.remove(P.DISABLED),this.$button.removeClass(P.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",(function(){return!t.isDisabled()}))},togglePlaceholder:function(){var t=this.$element[0],e=t.selectedIndex,n=-1===e;n||t.options[e].value||(n=!0),this.$button.toggleClass("bs-placeholder",n)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,n=t(document);function i(){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$menuInner.trigger("focus")}function r(){e.dropdown&&e.dropdown._popper&&e.dropdown._popper.state.isCreated?i():requestAnimationFrame(r)}n.data("spaceSelect",!1),this.$button.on("keyup",(function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))})),this.$newElement.on("show.bs.dropdown",(function(){3<A.major&&!e.dropdown&&(e.dropdown=e.$button.data("bs.dropdown"),e.dropdown._menu=e.$menu[0])})),this.$button.on("click.bs.dropdown.data-api",(function(){e.$newElement.hasClass(P.SHOW)||e.setSize()})),this.$element.on("shown"+k,(function(){e.$menuInner[0].scrollTop!==e.selectpicker.view.scrollTop&&(e.$menuInner[0].scrollTop=e.selectpicker.view.scrollTop),3<A.major?requestAnimationFrame(r):i()})),this.$menuInner.on("click","li a",(function(n,i){var r=t(this),o=e.isVirtual()?e.selectpicker.view.position0:0,s=e.selectpicker.current.data[r.parent().index()+o],a=s.index,u=d(e.$element[0]),h=e.$element.prop("selectedIndex"),l=!0;if(e.multiple&&1!==e.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!r.parent().hasClass(P.DISABLED)){var c=e.$element.find("option"),f=s.option,p=t(f),g=f.selected,m=p.parent("optgroup"),_=m.find("option"),v=e.options.maxOptions,b=m.data("maxOptions")||!1;if(a===e.activeIndex&&(i=!0),i||(e.prevActiveIndex=e.activeIndex,e.activeIndex=void 0),e.multiple){if(f.selected=!g,e.setSelected(a,!g),r.trigger("blur"),!1!==v||!1!==b){var x=v<c.filter(":selected").length,w=b<m.find("option:selected").length;if(v&&x||b&&w)if(v&&1==v){c.prop("selected",!1),p.prop("selected",!0);for(var E=0;E<c.length;E++)e.setSelected(E,!1);e.setSelected(a,!0)}else if(b&&1==b){for(m.find("option:selected").prop("selected",!1),p.prop("selected",!0),E=0;E<_.length;E++)f=_[E],e.setSelected(c.index(f),!1);e.setSelected(a,!0)}else{var C="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,S="function"==typeof C?C(v,b):C,M=S[0].replace("{n}",v),I=S[1].replace("{n}",b),T=t('<div class="notify"></div>');S[2]&&(M=M.replace("{var}",S[2][1<v?0:1]),I=I.replace("{var}",S[2][1<b?0:1])),p.prop("selected",!1),e.$menu.append(T),v&&x&&(T.append(t("<div>"+M+"</div>")),l=!1,e.$element.trigger("maxReached"+k)),b&&w&&(T.append(t("<div>"+I+"</div>")),l=!1,e.$element.trigger("maxReachedGrp"+k)),setTimeout((function(){e.setSelected(a,!1)}),10),T.delay(750).fadeOut(300,(function(){t(this).remove()}))}}}else c.prop("selected",!1),f.selected=!0,e.setSelected(a,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.trigger("focus"):e.options.liveSearch&&e.$searchbox.trigger("focus"),l&&(u!=d(e.$element[0])&&e.multiple||h!=e.$element.prop("selectedIndex")&&!e.multiple)&&(y=[f.index,p.prop("selected"),u],e.$element.triggerNative("change"))}})),this.$menu.on("click","li."+P.DISABLED+" a, ."+P.POPOVERHEADER+", ."+P.POPOVERHEADER+" :not(.close)",(function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.trigger("focus"):e.$button.trigger("focus"))})),this.$menuInner.on("click",".divider, .dropdown-header",(function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus")})),this.$menu.on("click","."+P.POPOVERHEADER+" .close",(function(){e.$button.trigger("click")})),this.$searchbox.on("click",(function(t){t.stopPropagation()})),this.$menu.on("click",".actions-btn",(function(n){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus"),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()})),this.$element.on("change"+k,(function(){e.render(),e.$element.trigger("changed"+k,y),y=null})).on("focus"+k,(function(){e.options.mobile||e.$button.trigger("focus")}))},liveSearchListener:function(){var t=this,e=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",(function(){t.$searchbox.val()&&t.$searchbox.val("")})),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",(function(t){t.stopPropagation()})),this.$searchbox.on("input propertychange",(function(){var n=t.$searchbox.val();if(t.selectpicker.search.elements=[],t.selectpicker.search.data=[],n){var i=[],r=n.toUpperCase(),o={},s=[],a=t._searchStyle(),u=t.options.liveSearchNormalize;u&&(r=C(r)),t._$lisSelected=t.$menuInner.find(".selected");for(var h=0;h<t.selectpicker.main.data.length;h++){var l=t.selectpicker.main.data[h];o[h]||(o[h]=_(l,r,a,u)),o[h]&&void 0!==l.headerIndex&&-1===s.indexOf(l.headerIndex)&&(0<l.headerIndex&&(o[l.headerIndex-1]=!0,s.push(l.headerIndex-1)),o[l.headerIndex]=!0,s.push(l.headerIndex),o[l.lastIndex+1]=!0),o[h]&&"optgroup-label"!==l.type&&s.push(h)}h=0;for(var c=s.length;h<c;h++){var f=s[h],p=s[h-1],d=(l=t.selectpicker.main.data[f],t.selectpicker.main.data[p]);("divider"!==l.type||"divider"===l.type&&d&&"divider"!==d.type&&c-1!==h)&&(t.selectpicker.search.data.push(l),i.push(t.selectpicker.main.elements[f]))}t.activeIndex=void 0,t.noScroll=!0,t.$menuInner.scrollTop(0),t.selectpicker.search.elements=i,t.createView(!0),i.length||(e.className="no-results",e.innerHTML=t.options.noneResultsText.replace("{0}",'"'+N(n)+'"'),t.$menuInner[0].firstChild.appendChild(e))}else t.$menuInner.scrollTop(0),t.createView(!1)}))},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){if(void 0===t)return this.$element.val();var e=d(this.$element[0]);return y=[null,null,e],this.$element.val(t).trigger("changed"+k,y),this.render(),y=null,this.$element},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element[0],n=0,i=0,r=d(e);e.classList.add("bs-select-hidden");for(var o=0,s=this.selectpicker.current.elements.length;o<s;o++){var a=this.selectpicker.current.data[o],u=a.option;u&&!a.disabled&&"divider"!==a.type&&(a.selected&&n++,(u.selected=t)&&i++)}e.classList.remove("bs-select-hidden"),n!==i&&(this.setOptionStatus(),this.togglePlaceholder(),y=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var n,i,r,o,s,a=t(this),u=a.hasClass("dropdown-toggle"),h=(u?a.closest(".dropdown"):a.closest(D.MENU)).data("this"),l=h.findLis(),c=!1,f=9===e.which&&!u&&!h.options.selectOnTab,p=F.test(e.which)||f,d=h.$menuInner[0].scrollTop,g=h.isVirtual(),y=!0===g?h.selectpicker.view.position0:0;if(!(i=h.$newElement.hasClass(P.SHOW))&&(p||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(h.$button.trigger("click.bs.dropdown.data-api"),h.options.liveSearch))h.$searchbox.trigger("focus");else{if(27===e.which&&i&&(e.preventDefault(),h.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),p){if(!l.length)return;void 0===(n=!0===g?l.index(l.filter(".active")):h.activeIndex)&&(n=-1),-1!==n&&((r=h.selectpicker.current.elements[n+y]).classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active")),38===e.which?(-1!==n&&n--,n+y<0&&(n+=l.length),h.selectpicker.view.canHighlight[n+y]||-1==(n=h.selectpicker.view.canHighlight.slice(0,n+y).lastIndexOf(!0)-y)&&(n=l.length-1)):(40===e.which||f)&&(++n+y>=h.selectpicker.view.canHighlight.length&&(n=0),h.selectpicker.view.canHighlight[n+y]||(n=n+1+h.selectpicker.view.canHighlight.slice(n+y+1).indexOf(!0))),e.preventDefault();var m=y+n;38===e.which?0===y&&n===l.length-1?(h.$menuInner[0].scrollTop=h.$menuInner[0].scrollHeight,m=h.selectpicker.current.elements.length-1):c=(s=(o=h.selectpicker.current.data[m]).position-o.height)<d:(40===e.which||f)&&(0===n?m=h.$menuInner[0].scrollTop=0:c=d<(s=(o=h.selectpicker.current.data[m]).position-h.sizeInfo.menuInnerHeight)),(r=h.selectpicker.current.elements[m])&&(r.classList.add("active"),r.firstChild&&r.firstChild.classList.add("active")),h.activeIndex=h.selectpicker.current.data[m].index,h.selectpicker.view.currentActive=r,c&&(h.$menuInner[0].scrollTop=s),h.options.liveSearch?h.$searchbox.trigger("focus"):a.trigger("focus")}else if(!a.is("input")&&!z.test(e.which)||32===e.which&&h.selectpicker.keydown.keyHistory){var v,b,x=[];e.preventDefault(),h.selectpicker.keydown.keyHistory+=L[e.which],h.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(h.selectpicker.keydown.resetKeyHistory.cancel),h.selectpicker.keydown.resetKeyHistory.cancel=h.selectpicker.keydown.resetKeyHistory.start(),b=h.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0));for(var w=0;w<h.selectpicker.current.data.length;w++){var E=h.selectpicker.current.data[w];_(E,b,"startsWith",!0)&&h.selectpicker.view.canHighlight[w]&&x.push(E.index)}if(x.length){var C=0;l.removeClass("active").find("a").removeClass("active"),1===b.length&&(-1===(C=x.indexOf(h.activeIndex))||C===x.length-1?C=0:C++),v=x[C],c=0<d-(o=h.selectpicker.main.data[v]).position?(s=o.position-o.height,!0):(s=o.position-h.sizeInfo.menuInnerHeight,o.position>d+h.sizeInfo.menuInnerHeight),(r=h.selectpicker.main.elements[v]).classList.add("active"),r.firstChild&&r.firstChild.classList.add("active"),h.activeIndex=x[C],r.firstChild.focus(),c&&(h.$menuInner[0].scrollTop=s),a.trigger("focus")}}i&&(32===e.which&&!h.selectpicker.keydown.keyHistory||13===e.which||9===e.which&&h.options.selectOnTab)&&(32!==e.which&&e.preventDefault(),h.options.liveSearch&&32===e.which||(h.$menuInner.find(".active a").trigger("click",!0),a.trigger("focus"),h.options.liveSearch||(e.preventDefault(),t(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var e=t.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+k)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(k).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),t(window).off(k+"."+this.selectId)}};var H=t.fn.selectpicker;t.fn.selectpicker=U,t.fn.selectpicker.Constructor=G,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=H,this},t(document).off("keydown.bs.dropdown.data-api").on("keydown"+k,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',G.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',(function(t){t.stopPropagation()})),t(window).on("load"+k+".data-api",(function(){t(".selectpicker").each((function(){var e=t(this);U.call(e,e.data())}))}))}(t)}(t)}.apply(e,i))||(t.exports=r)},function(t,e,n){},function(t,e,n){},function(t,e,n){(function(t){t.projections={"Mercator / EPSG:3857":{name:"Mercator / EPSG:3857",proj4:"+proj=merc +a=6371000 +b=6371000 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +no_defs",extent:null},"Sphere Mollweide / ESRI:53009":{name:"Sphere Mollweide / ESRI:53009",proj4:"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +a=6371000 +b=6371000 +units=m +no_defs",extent:null},"RGF93 / Lambert-93 -- France":{name:"RGF93 / Lambert-93 -- France",proj4:"+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-378305.81,6093283.21,1212610.74,7186901.68]},"ETRS89 / LAEA Europe":{name:"ETRS89 / LAEA Europe",proj4:"+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[1896628.62,1507846.05,4662111.45,6829874.45]},"World Azimuthal Equidistant":{name:"World Azimuthal Equidistant",proj4:"+proj=aeqd +lat_0=0 +lon_0=0 +x_0=0 +y_0=0 +a=6371000 +b=6371000  +units=m ",extent:null},"Transversal Mercator":{name:"Transversal Mercator",proj4:"+proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 +ellps=bessel +towgs84=598.1,73.7,418.2,0.202,0.045,-2.455,6.7 +units=m +no_defs",extent:[370753.1145,6382922.7769,739245.6,6624811.0577]},Gnomonic:{name:"Gnomonic",proj4:"+proj=gnom +lat_0=90 +lon_0=0 +x_0=6300000 +y_0=6300000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",extent:null},"EPSG:5479":{name:"EPSG:5479",proj4:"+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-78 +lon_0=163 +x_0=7000000 +y_0=5000000 ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[6825737.53,4189159.8,9633741.96,5782472.71]},"World Mollweide / EPSG:54009":{name:"World Mollweide / EPSG:54009",proj4:"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs",extent:[-18e6,-9e6,18e6,9e6]},"Quadrilateralized Spherical Cube":{name:"Quadrilateralized Spherical Cube",proj4:"+proj=qsc +units=m +ellps=WGS84  +lat_0=0 +lon_0=0",extent:null},Gnomonic:{name:"Gnomonic",proj4:"+proj=gnom +lat_0=90 +lon_0=0 +x_0=6300000 +y_0=6300000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",extent:null}}}).call(this,n(30))},function(t,e,n){(function(t){t.examples=[{name:"ricardo",source:"http://ricardo.medialab.sciences-po.fr/#/",text:"",zip:"",img:""}]}).call(this,n(30))},function(t,e,n){"use strict";var i=n(60),r=n(18),o=n(37),s=n(110),a=n(111),u=n(93),h=n(174),l=n(175),c=n(76),f=n(187),p=function(t,e,n){var i,s=r.getTypeOf(e),l=r.extend(n||{},a);l.date=l.date||new Date,null!==l.compression&&(l.compression=l.compression.toUpperCase()),"string"==typeof l.unixPermissions&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(t=g(t)),l.createFolders&&(i=d(t))&&y.call(this,i,!0);var p="string"===s&&!1===l.binary&&!1===l.base64;n&&void 0!==n.binary||(l.binary=!p),(e instanceof u&&0===e.uncompressedSize||l.dir||!e||0===e.length)&&(l.base64=!1,l.binary=!0,e="",l.compression="STORE",s="string");var m=null;m=e instanceof u||e instanceof o?e:c.isNode&&c.isStream(e)?new f(t,e):r.prepareContent(t,e,l.binary,l.optimizedBinaryString,l.base64);var _=new h(t,m,l);this.files[t]=_},d=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},y=function(t,e){return e=void 0!==e?e:a.createFolders,t=g(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach((function(n,i){t(n,i)&&e.push(i)})),e},file:function(t,e,n){if(1===arguments.length){if(m(t)){var i=t;return this.filter((function(t,e){return!e.dir&&i.test(t)}))}var r=this.files[this.root+t];return r&&!r.dir?r:null}return t=this.root+t,p.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(m(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=y.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=r.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var a=n.comment||this.comment||"";e=l.generateWorker(this,n,a)}catch(t){(e=new o("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=_},function(t,e,n){"use strict";e.byteLength=function(t){var e=h(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=h(t),s=i[0],a=i[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,c=a>0?s-4:s;for(n=0;n<c;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,h=u>>1,l=-7,c=n?r-1:0,f=n?-1:1,p=t[e+c];for(c+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+c],c+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+t[e+c],c+=f,l-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=h}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,u,h=8*o-r-1,l=(1<<h)-1,c=l>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+c>=1?f/u:f*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*u-1)*Math.pow(2,r),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),s=0));r>=8;t[n+p]=255&a,p+=d,a/=256,r-=8);for(s=s<<r|a,h+=r;h>0;t[n+p]=255&s,p+=d,s/=256,h-=8);t[n+p-d]|=128*g}},function(t,e,n){t.exports=r;var i=n(90).EventEmitter;function r(){i.call(this)}n(61)(r,i),r.Readable=n(91),r.Writable=n(165),r.Duplex=n(166),r.Transform=n(167),r.PassThrough=n(168),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(l(),0===i.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",h),t.removeListener("error",h),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",h),t.on("error",h),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e){},function(t,e,n){"use strict";var i=n(75).Buffer,r=n(161);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,n,r,o=i.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,r=a,e.copy(n,r),a+=s.data.length,s=s.next;return o},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,u=1,h={},l=!1,c=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},i=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,i=function(t){var e=c.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return h[u]=r,i(u),u++},f.clearImmediate=p}function p(t){delete h[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=h[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(30),n(73))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(30))},function(t,e,n){"use strict";t.exports=o;var i=n(108),r=n(69);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(61),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(92)},function(t,e,n){t.exports=n(54)},function(t,e,n){t.exports=n(91).Transform},function(t,e,n){t.exports=n(91).PassThrough},function(t,e,n){"use strict";(function(e){t.exports="function"==typeof e?e:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}}).call(this,n(106).setImmediate)},function(t,e,n){"use strict";var i=n(171);function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function h(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==r&&p(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function c(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var s=d((function(){e(r,i)}));"error"===s.status&&i(s.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}t.exports=h,h.prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},h.prototype.catch=function(t){return this.then(null,t)},h.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(r);this.state!==u?c(n,this.state===a?t:e,this.outcome):this.queue.push(new l(n,t,e));return n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=d(f,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)p(t,i);else{t.state=a,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},h.resolve=function(t){if(t instanceof this)return t;return o.resolve(new this(r),t)},h.reject=function(t){var e=new this(r);return o.reject(e,t)},h.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,u=-1,h=new this(r);for(;++u<n;)l(t[u],u);return h;function l(t,r){e.resolve(t).then((function(t){s[r]=t,++a!==n||i||(i=!0,o.resolve(h,s))}),(function(t){i||(i=!0,o.reject(h,t))}))}},h.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);var s=-1,a=new this(r);for(;++s<n;)u=t[s],e.resolve(u).then((function(t){i||(i=!0,o.resolve(a,t))}),(function(t){i||(i=!0,o.reject(a,t))}));var u;return a}},function(t,e,n){"use strict";(function(e){var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,s=new r(l),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var h=[];function l(){var t,e;i=!0;for(var n=h.length;n;){for(e=h,h=[],t=-1;++t<n;)e[t]();n=h.length}i=!1}t.exports=function(t){1!==h.push(t)||i||n()}}).call(this,n(30))},function(t,e,n){"use strict";var i=n(37),r=n(18);function o(t){i.call(this,"ConvertWorker to "+t),this.destType=t}r.inherits(o,i),o.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},t.exports=o},function(t,e,n){"use strict";var i=n(102).Readable;function r(t,e,n){i.call(this,e),this._helper=t;var r=this;t.on("data",(function(t,e){r.push(t)||r._helper.pause(),n&&n(e)})).on("error",(function(t){r.emit("error",t)})).on("end",(function(){r.push(null)}))}n(18).inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},function(t,e,n){"use strict";var i=n(110),r=n(112),o=n(60),s=n(93),a=n(37),u=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};u.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(e=e.pipe(new o.Utf8EncodeWorker)),!s&&r&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new a("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<h.length;c++)u.prototype[h[c]]=l;t.exports=u},function(t,e,n){"use strict";var i=n(115),r=n(186);e.generateWorker=function(t,e,n){var o=new r(e.streamFiles,n,e.platform,e.encodeFileName),s=0;try{t.forEach((function(t,n){s++;var r=function(t,e){var n=t||e,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,e.compression),a=n.options.compressionOptions||e.compressionOptions||{},u=n.dir,h=n.date;n._compressWorker(r,a).withStreamInfo("file",{name:t,dir:u,date:h,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(t){o.error(t)}return o}},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=n(177),o=n(18),s=n(37),a=i?"uint8array":"array";function u(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}e.magic="\b\0",o.inherits(u,s),u.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,t.data),!1)},u.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new u("Deflate",t)},e.uncompressWorker=function(){return new u("Inflate",{})}},function(t,e,n){"use strict";var i={};(0,n(50).assign)(i,n(178),n(181),n(120)),t.exports=i},function(t,e,n){"use strict";var i=n(179),r=n(50),o=n(118),s=n(95),a=n(119),u=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(s[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=i.deflateSetDictionary(this.strm,l)))throw new Error(s[n]);this._dict_set=!0}}function l(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,a=this.strm,h=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(h),a.next_out=0,a.avail_out=h),1!==(n=i.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(a.output,a.next_out))):this.onData(r.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=h,e.deflate=l,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,l(t,e)}},function(t,e,n){"use strict";var i,r=n(50),o=n(180),s=n(116),a=n(117),u=n(95);function h(t,e){return t.msg=u[e],e}function l(t){return(t<<1)-(t>4?9:0)}function c(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function p(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function d(t,e){t.pending_buf[t.pending++]=e}function g(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function y(t,e){var n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,l=t.w_mask,c=t.prev,f=t.strstart+258,p=h[o+s-1],d=h[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(h[(n=e)+s]===d&&h[n+s-1]===p&&h[n]===h[o]&&h[++n]===h[o+1]){o+=2,n++;do{}while(h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&o<f);if(i=258-(f-o),o=f-258,i>s){if(t.match_start=e,s=i,i>=a)break;p=h[o+s-1],d=h[o+s]}}}while((e=c[e&l])>u&&0!=--r);return s<=t.lookahead?s:t.lookahead}function m(t){var e,n,i,o,u,h,l,c,f,p,d=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-262)){r.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=d?i-d:0}while(--n);e=n=d;do{i=t.prev[--e],t.prev[e]=i>=d?i-d:0}while(--n);o+=d}if(0===t.strm.avail_in)break;if(h=t.strm,l=t.window,c=t.strstart+t.lookahead,f=o,p=void 0,(p=h.avail_in)>f&&(p=f),n=0===p?0:(h.avail_in-=p,r.arraySet(l,h.input,h.next_in,p,c),1===h.state.wrap?h.adler=s(h.adler,l,p,c):2===h.state.wrap&&(h.adler=a(h.adler,l,p,c)),h.next_in+=p,h.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function _(t,e){for(var n,i;;){if(t.lookahead<262){if(m(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=y(t,n)),t.match_length>=3)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function v(t,e){for(var n,i,r;;){if(t.lookahead<262){if(m(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=y(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(p(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&p(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function b(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),c(this.dyn_ltree),c(this.dyn_dtree),c(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),c(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),c(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):h(t,-2)}function E(t){var e,n=w(t);return 0===n&&((e=t.state).window_size=2*e.w_size,c(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function C(t,e,n,i,o,s){if(!t)return-2;var a=1;if(-1===e&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>9||8!==n||i<8||i>15||e<0||e>9||s<0||s>4)return h(t,-2);8===i&&(i=9);var u=new x;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new r.Buf8(2*u.w_size),u.head=new r.Buf16(u.hash_size),u.prev=new r.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new r.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=n,E(t)}i=[new b(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(m(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,p(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(p(t,!1),t.strm.avail_out),1)})),new b(4,4,8,4,_),new b(4,5,16,8,_),new b(4,6,32,32,_),new b(4,4,16,16,v),new b(8,16,32,32,v),new b(8,16,128,128,v),new b(8,32,128,256,v),new b(32,128,258,1024,v),new b(32,258,258,4096,v)],e.deflateInit=function(t,e){return C(t,e,8,15,8,0)},e.deflateInit2=C,e.deflateReset=E,e.deflateResetKeep=w,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,r,s,u;if(!t||!t.state||e>5||e<0)return t?h(t,-2):-2;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return h(t,0===t.avail_out?-5:-2);if(r.strm=t,n=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,d(r,31),d(r,139),d(r,8),r.gzhead?(d(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),d(r,255&r.gzhead.time),d(r,r.gzhead.time>>8&255),d(r,r.gzhead.time>>16&255),d(r,r.gzhead.time>>24&255),d(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),d(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(d(r,255&r.gzhead.extra.length),d(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=a(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(d(r,0),d(r,0),d(r,0),d(r,0),d(r,0),d(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),d(r,3),r.status=113);else{var y=8+(r.w_bits-8<<4)<<8;y|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(y|=32),y+=31-y%31,r.status=113,g(r,y),0!==r.strstart&&(g(r,t.adler>>>16),g(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),f(t),s=r.pending,r.pending!==r.pending_buf_size));)d(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),f(t),s=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,d(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===u&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),f(t),s=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,d(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===u&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&f(t),r.pending+2<=r.pending_buf_size&&(d(r,255&t.adler),d(r,t.adler>>8&255),t.adler=0,r.status=113)):r.status=113),0!==r.pending){if(f(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return h(t,-5);if(666===r.status&&0!==t.avail_in)return h(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var _=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(m(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,i,r,s,a=t.window;;){if(t.lookahead<=258){if(m(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=t.strstart+258;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);t.match_length=258-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(r,e):i[r.level].func(r,e);if(3!==_&&4!==_||(r.status=666),1===_||3===_)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===_&&(1===e?o._tr_align(r):5!==e&&(o._tr_stored_block(r,0,0,!1),3===e&&(c(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),f(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(d(r,255&t.adler),d(r,t.adler>>8&255),d(r,t.adler>>16&255),d(r,t.adler>>24&255),d(r,255&t.total_in),d(r,t.total_in>>8&255),d(r,t.total_in>>16&255),d(r,t.total_in>>24&255)):(g(r,t.adler>>>16),g(r,65535&t.adler)),f(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?h(t,-2):(t.state=null,113===e?h(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,i,o,a,u,h,l,f,p=e.length;if(!t||!t.state)return-2;if(2===(a=(n=t.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(t.adler=s(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===a&&(c(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new r.Buf8(n.w_size),r.arraySet(f,e,p-n.w_size,n.w_size,0),e=f,p=n.w_size),u=t.avail_in,h=t.next_in,l=t.input,t.avail_in=p,t.next_in=0,t.input=e,m(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,m(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=u,n.wrap=a,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(50);function r(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],h=new Array(576);r(h);var l=new Array(60);r(l);var c=new Array(512);r(c);var f=new Array(256);r(f);var p=new Array(29);r(p);var d,g,y,m=new Array(30);function _(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function b(t){return t<256?c[t]:c[256+(t>>>7)]}function x(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function w(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function E(t,e,n){w(t,n[2*e],n[2*e+1])}function C(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function S(t,e,n){var i,r,o=new Array(16),s=0;for(i=1;i<=15;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=C(o[a]++,a))}}function M(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function I(t){t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function T(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function O(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&T(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!T(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function N(t,e,n){var i,r,a,u,h=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],r=t.pending_buf[t.l_buf+h],h++,0===i?E(t,r,e):(E(t,(a=f[r])+256+1,e),0!==(u=o[a])&&w(t,r-=p[a],u),E(t,a=b(--i),n),0!==(u=s[a])&&w(t,i-=m[a],u))}while(h<t.last_lit);E(t,256,e)}function L(t,e){var n,i,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=h=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=h,n=t.heap_len>>1;n>=1;n--)O(t,o,n);r=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],O(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,O(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,s,a,u=e.dyn_tree,h=e.max_code,l=e.stat_desc.static_tree,c=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,g=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=u[2*u[2*(i=t.heap[n])+1]+1]+1)>d&&(o=d,g++),u[2*i+1]=o,i>h||(t.bl_count[o]++,s=0,i>=p&&(s=f[i-p]),a=u[2*i],t.opt_len+=a*(o+s),c&&(t.static_len+=a*(l[2*i+1]+s)));if(0!==g){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,g-=2}while(g>0);for(o=d;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>h||(u[2*r+1]!==o&&(t.opt_len+=(o-u[2*r+1])*u[2*r],u[2*r+1]=o),i--)}}(t,e),S(o,h,t.bl_count)}function A(t,e,n){var i,r,o=-1,s=e[1],a=0,u=7,h=4;for(0===s&&(u=138,h=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<u&&r===s||(a<h?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=r,0===s?(u=138,h=3):r===s?(u=6,h=3):(u=7,h=4))}function R(t,e,n){var i,r,o=-1,s=e[1],a=0,u=7,h=4;for(0===s&&(u=138,h=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<u&&r===s)){if(a<h)do{E(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(E(t,r,t.bl_tree),a--),E(t,16,t.bl_tree),w(t,a-3,2)):a<=10?(E(t,17,t.bl_tree),w(t,a-3,3)):(E(t,18,t.bl_tree),w(t,a-11,7));a=0,o=r,0===s?(u=138,h=3):r===s?(u=6,h=3):(u=7,h=4)}}r(m);var k=!1;function P(t,e,n,r){w(t,0+(r?1:0),3),function(t,e,n,r){I(t),r&&(x(t,n),x(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){k||(!function(){var t,e,n,i,r,u=new Array(16);for(n=0,i=0;i<28;i++)for(p[i]=n,t=0;t<1<<o[i];t++)f[n++]=i;for(f[n-1]=i,r=0,i=0;i<16;i++)for(m[i]=r,t=0;t<1<<s[i];t++)c[r++]=i;for(r>>=7;i<30;i++)for(m[i]=r<<7,t=0;t<1<<s[i]-7;t++)c[256+r++]=i;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)h[2*t+1]=8,t++,u[8]++;for(;t<=255;)h[2*t+1]=9,t++,u[9]++;for(;t<=279;)h[2*t+1]=7,t++,u[7]++;for(;t<=287;)h[2*t+1]=8,t++,u[8]++;for(S(h,287,u),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=C(t,5);d=new _(h,o,257,286,15),g=new _(l,s,0,30,15),y=new _(new Array(0),a,0,19,7)}(),k=!0),t.l_desc=new v(t.dyn_ltree,d),t.d_desc=new v(t.dyn_dtree,g),t.bl_desc=new v(t.bl_tree,y),t.bi_buf=0,t.bi_valid=0,M(t)},e._tr_stored_block=P,e._tr_flush_block=function(t,e,n,i){var r,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),L(t,t.l_desc),L(t,t.d_desc),s=function(t){var e;for(A(t,t.dyn_ltree,t.l_desc.max_code),A(t,t.dyn_dtree,t.d_desc.max_code),L(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?P(t,e,n,i):4===t.strategy||o===r?(w(t,2+(i?1:0),3),N(t,h,l)):(w(t,4+(i?1:0),3),function(t,e,n,i){var r;for(w(t,e-257,5),w(t,n-1,5),w(t,i-4,4),r=0;r<i;r++)w(t,t.bl_tree[2*u[r]+1],3);R(t,t.dyn_ltree,e-1),R(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),N(t,t.dyn_ltree,t.dyn_dtree)),M(t),i&&I(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*b(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){w(t,2,3),E(t,256,h),function(t){16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var i=n(182),r=n(50),o=n(118),s=n(120),a=n(95),u=n(119),h=n(185),l=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new h,i.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=i.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(a[n])}function f(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}c.prototype.push=function(t,e){var n,a,u,h,c,f=this.strm,p=this.options.chunkSize,d=this.options.dictionary,g=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(n=i.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&d&&(n=i.inflateSetDictionary(this.strm,d)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==s.Z_STREAM_END&&(0!==f.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(f.output,f.next_out),h=f.next_out-u,c=o.buf2string(f.output,u),f.next_out=h,f.avail_out=p-h,h&&r.arraySet(f.output,f.output,u,h,0),this.onData(c)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),f.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=c,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,n){"use strict";var i=n(50),r=n(116),o=n(117),s=n(183),a=n(184);function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(852),e.distcode=e.distdyn=new i.Buf32(592),e.sane=1,e.back=-1,0):-2}function c(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,l(t)):-2}function f(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,c(t))):-2}function p(t,e){var n,i;return t?(i=new h,t.state=i,i.window=null,0!==(n=f(t,e))&&(t.state=null),n):-2}var d,g,y=!0;function m(t){if(y){var e;for(d=new i.Buf32(512),g=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,g,0,t.work,{bits:5}),y=!1}t.lencode=d,t.lenbits=9,t.distcode=g,t.distbits=5}function _(t,e,n,r){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),i.arraySet(s.window,e,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,e,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}e.inflateReset=c,e.inflateReset2=f,e.inflateResetKeep=l,e.inflateInit=function(t){return p(t,15)},e.inflateInit2=p,e.inflate=function(t,e){var n,h,l,c,f,p,d,g,y,v,b,x,w,E,C,S,M,I,T,O,N,L,A,R,k=0,P=new i.Buf8(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,l=t.output,d=t.avail_out,c=t.next_in,h=t.input,p=t.avail_in,g=n.hold,y=n.bits,v=p,b=d,L=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if(2&n.wrap&&35615===g){n.check=0,P[0]=255&g,P[1]=g>>>8&255,n.check=o(n.check,P,2,0),g=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&g)){t.msg="unknown compression method",n.mode=30;break}if(y-=4,N=8+(15&(g>>>=4)),0===n.wbits)n.wbits=N;else if(N>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<N,t.adler=n.check=1,n.mode=512&g?10:12,g=0,y=0;break;case 2:for(;y<16;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if(n.flags=g,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(P[0]=255&g,P[1]=g>>>8&255,n.check=o(n.check,P,2,0)),g=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}n.head&&(n.head.time=g),512&n.flags&&(P[0]=255&g,P[1]=g>>>8&255,P[2]=g>>>16&255,P[3]=g>>>24&255,n.check=o(n.check,P,4,0)),g=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(P[0]=255&g,P[1]=g>>>8&255,n.check=o(n.check,P,2,0)),g=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(P[0]=255&g,P[1]=g>>>8&255,n.check=o(n.check,P,2,0)),g=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>p&&(x=p),x&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,h,c,x,N)),512&n.flags&&(n.check=o(n.check,h,x,c)),p-=x,c+=x,n.length-=x),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break t;x=0;do{N=h[c+x++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N))}while(N&&x<p);if(512&n.flags&&(n.check=o(n.check,h,x,c)),p-=x,c+=x,N)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break t;x=0;do{N=h[c+x++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N))}while(N&&x<p);if(512&n.flags&&(n.check=o(n.check,h,x,c)),p-=x,c+=x,N)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if(g!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}g=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}t.adler=n.check=u(g),g=0,y=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=d,t.next_in=c,t.avail_in=p,n.hold=g,n.bits=y,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){g>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}switch(n.last=1&g,y-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(m(n),n.mode=20,6===e){g>>>=2,y-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}g>>>=2,y-=2;break;case 14:for(g>>>=7&y,y-=7&y;y<32;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if((65535&g)!=(g>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&g,g=0,y=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(x=n.length){if(x>p&&(x=p),x>d&&(x=d),0===x)break t;i.arraySet(l,h,c,x,f),p-=x,c+=x,d-=x,f+=x,n.length-=x;break}n.mode=12;break;case 17:for(;y<14;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if(n.nlen=257+(31&g),g>>>=5,y-=5,n.ndist=1+(31&g),g>>>=5,y-=5,n.ncode=4+(15&g),g>>>=4,y-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}n.lens[D[n.have++]]=7&g,g>>>=3,y-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},L=a(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,L){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(k=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,M=65535&k,!((C=k>>>24)<=y);){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if(M<16)g>>>=C,y-=C,n.lens[n.have++]=M;else{if(16===M){for(R=C+2;y<R;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if(g>>>=C,y-=C,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}N=n.lens[n.have-1],x=3+(3&g),g>>>=2,y-=2}else if(17===M){for(R=C+3;y<R;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}y-=C,N=0,x=3+(7&(g>>>=C)),g>>>=3,y-=3}else{for(R=C+7;y<R;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}y-=C,N=0,x=11+(127&(g>>>=C)),g>>>=7,y-=7}if(n.have+x>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=N}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,A={bits:n.lenbits},L=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,L){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},L=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,L){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(p>=6&&d>=258){t.next_out=f,t.avail_out=d,t.next_in=c,t.avail_in=p,n.hold=g,n.bits=y,s(t,b),f=t.next_out,l=t.output,d=t.avail_out,c=t.next_in,h=t.input,p=t.avail_in,g=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(k=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,M=65535&k,!((C=k>>>24)<=y);){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if(S&&0==(240&S)){for(I=C,T=S,O=M;S=(k=n.lencode[O+((g&(1<<I+T)-1)>>I)])>>>16&255,M=65535&k,!(I+(C=k>>>24)<=y);){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}g>>>=I,y-=I,n.back+=I}if(g>>>=C,y-=C,n.back+=C,n.length=M,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(R=n.extra;y<R;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(k=n.distcode[g&(1<<n.distbits)-1])>>>16&255,M=65535&k,!((C=k>>>24)<=y);){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if(0==(240&S)){for(I=C,T=S,O=M;S=(k=n.distcode[O+((g&(1<<I+T)-1)>>I)])>>>16&255,M=65535&k,!(I+(C=k>>>24)<=y);){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}g>>>=I,y-=I,n.back+=I}if(g>>>=C,y-=C,n.back+=C,64&S){t.msg="invalid distance code",n.mode=30;break}n.offset=M,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(R=n.extra;y<R;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===d)break t;if(x=b-d,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}x>n.wnext?(x-=n.wnext,w=n.wsize-x):w=n.wnext-x,x>n.length&&(x=n.length),E=n.window}else E=l,w=f-n.offset,x=n.length;x>d&&(x=d),d-=x,n.length-=x;do{l[f++]=E[w++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===d)break t;l[f++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===p)break t;p--,g|=h[c++]<<y,y+=8}if(b-=d,t.total_out+=b,n.total+=b,b&&(t.adler=n.check=n.flags?o(n.check,l,b,f-b):r(n.check,l,b,f-b)),b=d,(n.flags?g:u(g))!==n.check){t.msg="incorrect data check",n.mode=30;break}g=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===p)break t;p--,g+=h[c++]<<y,y+=8}if(g!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}g=0,y=0}n.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=f,t.avail_out=d,t.next_in=c,t.avail_in=p,n.hold=g,n.bits=y,(n.wsize||b!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&_(t,t.output,t.next_out,b-t.avail_out)?(n.mode=31,-4):(v-=t.avail_in,b-=t.avail_out,t.total_in+=v,t.total_out+=b,n.total+=b,n.wrap&&b&&(t.adler=n.check=n.flags?o(n.check,l,b,t.next_out-b):r(n.check,l,b,t.next_out-b)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===v&&0===b||4===e)&&0===L&&(L=-5),L)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&r(1,e,i,0)!==n.check?-3:_(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,s,a,u,h,l,c,f,p,d,g,y,m,_,v,b,x,w,E,C,S,M;n=t.state,i=t.next_in,S=t.input,r=i+(t.avail_in-5),o=t.next_out,M=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),u=n.dmax,h=n.wsize,l=n.whave,c=n.wnext,f=n.window,p=n.hold,d=n.bits,g=n.lencode,y=n.distcode,m=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;t:do{d<15&&(p+=S[i++]<<d,d+=8,p+=S[i++]<<d,d+=8),v=g[p&m];e:for(;;){if(p>>>=b=v>>>24,d-=b,0===(b=v>>>16&255))M[o++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=g[(65535&v)+(p&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&v,(b&=15)&&(d<b&&(p+=S[i++]<<d,d+=8),x+=p&(1<<b)-1,p>>>=b,d-=b),d<15&&(p+=S[i++]<<d,d+=8,p+=S[i++]<<d,d+=8),v=y[p&_];n:for(;;){if(p>>>=b=v>>>24,d-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=y[(65535&v)+(p&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&v,d<(b&=15)&&(p+=S[i++]<<d,(d+=8)<b&&(p+=S[i++]<<d,d+=8)),(w+=p&(1<<b)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=b,d-=b,w>(b=o-s)){if((b=w-b)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,C=f,0===c){if(E+=h-b,b<x){x-=b;do{M[o++]=f[E++]}while(--b);E=o-w,C=M}}else if(c<b){if(E+=h+c-b,(b-=c)<x){x-=b;do{M[o++]=f[E++]}while(--b);if(E=0,c<x){x-=b=c;do{M[o++]=f[E++]}while(--b);E=o-w,C=M}}}else if(E+=c-b,b<x){x-=b;do{M[o++]=f[E++]}while(--b);E=o-w,C=M}for(;x>2;)M[o++]=C[E++],M[o++]=C[E++],M[o++]=C[E++],x-=3;x&&(M[o++]=C[E++],x>1&&(M[o++]=C[E++]))}else{E=o-w;do{M[o++]=M[E++],M[o++]=M[E++],M[o++]=M[E++],x-=3}while(x>2);x&&(M[o++]=M[E++],x>1&&(M[o++]=M[E++]))}break}}break}}while(i<r&&o<a);i-=x=d>>3,p&=(1<<(d-=x<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=p,n.bits=d}},function(t,e,n){"use strict";var i=n(50),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,h,l,c,f){var p,d,g,y,m,_,v,b,x,w=f.bits,E=0,C=0,S=0,M=0,I=0,T=0,O=0,N=0,L=0,A=0,R=null,k=0,P=new i.Buf16(16),D=new i.Buf16(16),j=null,F=0;for(E=0;E<=15;E++)P[E]=0;for(C=0;C<u;C++)P[e[n+C]]++;for(I=w,M=15;M>=1&&0===P[M];M--);if(I>M&&(I=M),0===M)return h[l++]=20971520,h[l++]=20971520,f.bits=1,0;for(S=1;S<M&&0===P[S];S++);for(I<S&&(I=S),N=1,E=1;E<=15;E++)if(N<<=1,(N-=P[E])<0)return-1;if(N>0&&(0===t||1!==M))return-1;for(D[1]=0,E=1;E<15;E++)D[E+1]=D[E]+P[E];for(C=0;C<u;C++)0!==e[n+C]&&(c[D[e[n+C]]++]=C);if(0===t?(R=j=c,_=19):1===t?(R=r,k-=257,j=o,F-=257,_=256):(R=s,j=a,_=-1),A=0,C=0,E=S,m=l,T=I,O=0,g=-1,y=(L=1<<I)-1,1===t&&L>852||2===t&&L>592)return 1;for(;;){v=E-O,c[C]<_?(b=0,x=c[C]):c[C]>_?(b=j[F+c[C]],x=R[k+c[C]]):(b=96,x=0),p=1<<E-O,S=d=1<<T;do{h[m+(A>>O)+(d-=p)]=v<<24|b<<16|x|0}while(0!==d);for(p=1<<E-1;A&p;)p>>=1;if(0!==p?(A&=p-1,A+=p):A=0,C++,0==--P[E]){if(E===M)break;E=e[n+c[C]]}if(E>I&&(A&y)!==g){for(0===O&&(O=I),m+=S,N=1<<(T=E-O);T+O<M&&!((N-=P[T+O])<=0);)T++,N<<=1;if(L+=1<<T,1===t&&L>852||2===t&&L>592)return 1;h[g=A&y]=I<<24|T<<16|m-l|0}}return 0!==A&&(h[m+A]=E-O<<24|64<<16|0),f.bits=I,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";var i=n(18),r=n(37),o=n(60),s=n(94),a=n(121),u=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},h=function(t,e,n,r,h,l){var c,f,p=t.file,d=t.compression,g=l!==o.utf8encode,y=i.transformTo("string",l(p.name)),m=i.transformTo("string",o.utf8encode(p.name)),_=p.comment,v=i.transformTo("string",l(_)),b=i.transformTo("string",o.utf8encode(_)),x=m.length!==p.name.length,w=b.length!==_.length,E="",C="",S="",M=p.dir,I=p.date,T={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(T.crc32=t.crc32,T.compressedSize=t.compressedSize,T.uncompressedSize=t.uncompressedSize);var O=0;e&&(O|=8),g||!x&&!w||(O|=2048);var N,L,A,R=0,k=0;M&&(R|=16),"UNIX"===h?(k=798,R|=(N=p.unixPermissions,L=M,A=N,N||(A=L?16893:33204),(65535&A)<<16)):(k=20,R|=63&(p.dosPermissions||0)),c=I.getUTCHours(),c<<=6,c|=I.getUTCMinutes(),c<<=5,c|=I.getUTCSeconds()/2,f=I.getUTCFullYear()-1980,f<<=4,f|=I.getUTCMonth()+1,f<<=5,f|=I.getUTCDate(),x&&(C=u(1,1)+u(s(y),4)+m,E+="up"+u(C.length,2)+C),w&&(S=u(1,1)+u(s(v),4)+b,E+="uc"+u(S.length,2)+S);var P="";return P+="\n\0",P+=u(O,2),P+=d.magic,P+=u(c,2),P+=u(f,2),P+=u(T.crc32,4),P+=u(T.compressedSize,4),P+=u(T.uncompressedSize,4),P+=u(y.length,2),P+=u(E.length,2),{fileRecord:a.LOCAL_FILE_HEADER+P+y+E,dirRecord:a.CENTRAL_FILE_HEADER+u(k,2)+P+u(v.length,2)+"\0\0\0\0"+u(R,4)+u(r,4)+y+E+v}},l=function(t){return a.DATA_DESCRIPTOR+u(t.crc32,4)+u(t.compressedSize,4)+u(t.uncompressedSize,4)};function c(t,e,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(c,r),c.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,r.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=h(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=h(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:l(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,r=function(t,e,n,r,o){var s=i.transformTo("string",o(r));return a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(t,2)+u(t,2)+u(e,4)+u(n,4)+u(s.length,2)+s}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},c.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(t){var e=this._sources;if(!r.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},c.prototype.lock=function(){r.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=c},function(t,e,n){"use strict";var i=n(18),r=n(37);function o(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(o,r),o.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},function(t,e,n){"use strict";var i=n(18),r=n(70),o=n(60),s=(i=n(18),n(189)),a=n(114),u=n(76);function h(t){return new r.Promise((function(e,n){var i=t.decompressed.getContentWorker().pipe(new a);i.on("error",(function(t){n(t)})).on("end",(function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}t.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new s(e);return n.load(t),n})).then((function(t){var n=[r.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var o=0;o<i.length;o++)n.push(h(i[o]));return r.Promise.all(n)})).then((function(t){for(var i=t.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},function(t,e,n){"use strict";var i=n(122),r=n(18),o=n(121),s=n(192),a=(n(60),n(49));function u(t){this.files=[],this.loadOptions=t}u.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=a.uint8array?"uint8array":"array",n=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},function(t,e,n){"use strict";var i=n(124);function r(t){i.call(this,t)}n(18).inherits(r,i),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(125);function r(t){i.call(this,t)}n(18).inherits(r,i),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(122),r=n(18),o=n(93),s=n(94),a=n(60),u=n(115),h=n(49);function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)||s(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)||s(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null}},t.exports=l},function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,u=i-r+1,h=Math.log(a),l=.5*Math.exp(2*h/3),c=.5*Math.sqrt(h*l*(a-l)/a)*(u-a/2<0?-1:1),f=Math.max(r,Math.floor(i-u*l/a+c)),p=Math.min(o,Math.floor(i+(a-u)*l/a+c));e(n,i,f,p,s)}var d=n[i],g=r,y=o;for(t(n,r,i),s(n[o],d)>0&&t(n,r,o);g<y;){for(t(n,g,y),g++,y--;s(n[g],d)<0;)g++;for(;s(n[y],d)>0;)y--}0===s(n[r],d)?t(n,r,y):(y++,t(n,y,o)),y<=i&&(r=y+1),i<=y&&(o=y-1)}}(n,i,r||0,o||n.length-1,s||e)}}()},function(t,e,n){var i=n(77);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,r){return'<div class="modal fade" id="importNodesModal" role="dialog" tabindex="-1" aria-labelledby="importNodesModalLabel">\n   <div class="modal-dialog modal-dialog-centered" role="document">\n      <div class="modal-content">\n         <div class="modal-header">\n            <h5 class="modal-title" id="importLocationModalLabel">Data Import</h5>\n         </div>\n         <div class="modal-body" id="importLocationLayerBody">\n            <div class="row">\n               <div class="col-md-12">\n                  <label>Nodes Data as a csv or geojson file</label>\n                  <div class="custom-file">\n                     <label id="NodesFileLabel" class="custom-file-label" for="NodesImportFile">Nodes data file</label>\n                     <input type="file"  id="NodesImportFile" class="custom-file-input" >\n                  </div>\n               </div>\n             </div>\n           <hr>\n           <span id="NodesFileError"></span>\n           <div id="NodesFeaturesSelects" class="row" style="visibility:hidden">\n             <div class="col-md-12">\n             <p>Set nodes features:</p>\n              </div>\n               <div class="col-md-4">\n                 <p>\n                   <label for="select">Node\'s ID</label>\n                   <select class="custom-select" id="NodeImportID" ></select>\n                 </p>\n               </div>\n               <div class="col-md-4" id="NodesLatSelect"  style="visibility:hidden">\n\n                 <p>\n                   <label  for="select" >Node\'s Latitude</label>\n                   <select class="custom-select" id="NodeImportLat" ></select>\n                 </p>\n               </div>\n               <div class="col-md-4" id="NodesLongSelect"  style="visibility:hidden">\n                 <p>\n                   <label for="select">Node\'s Longitude</label>\n                   <select class="custom-select" id="NodeImportLong" ></select>\n                 </p>\n               </div>\n             </div>\n           </div>\n          <hr>\n         <div class ="modal-footer">\n            <button class="btn btn-dark btn-block justify-content-center mt-2" type="button" id="ImportNodes" data-dismiss="modal" disabled>Next</button>\n         </div>\n      </div>\n   </div>\n</div>\n'},useData:!0})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var o=r(n(127)),s=i(n(206)),a=i(n(55)),u=r(n(47)),h=r(n(207)),l=i(n(208));function c(){var t=new o.HandlebarsEnvironment;return u.extend(t,o),t.SafeString=s.default,t.Exception=a.default,t.Utils=u,t.escapeExpression=u.escapeExpression,t.VM=h,t.template=function(e){return h.template(e,t)},t}var f=c();f.create=c,l.default(f),f.default=f,e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(47);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var r=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return r(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(e,n)}))},t.exports=e.default},function(t,e,n){"use strict";(function(i){e.__esModule=!0;var r,o=n(47),s=n(55),a=(r=s)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new a.default("Must pass iterator to #each");var n,r=e.fn,s=e.inverse,u=0,h="",l=void 0,c=void 0;function f(e,n,i){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!i,c&&(l.contextPath=c+e)),h+=r(t[e],{data:l,blockParams:o.blockParams([t[e],e],[c+e,null])})}if(e.data&&e.ids&&(c=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(l=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var p=t.length;u<p;u++)u in t&&f(u,u,u===t.length-1);else if(i.Symbol&&t[i.Symbol.iterator]){for(var d=[],g=t[i.Symbol.iterator](),y=g.next();!y.done;y=g.next())d.push(y.value);for(p=(t=d).length;u<p;u++)f(u,u,u===t.length-1)}else n=void 0,Object.keys(t).forEach((function(t){void 0!==n&&f(n,u-1),n=t,u++})),void 0!==n&&f(n,u-1,!0);return 0===u&&(h=s(this)),h}))},t.exports=e.default}).call(this,n(30))},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(55),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(47),o=n(55),s=(i=o)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new s.default("#if requires exactly one argument");return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new s.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),e[0]=r,t.log.apply(t,e)}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=/^(constructor|__defineGetter__|__defineSetter__|__lookupGetter__|__proto__)$/;e.dangerousPropertyRegex=i,e.default=function(t){t.registerHelper("lookup",(function(t,e){return t?!i.test(String(e))||Object.prototype.propertyIsEnumerable.call(t,e)?t[e]:void 0:t}))}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(47),o=n(55),s=(i=o)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&((i=r.createFrame(e.data)).contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:r.blockParams([t],[i&&i.contextPath])})}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){o.default(t)};var i,r=n(204),o=(i=r)&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";e.__esModule=!0;var i=n(47);e.default=function(t){t.registerDecorator("inline",(function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,e.partials);var a=t(r,o);return n.partials=s,a}),e.partials[r.args[0]]=r.fn,o}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(47),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[e].apply(console,i)}}};e.default=r,t.exports=e.default},function(t,e,n){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=a.COMPILER_REVISION;if(e>=a.LAST_COMPATIBLE_COMPILER_REVISION&&e<=a.COMPILER_REVISION)return;if(e<a.LAST_COMPATIBLE_COMPILER_REVISION){var i=a.REVISION_CHANGES[n],r=a.REVISION_CHANGES[e];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},e.template=function(t,e){if(!e)throw new s.default("No environment passed to template");if(!t||!t.main)throw new s.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0];var i={strict:function(t,e,n){if(!t||!(e in t))throw new s.default('"'+e+'" not defined in '+t,{loc:n});return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:r.escapeExpression,invokePartial:function(n,i,o){o.hash&&(i=r.extend({},i,o.hash),o.ids&&(o.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,o);var a=r.extend({},o,{hooks:this.hooks}),u=e.VM.invokePartial.call(this,n,i,a);if(null==u&&e.compile&&(o.partials[o.name]=e.compile(n,t.compilerOptions,e),u=o.partials[o.name](i,a)),null!=u){if(o.indent){for(var h=u.split("\n"),l=0,c=h.length;l<c&&(h[l]||l+1!==c);l++)h[l]=o.indent+h[l];u=h.join("\n")}return u}throw new s.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,i,r){var o=this.programs[t],s=this.fn(t);return e||r||i||n?o=h(this,t,s,e,n,i,r):o||(o=this.programs[t]=h(this,t,s)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function o(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.data;o._setup(n),!n.partial&&t.useData&&(r=c(e,r));var s=void 0,a=t.useBlockParams?[]:void 0;function u(e){return""+t.main(i,e,i.helpers,i.partials,r,a,s)}return t.useDepths&&(s=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(u=f(t.main,u,i,n.depths||[],r,a))(e,n)}return o.isTop=!0,o._setup=function(o){if(o.partial)i.helpers=o.helpers,i.partials=o.partials,i.decorators=o.decorators,i.hooks=o.hooks;else{i.helpers=r.extend({},e.helpers,o.helpers),t.usePartial&&(i.partials=r.extend({},e.partials,o.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=r.extend({},e.decorators,o.decorators)),i.hooks={};var s=o.allowCallsToHelperMissing||n;u.moveHelperToHooks(i,"helperMissing",s),u.moveHelperToHooks(i,"blockHelperMissing",s)}},o._child=function(e,n,r,o){if(t.useBlockParams&&!r)throw new s.default("must pass block params");if(t.useDepths&&!o)throw new s.default("must pass parent depths");return h(i,e,t[e],n,0,r,o)},o},e.wrapProgram=h,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;n.fn&&n.fn!==l&&function(){n.data=a.createFrame(n.data);var t=n.fn;o=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=a.createFrame(n.data),n.data["partial-block"]=i,t(e,n)},t.partials&&(n.partials=r.extend({},n.partials,t.partials))}();void 0===t&&o&&(t=o);if(void 0===t)throw new s.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=l;var i,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(47)),o=n(55),s=(i=o)&&i.__esModule?i:{default:i},a=n(127),u=n(128);function h(t,e,n,i,r,o,s){function a(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||e==s[0]||e===t.nullContext&&null===s[0]||(a=[e].concat(s)),n(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),a)}return(a=f(n,a,t,s,i,o)).program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}function l(){return""}function c(t,e){return e&&"root"in e||((e=e?a.createFrame(e):{}).root=t),e}function f(t,e,n,i,o,s){if(t.decorator){var a={};e=t.decorator(e,a,n,i&&i[0],o,s,i),r.extend(e,a)}return e}},function(t,e,n){"use strict";(function(n){e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(this,n(30))},function(t,e,n){var i=n(77);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,r){return'<div class="modal fade" id="importLinksModal" role="dialog" tabindex="-1" aria-labelledby="importNodesModalLabel">\n   <div class="modal-dialog modal-dialog-centered" role="document">\n      <div class="modal-content">\n         <div class="modal-header">\n            <h5 class="modal-title" id="importLocationModalLabel">Data Import</h5>\n         </div>\n         <div class="modal-body" id="importLocationLayerBody">\n            <div class="row">\n               <div class="col-md-12">\n                  <label>Flows data, csv file</label>\n                  <div class="custom-file">\n                     <label id="LinksFileLabel" class="custom-file-label" for="LinksImportFile">Flows data file</label>\n                     <input type="file"  id="LinksImportFile" class="custom-file-input" >\n                  </div>\n               </div>\n             </div>\n           <hr>\n           <span id="LinksFileError"></span>\n           <div id="LinksFeaturesSelects" class="row" style="visibility:hidden">\n             <div class="col-md-12">\n             <p>Set flows features, and aggregation opperator:</p>\n              </div>\n               <div class="col-md-6">\n                 <p>\n                   <label for="select">Flow origine ID</label>\n                   <select class="custom-select" id="LinksImportOrigineID" ></select>\n                 </p>\n               </div>\n               <div class="col-md-6" >\n                 <p>\n                   <label  for="select" >Flow destination ID</label>\n                   <select class="custom-select" id="LinksImportDestinationID" ></select>\n                 </p>\n               </div>\n               <div class="col-md-6" >\n                 <p>\n                   <label for="select">Flow volume</label>\n                   <select class="custom-select" id="LinksImportVolume"></select>\n                 </p>\n               </div>\n               <div class="col-md-6" >\n                 <p>\n                   <label for="select">Flows aggregation</label>\n                   <select class="custom-select" id="LinksImportAggr">\n                     <option value="sum" selected>Sum</option>\n                     <option value="mean">Mean</option>\n                     <option value="median">Median</option>\n                     <option value="max">Max</option>\n                     <option value="min">Min</option></select>\n                 </p>\n               </div>\n             </div>\n           </div>\n          <hr>\n         <div class ="modal-footer">\n            <button class="btn btn-dark btn-block justify-content-center mt-2" type="button" id="ImportLinks" data-dismiss="modal" disabled>Next</button>\n         </div>\n      </div>\n   </div>\n</div>\n'},useData:!0})},function(t,e,n){var i=n(77);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,r){var o,s=null!=e?e:t.nullContext||{},a=t.hooks.helperMissing,u="function",h=t.escapeExpression;return'<div class="modal fade" id="importStatsModal" role="dialog" tabindex="-1" aria-labelledby="importStatsModalLabel">\n   <div class="modal-dialog modal-dialog-centered" role="document">\n      <div class="modal-content">\n         <div class="modal-header">\n            <h5 class="modal-title">Data Import Statistics</h5>\n         </div>\n         <div class="modal-body">\n            <div class="row">\n               <div class="col-md-12">\n                  <ul>\n                    <li> Number of imported nodes:  '+h(typeof(o=null!=(o=n.nb_nodes||(null!=e?e.nb_nodes:e))?o:a)===u?o.call(s,{name:"nb_nodes",hash:{},data:r,loc:{start:{line:11,column:52},end:{line:11,column:64}}}):o)+" </li>\n                    <li> Number of imported links:  "+h(typeof(o=null!=(o=n.nb_links||(null!=e?e.nb_links:e))?o:a)===u?o.call(s,{name:"nb_links",hash:{},data:r,loc:{start:{line:12,column:52},end:{line:12,column:64}}}):o)+" </li>\n                    <li> Number of nodes removed (no links):  "+h(typeof(o=null!=(o=n.nb_removed_nodes||(null!=e?e.nb_removed_nodes:e))?o:a)===u?o.call(s,{name:"nb_removed_nodes",hash:{},data:r,loc:{start:{line:13,column:62},end:{line:13,column:82}}}):o)+" </li>\n                    <li> Number of links removed (missing nodes):  "+h(typeof(o=null!=(o=n.nb_removed_links||(null!=e?e.nb_removed_links:e))?o:a)===u?o.call(s,{name:"nb_removed_links",hash:{},data:r,loc:{start:{line:14,column:67},end:{line:14,column:87}}}):o)+" </li>\n                    <li> Number of links after aggregation: "+h(typeof(o=null!=(o=n.nb_aggregated_links||(null!=e?e.nb_aggregated_links:e))?o:a)===u?o.call(s,{name:"nb_aggregated_links",hash:{},data:r,loc:{start:{line:15,column:60},end:{line:15,column:83}}}):o)+'</li>\n                  </ul>\n               </div>\n             </div>\n\n           </div>\n          <hr>\n         <div class ="modal-footer">\n            <button class="btn btn-dark btn-block justify-content-center mt-2" type="button" id="Launch" data-dismiss="modal">Ok</button>\n         </div>\n      </div>\n   </div>\n</div>\n'},useData:!0})},function(t,e,n){var i=n(77);t.exports=(i.default||i).template({1:function(t,e,n,i,r){return'                    <select class="custom-select" id="semioColor">\n                        <option value="fixed" selected>Constant</option>\n                        <option value="varied">Conditional</option>\n                    </select>\n'},3:function(t,e,n,i,r){return'                    <select class="custom-select" id="semioColor">\n                        <option value="fixed">Constant</option>\n                        <option value="varied" selected>Conditional</option>\n                    </select>\n'},5:function(t,e,n,i,r){return'                      <input type="color" value=color.fixed></input>\n'},7:function(t,e,n,i,r){return""},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,r){var o,s=null!=e?e:t.nullContext||{};return'<div class="modal fade" id="semioNodes" tabindex="-1" role="dialog" aria-labelledby="semioModalLabelNode" aria-hidden="true">\n   <div class="modal-dialog modal-xl" role="document">\n      <div class="modal-content">\n         <div class="modal-header">\n            <h5 class="modal-title h2" id="semioModalLabelNode">Choose Nodes Semiology</h5>\n         </div>\n         <div class="modal-body" >\n            <label for="select" class="h4 strong mb-3">Color</label>\n            <div class="row">\n               <div class="col-md-2">\n'+(null!=(o=n.if.call(s,null!=(o=null!=e?e.color:e)?o.fixed:o,{name:"if",hash:{},fn:t.program(1,r,0),inverse:t.noop,data:r,loc:{start:{line:11,column:18},end:{line:16,column:25}}}))?o:"")+(null!=(o=n.if.call(s,null!=(o=null!=e?e.color:e)?o.varied:o,{name:"if",hash:{},fn:t.program(3,r,0),inverse:t.noop,data:r,loc:{start:{line:17,column:18},end:{line:22,column:25}}}))?o:"")+'                  </div>\n                  <div class="col-md-10" id="semioColorAddnode">\n'+(null!=(o=n.if.call(s,null!=(o=null!=e?e.color:e)?o.fixed:o,{name:"if",hash:{},fn:t.program(5,r,0),inverse:t.noop,data:r,loc:{start:{line:25,column:20},end:{line:27,column:27}}}))?o:"")+(null!=(o=n.if.call(s,null!=(o=null!=e?e.color:e)?o.varied:o,{name:"if",hash:{},fn:t.program(7,r,0),inverse:t.noop,data:r,loc:{start:{line:28,column:20},end:{line:29,column:27}}}))?o:"")+'                  </div>\n            </div>\n\n            <hr>\n            <label for="select" class="h4 strong">Size</label>\n            <div class="row"  id="semioSizeAddnode">\n               <div class="col-md-2">\n                  <label for="select" class="text-muted h5">-</label>\n                  <select class="custom-select" id="semioSizeBaseTypeAddnode">\n                     <option selected value="fixed">Fixed</option>\n                     <option value="varied">Varied</option>\n                  </select>\n               </div>\n            </div>\n            <div class=\'row\'>\n               <div class="col-md-2">\n                  <hr>\n                  <label for="select" class="h4 strong">Text</label>\n                  <div class="row"  id="semioTextAddnode">\n                  </div>\n               </div>\n               <div class="col-md-10">\n                  <hr>\n                  <label for="select" class="h4 strong">Opacity</label>\n                  <div class="row"  id="semioOpaAddnode">\n                     <div class="col-md-2">\n                        <label for="select" class="text-muted h5">-</label>\n                        <select class="custom-select" id="semioOpaBaseTypeAddnode">\n                           <option selected value="fixed">Fixed</option>\n                           <option value="varied">Varied</option>\n                        </select>\n                     </div>\n                  </div>\n               </div>\n            </div>\n         </div>\n         <button class="modal-footer btn btn-dark justify-content-center mt-2"   type="button" id="addSemioButtonNode" data-dismiss="modal" >OK</button>\n      </div>\n   </div>\n</div>\n'},useData:!0})},function(t,e,n){"use strict";n.r(e);n(146),n(148),n(149),n(150),n(151),n(152),n(153),n(154);var i=n(129),r=n(97),o=n.n(r),s=n(130),a=n.n(s),u=n(98),h=n(84);let l=g,c=g,f=g,p=y,d=m;function g(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function y(t,e){for(var n=t.length;n<e;)t[n++]=0;return t}function m(t,e){if(e>32)throw new Error("invalid array width!");return t}function _(t){this.length=t,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=l(t)}"undefined"!=typeof Uint8Array&&(l=function(t){return new Uint8Array(t)},c=function(t){return new Uint16Array(t)},f=function(t){return new Uint32Array(t)},p=function(t,e){if(t.length>=e)return t;var n=new t.constructor(e);return n.set(t),n},d=function(t,e){var n;switch(e){case 16:n=c(t.length);break;case 32:n=f(t.length);break;default:throw new Error("invalid array width!")}return n.set(t),n}),_.prototype.lengthen=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)this[e]=p(this[e],t);this.length=t},_.prototype.add=function(){var t,e,n,i,r;for(i=0,r=this.subarrays;i<r;++i)if(n=(~(t=this.masks[i])&t+1)>>>0,!((e=this.width-32*i)>=32)||n)return e<32&&n&1<<e&&(this[i]=d(this[i],e<<=1),this.width=32*i+e),this.masks[i]|=n,{offset:i,one:n};return this[this.subarrays]=l(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},_.prototype.copy=function(t,e){var n,i;for(n=0,i=this.subarrays;n<i;++n)this[n][t]=this[n][e]},_.prototype.truncate=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)for(var i=this.length-1;i>=t;i--)this[e][i]=0;this.length=t},_.prototype.zero=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)if(this[e][t])return!1;return!0},_.prototype.zeroExcept=function(t,e,n){var i,r;for(i=0,r=this.subarrays;i<r;++i)if(i===e?this[i][t]&n:this[i][t])return!1;return!0},_.prototype.zeroExceptMask=function(t,e){var n,i;for(n=0,i=this.subarrays;n<i;++n)if(this[n][t]&e[n])return!1;return!0},_.prototype.only=function(t,e,n){var i,r;for(i=0,r=this.subarrays;i<r;++i)if(this[i][t]!=(i===e?n:0))return!1;return!0},_.prototype.onlyExcept=function(t,e,n,i,r){var o,s,a;for(s=0,a=this.subarrays;s<a;++s)if(o=this[s][t],s===e&&(o&=n),o!=(s===i?r:0))return!1;return!0};var v={array8:g,array16:g,array32:g,arrayLengthen:y,arrayWiden:m,bitarray:_};var b=(t,e)=>function(n){var i=n.length;return[t.left(n,e,0,i),t.right(n,e,0,i)]},x=(t,e)=>{var n=e[0],i=e[1];return function(e){var r=e.length;return[t.left(e,n,0,r),t.left(e,i,0,r)]}},w=t=>[0,t.length],E=t=>t,C=()=>null,S=()=>0;function M(t){function e(t,e,i){for(var r=i-e,o=1+(r>>>1);--o>0;)n(t,o,r,e);return t}function n(e,n,i,r){for(var o,s=e[--r+n],a=t(s);(o=n<<1)<=i&&(o<i&&t(e[r+o])>t(e[r+o+1])&&o++,!(a<=t(e[r+o])));)e[r+n]=e[r+o],n=o;e[r+n]=s}return e.sort=function(t,e,i){for(var r,o=i-e;--o>0;)r=t[e],t[e]=t[e+o],t[e+o]=r,n(t,1,o,e);return t},e}const I=M(E);I.by=M;var T=I;function O(t){var e=T.by(t);return function(n,i,r,o){var s,a,u,h=new Array(o=Math.min(r-i,o));for(a=0;a<o;++a)h[a]=n[i++];if(e(h,0,o),i<r){s=t(h[0]);do{t(u=n[i])>s&&(h[0]=u,s=t(e(h,0,o)[0]))}while(++i<r)}return h}}const N=O(E);N.by=O;var L=N;function A(t){function e(e,n,i,r){for(;i<r;){var o=i+r>>>1;n<t(e[o])?r=o:i=o+1}return i}return e.right=e,e.left=function(e,n,i,r){for(;i<r;){var o=i+r>>>1;t(e[o])<n?i=o+1:r=o}return i},e}const R=A(E);R.by=A;var k=R,P=(t,e,n)=>{for(var i=0,r=e.length,o=n?JSON.parse(JSON.stringify(t)):new Array(r);i<r;++i)o[i]=t[e[i]];return o};var D=t=>t+1,j=t=>t-1,F=t=>function(e,n){return e+ +t(n)},z=t=>function(e,n){return e-t(n)};const B=(t,e)=>{const n=t[e];return"function"==typeof n?n.call(t):n},q=/\[([\w\d]+)\]/g;var G=(t,e)=>function(t,e,n,i,r){for(r in i=(n=n.split(".")).splice(-1,1),n)e=e[n[r]]=e[n[r]]||{};return t(e,i)}(B,t,e.replace(q,".$1"));H.heap=T,H.heapselect=L,H.bisect=k,H.permute=P;var U=H;function H(){var t,e={add:u,remove:h,dimension:f,groupAll:p,size:d,all:g,allFiltered:y,onChange:m,isElementFiltered:c},n=[],i=0,r=[],o=[],s=[],a=[];function u(r){var s=i,a=r.length;return a&&(n=n.concat(r),t.lengthen(i+=a),o.forEach((function(t){t(r,s,a)})),_("dataAdded")),e}function h(e){for(var o,a=new Array(i),u=[],h="function"==typeof e,l=0,c=0;l<i;++l)o=l,(h?e(n[o],o):t.zero(o))?(u.push(l),a[l]=-1):a[l]=c++;r.forEach((function(t){t(-1,-1,[],u,!0)})),s.forEach((function(t){t(a)}));for(var f=0,p=0;f<i;++f)-1!==a[f]&&(f!==p&&(t.copy(p,f),n[p]=n[f]),++p);n.length=i=p,t.truncate(p),_("dataRemoved")}function l(e){var n,i,r,o,s=Array(t.subarrays);for(n=0;n<t.subarrays;n++)s[n]=-1;for(i=0,r=e.length;i<r;i++)s[(o=e[i].id())>>7]&=~(1<<(63&o));return s}function c(e,n){var i=l(n||[]);return t.zeroExceptMask(e,i)}function f(e,a){if("string"==typeof e){var u=e;e=function(t){return G(t,u)}}var h,l,c,f,p,d,g,y,m,M,I,O,N,A,R={filter:function(t){return null==t?ot():Array.isArray(t)?rt(t):"function"==typeof t?st(t):it(t)},filterExact:it,filterRange:rt,filterFunction:st,filterAll:ot,currentFilter:function(){return O},hasCurrentFilter:function(){return N},top:function(e,i){var r,o=[],s=$,u=0;i&&i>0&&(u=i);for(;--s>=K&&e>0;)t.zero(r=d[s])&&(u>0?--u:(o.push(n[r]),--e));if(a)for(s=0;s<B.length&&e>0;s++)t.zero(r=B[s])&&(u>0?--u:(o.push(n[r]),--e));return o},bottom:function(e,i){var r,o,s=[],u=0;i&&i>0&&(u=i);if(a)for(r=0;r<B.length&&e>0;r++)t.zero(o=B[r])&&(u>0?--u:(s.push(n[o]),--e));r=K;for(;r<$&&e>0;)t.zero(o=d[r])&&(u>0?--u:(s.push(n[o]),--e)),r++;return s},group:ut,groupAll:function(){var t=ut(C),e=t.all;return delete t.all,delete t.top,delete t.order,delete t.orderNatural,delete t.size,t.value=function(){return e()[0].value},t},dispose:ht,remove:ht,accessor:e,id:function(){return f}},B=[],q=function(t){return W(t).sort((function(t,e){var n=g[t],i=g[e];return n<i?-1:n>i?1:t-e}))},U=w,H=[],V=[],K=0,$=0,Z=0;o.unshift(Q),o.push(tt),s.push(et);var J=t.add();function Q(n,r,o){var s,u;if(a){Z=0,F=0,A=[];for(var l=0;l<n.length;l++)for(F=0,A=e(n[l]);F<A.length;F++)Z++;g=[],s=W(n.length),u=Y(Z,1);for(var f=W(Z),_=0,b=0;b<n.length;b++)if((A=e(n[b])).length)for(s[b]=A.length,F=0;F<A.length;F++)g.push(A[F]),f[_]=b,_++;else s[b]=0,B.push(b+r);var x=q(Z);g=P(g,x),y=P(f,x)}else g=n.map(e),y=q(o),g=P(g,y);var w,E,C,S=U(g),T=S[0],O=S[1];if(a)if(o=Z,I)for(w=0;w<o;++w)I(g[w],w)||(0==--s[y[w]]&&(t[c][y[w]+r]|=h),u[w]=1);else{for(E=0;E<T;++E)0==--s[y[E]]&&(t[c][y[E]+r]|=h),u[E]=1;for(C=O;C<o;++C)0==--s[y[C]]&&(t[c][y[C]+r]|=h),u[C]=1}else if(I)for(w=0;w<o;++w)I(g[w],w)||(t[c][y[w]+r]|=h);else{for(E=0;E<T;++E)t[c][y[E]+r]|=h;for(C=O;C<o;++C)t[c][y[C]+r]|=h}if(!r)return p=g,d=y,m=s,M=u,K=T,void($=O);var N,L=p,R=d,k=M,D=0;if(l=0,a&&(N=r,r=L.length,o=Z),p=new Array(a?r+o:i),d=a?new Array(r+o):Y(i,i),a&&(M=Y(r+o,1)),a){var j=m.length;m=v.arrayLengthen(m,i);for(var F=0;F+j<i;F++)m[F+j]=s[F]}for(var z=0;l<r&&D<o;++z)L[l]<g[D]?(p[z]=L[l],a&&(M[z]=k[l]),d[z]=R[l++]):(p[z]=g[D],a&&(M[z]=u[D]),d[z]=y[D++]+(a?N:r));for(;l<r;++l,++z)p[z]=L[l],a&&(M[z]=k[l]),d[z]=R[l];for(;D<o;++D,++z)p[z]=g[D],a&&(M[z]=u[D]),d[z]=y[D]+(a?N:r);S=U(p),K=S[0],$=S[1]}function tt(t,e,n){H.forEach((function(t){t(g,y,e,n)})),g=y=null}function et(t){if(a){for(var e=0,n=0;e<B.length;e++)-1!==t[B[e]]&&(B[n]=t[B[e]],n++);for(B.length=n,e=0,n=0;e<i;e++)-1!==t[e]&&(n!==e&&(m[n]=m[e]),n++);m=m.slice(0,n)}for(var r,o=p.length,s=0,u=0;s<o;++s)-1!==t[r=d[s]]&&(s!==u&&(p[u]=p[s]),d[u]=t[r],a&&(M[u]=M[s]),++u);for(p.length=u,a&&(M=M.slice(0,u));u<o;)d[u++]=0;var h=U(p);K=h[0],$=h[1]}function nt(e){var n=e[0],i=e[1];if(I)return I=null,at((function(t,e){return n<=e&&e<i}),0===e[0]&&e[1]===p.length),K=n,$=i,R;var o,s,u,l=[],f=[],g=[],y=[];if(n<K)for(o=n,s=Math.min(K,i);o<s;++o)l.push(d[o]),g.push(o);else if(n>K)for(o=K,s=Math.min(n,$);o<s;++o)f.push(d[o]),y.push(o);if(i>$)for(o=Math.max(n,$),s=i;o<s;++o)l.push(d[o]),g.push(o);else if(i<$)for(o=Math.max(K,i),s=$;o<s;++o)f.push(d[o]),y.push(o);if(a){var v=[],b=[];for(o=0;o<l.length;o++)m[l[o]]++,M[g[o]]=0,1===m[l[o]]&&(t[c][l[o]]^=h,v.push(l[o]));for(o=0;o<f.length;o++)m[f[o]]--,M[y[o]]=1,0===m[f[o]]&&(t[c][f[o]]^=h,b.push(f[o]));if(l=v,f=b,U===w)for(o=0;o<B.length;o++)t[c][u=B[o]]&h&&(t[c][u]^=h,l.push(u));else for(o=0;o<B.length;o++)t[c][u=B[o]]&h||(t[c][u]^=h,f.push(u))}else{for(o=0;o<l.length;o++)t[c][l[o]]^=h;for(o=0;o<f.length;o++)t[c][f[o]]^=h}return K=n,$=i,r.forEach((function(t){t(h,c,l,f)})),_("filtered"),R}function it(t){return O=t,N=!0,nt((U=b(k,t))(p))}function rt(t){return O=t,N=!0,nt((U=x(k,t))(p))}function ot(){return O=void 0,N=!1,nt((U=w)(p))}function st(t){O=t,N=!0,I=t,U=w,at(t,!1);var e=U(p);return K=e[0],$=e[1],R}function at(e,n){var i,o,s,u=[],f=[],g=[],y=[],v=p.length;if(!a)for(i=0;i<v;++i)!(t[c][o=d[i]]&h)^!!(s=e(p[i],i))&&(s?u.push(o):f.push(o));if(a)for(i=0;i<v;++i)e(p[i],i)?(u.push(d[i]),g.push(i)):(f.push(d[i]),y.push(i));if(a){var b=[],x=[];for(i=0;i<u.length;i++)1===M[g[i]]&&(m[u[i]]++,M[g[i]]=0,1===m[u[i]]&&(t[c][u[i]]^=h,b.push(u[i])));for(i=0;i<f.length;i++)0===M[y[i]]&&(m[f[i]]--,M[y[i]]=1,0===m[f[i]]&&(t[c][f[i]]^=h,x.push(f[i])));if(u=b,f=x,n)for(i=0;i<B.length;i++)t[c][o=B[i]]&h&&(t[c][o]^=h,u.push(o));else for(i=0;i<B.length;i++)t[c][o=B[i]]&h||(t[c][o]^=h,f.push(o))}else{for(i=0;i<u.length;i++)t[c][u[i]]&h&&(t[c][u[i]]&=l);for(i=0;i<f.length;i++)t[c][f[i]]&h||(t[c][f[i]]|=h)}r.forEach((function(t){t(h,c,u,f)})),_("filtered")}function ut(e){var o={top:K,all:W,reduce:$,reduceCount:Z,reduceSum:J,order:Q,orderNatural:tt,size:et,dispose:nt,remove:nt};V.push(o);var u,f,g,y,m,_,b,x,w=8,M=X(w),I=0,O=C,N=C,A=!0,R=e===C;function k(o,s,h,d){a&&(x=h,h=p.length-o.length,d=o.length);var g,y,E,S,T,L,k=u,P=a?[]:Y(I,M),D=m,j=_,F=b,z=I,H=0,W=0;for(A&&(D=F=C),A&&(j=F=C),u=new Array(I),I=0,f=a?z?f:[]:z>1?v.arrayLengthen(f,i):Y(i,M),z&&(E=(y=k[0]).key);W<d&&!((S=e(o[W]))>=S);)++W;for(;W<d;){for(y&&E<=S?(T=y,L=E,P[H]=I,(y=k[++H])&&(E=y.key)):(T={key:S,value:F()},L=S),u[I]=T;S<=L&&(g=s[W]+(a?x:h),a?f[g]?f[g].push(I):f[g]=[I]:f[g]=I,T.value=D(T.value,n[g],!0),t.zeroExcept(g,c,l)||(T.value=j(T.value,n[g],!1)),!(++W>=d));)S=e(o[W]);K()}for(;H<z;)u[P[H]=I]=k[H++],K();if(a)for(var V=0;V<i;V++)f[V]||(f[V]=[]);if(I>H)if(a)for(H=0;H<x;++H)for(V=0;V<f[H].length;V++)f[H][V]=P[f[H][V]];else for(H=0;H<h;++H)f[H]=P[f[H]];function K(){a?I++:++I===M&&(P=v.arrayWiden(P,w<<=1),f=v.arrayWiden(f,w),M=X(w))}g=r.indexOf(O),I>1||a?(O=B,N=G):(!I&&R&&(I=1,u=[{key:null,value:F()}]),1===I?(O=q,N=U):(O=C,N=C),f=null),r[g]=O}function P(t){if(I>1||a){var e,n,o,s=I,h=u,l=Y(s,s);if(a){for(e=0,o=0;e<i;++e)if(-1!==t[e]){for(f[o]=f[e],n=0;n<f[o].length;n++)l[f[o][n]]=1;++o}}else for(e=0,o=0;e<i;++e)-1!==t[e]&&(l[f[o]=f[e]]=1,++o);for(u=[],I=0,e=0;e<s;++e)l[e]&&(l[e]=I++,u.push(h[e]));if(I>1||a)if(a)for(e=0;e<o;++e)for(n=0;n<f[e].length;++n)f[e][n]=l[f[e][n]];else for(e=0;e<o;++e)f[e]=l[f[e]];else f=null;r[r.indexOf(O)]=I>1||a?(N=G,O=B):1===I?(N=U,O=q):N=O=C}else if(1===I){if(R)return;for(var c=0;c<i;++c)if(-1!==t[c])return;u=[],I=0,r[r.indexOf(O)]=O=N=C}}function B(e,i,r,o,s){var p,d,g,y,v;if(!(e===h&&i===c||A))if(a){for(p=0,y=r.length;p<y;++p)if(t.zeroExcept(g=r[p],c,l))for(d=0;d<f[g].length;d++)(v=u[f[g][d]]).value=m(v.value,n[g],!1,d);for(p=0,y=o.length;p<y;++p)if(t.onlyExcept(g=o[p],c,l,i,e))for(d=0;d<f[g].length;d++)(v=u[f[g][d]]).value=_(v.value,n[g],s,d)}else{for(p=0,y=r.length;p<y;++p)t.zeroExcept(g=r[p],c,l)&&((v=u[f[g]]).value=m(v.value,n[g],!1));for(p=0,y=o.length;p<y;++p)t.onlyExcept(g=o[p],c,l,i,e)&&((v=u[f[g]]).value=_(v.value,n[g],s))}}function q(e,i,r,o,s){if(!(e===h&&i===c||A)){var a,f,p,d=u[0];for(a=0,p=r.length;a<p;++a)t.zeroExcept(f=r[a],c,l)&&(d.value=m(d.value,n[f],!1));for(a=0,p=o.length;a<p;++a)t.onlyExcept(f=o[a],c,l,i,e)&&(d.value=_(d.value,n[f],s))}}function G(){var e,r,o;for(e=0;e<I;++e)u[e].value=b();if(a){for(e=0;e<i;++e)for(r=0;r<f[e].length;r++)(o=u[f[e][r]]).value=m(o.value,n[e],!0,r);for(e=0;e<i;++e)if(!t.zeroExcept(e,c,l))for(r=0;r<f[e].length;r++)(o=u[f[e][r]]).value=_(o.value,n[e],!1,r)}else{for(e=0;e<i;++e)(o=u[f[e]]).value=m(o.value,n[e],!0);for(e=0;e<i;++e)t.zeroExcept(e,c,l)||((o=u[f[e]]).value=_(o.value,n[e],!1))}}function U(){var e,r=u[0];for(r.value=b(),e=0;e<i;++e)r.value=m(r.value,n[e],!0);for(e=0;e<i;++e)t.zeroExcept(e,c,l)||(r.value=_(r.value,n[e],!1))}function W(){return A&&(N(),A=!1),u}function K(t){var e=g(W(),0,u.length,t);return y.sort(e,0,e.length)}function $(t,e,n){return m=t,_=e,b=n,A=!0,o}function Z(){return $(D,j,S)}function J(t){return $(F(t),z(t),S)}function Q(t){function e(e){return t(e.value)}return g=L.by(e),y=T.by(e),o}function tt(){return Q(E)}function et(){return I}function nt(){var t=r.indexOf(O);return t>=0&&r.splice(t,1),(t=H.indexOf(k))>=0&&H.splice(t,1),(t=s.indexOf(P))>=0&&s.splice(t,1),(t=V.indexOf(o))>=0&&V.splice(t,1),o}return arguments.length<1&&(e=E),r.push(O),H.push(k),s.push(P),k(p,d,0,i),Z().orderNatural()}function ht(){V.forEach((function(t){t.dispose()}));var e=o.indexOf(Q);return e>=0&&o.splice(e,1),(e=o.indexOf(tt))>=0&&o.splice(e,1),(e=s.indexOf(et))>=0&&s.splice(e,1),t.masks[c]&=l,ot()}return c=J.offset,h=J.one,l=~h,f=c<<7|Math.log(h)/Math.log(2),Q(n,0,i),tt(n,0,i),R}function p(){var e,s,a,u,h={reduce:p,reduceCount:d,reduceSum:function(t){return p(F(t),z(t),S)},value:function(){l&&(function(){var r;for(e=u(),r=0;r<i;++r)e=s(e,n[r],!0),t.zero(r)||(e=a(e,n[r],!1))}(),l=!1);return e},dispose:g,remove:g},l=!0;function c(r,o){var u;if(!l)for(u=o;u<i;++u)e=s(e,n[u],!0),t.zero(u)||(e=a(e,n[u],!1))}function f(i,r,o,u,h){var c,f,p;if(!l){for(c=0,p=o.length;c<p;++c)t.zero(f=o[c])&&(e=s(e,n[f],h));for(c=0,p=u.length;c<p;++c)t.only(f=u[c],r,i)&&(e=a(e,n[f],h))}}function p(t,e,n){return s=t,a=e,u=n,l=!0,h}function d(){return p(D,j,S)}function g(){var t=r.indexOf(f);return t>=0&&r.splice(t,1),(t=o.indexOf(c))>=0&&o.splice(t,1),h}return r.push(f),o.push(c),c(n,0),d()}function d(){return i}function g(){return n}function y(e){var r=[],o=0,s=l(e||[]);for(o=0;o<i;o++)t.zeroExceptMask(o,s)&&r.push(n[o]);return r}function m(t){if("function"==typeof t)return a.push(t),function(){a.splice(a.indexOf(t),1)};console.warn("onChange callback parameter must be a function!")}function _(t){for(var e=0;e<a.length;e++)a[e](t)}return t=new v.bitarray(0),arguments.length?u(arguments[0]):e}function Y(t,e){return(e<257?v.array8:e<65537?v.array16:v.array32)(t)}function W(t){for(var e=Y(t,t),n=-1;++n<t;)e[n]=n;return e}function X(t){return 8===t?256:16===t?65536:4294967296}var V=n(131),K=n(134);const $=new class{constructor(){this.config={varnames:{},aggrop:"sum",filters:[],proj:"Mercator / EPSG:3857",styles:{nodes:{color:{fixed:"#000000"},size:{varied:{var:"degree",scale:"Sqrt",maxval:100}},text:{fixed:"none"},opacity:{fixed:.7}},links:{}}},this.data={nodes:[],links:[],nodes_hash:{},filters:{}}}set_nodes_varnames(t,e,n){this.config.varnames.nodeID=t,this.config.varnames.lat=e,this.config.varnames.long=n}set_links_varnames(t,e,n){this.config.varnames.linkID=[t,e],this.config.varnames.vol=n}set_links_aggr(t){this.config.aggrop=t}set_projection(t){this.config.proj=t}get_projection(t){return this.config.proj}get_nodes_style(){return this.config.styles.nodes}export(){var t=new o.a;t.file("arabesque.json",JSON.stringify({nodes:this.data.nodes,links:this.data.links,config:this.config})),t.generateAsync({type:"blob"}).then((function(t){a()(t,"export_arabesque.zip")}))}async preprocess_nodes(t,e){if(console.log(t.type),"text/csv"!=t.type&"application/json"!=t.type&"application/geo+json"!=t.type)throw"unsupported file type";if("text/csv"==t.type){const n=new FileReader;n.onload=t=>e(n.result.split("\n")[0].split(",")),n.readAsText(t.slice(0,8e3))}else{const n=new FileReader;n.onload=t=>e(Object.keys(JSON.parse(n.result).features[0].properties)),n.readAsText(t)}}async import_nodes(t,e){if(console.log("Importing nodes"),"text/csv"!=t.type&"application/json"!=t.type&"application/geo+json"!=t.type)throw"unsupported file type";var n=this;if("text/csv"==t.type){const i=new FileReader;i.onload=function(t){n.data.nodes=n.create_geojson(Object(u.parse)(i.result,{header:!0,skipEmptyLines:!0}).data),e()},i.readAsText(t)}else{const i=new FileReader;i.onload=function(t){let r=JSON.parse(i.result);r.features.forEach(t=>{t.geometry=h.centroid(t.geometry).geometry;let e=t.geometry.coordinates[0],i=t.geometry.coordinates[1];t.geometry.coordinates=[i,e],t.properties[n.config.varnames.nodeID]=t.properties[n.config.varnames.nodeID].toString()}),n.data.nodes=r.features,e()},i.readAsText(t)}}async preprocess_links(t,e){if(console.log(t.type),"text/csv"!=t.type)throw"unsupported file type";{const n=new FileReader;n.onload=t=>e(n.result.split("\n")[0].split(",")),n.readAsText(t.slice(0,8e3))}}async import_links(t,e){if(console.log("Importing links"),"text/csv"!=t.type)throw"unsupported file type";{var n=this;const i=new FileReader;i.onload=function(t){let r=Object(u.parse)(i.result,{header:!0,skipEmptyLines:!0});n.data.links=r.data;var o=n.import();e(o,n.get_nodes(),n.get_links(),n.config)},i.readAsText(t)}}reduceAddC(t){return function(e,n){return e+ +n[t.config.varnames.vol]}}reduceRemC(t){return function(e,n){return e-+n[t.config.varnames.vol]}}reduceIniC(t){return function(){return 0}}reduceAddNodeC(t,e){return function(e,n){return e.n=e.n+1,e.w=e.w+ +n[t.config.varnames.vol],e}}reduceRemNodeC(t){return function(e,n){return e.n=e.n-1,e.w=e.w-+n[t.config.varnames.vol],e}}reduceIniNodeC(t){return function(){return{n:0,w:0}}}import(){console.log(this);let t=this.data.nodes.map(t=>t.properties[this.config.varnames.nodeID]),e=new Set(t),n=this.data.links.map(t=>t[this.config.varnames.linkID[0]]),i=this.data.links.map(t=>t[this.config.varnames.linkID[1]]),r=new Set(n.concat(i)),o=new Set([...e].filter(t=>r.has(t))),s=this.data.links.length;this.data.links=this.data.links.filter(t=>o.has(t[this.config.varnames.linkID[0]])&o.has(t[this.config.varnames.linkID[1]]));let a=[];for(let e=0;e<t.length;e++)t[e]in this.data.nodes_hash||(this.data.nodes[e].id=t[e],this.data.nodes_hash[t[e]]=this.data.nodes[e],a.push(this.data.nodes[e]));return this.data.nodes=a,this.add_links_stats(),this.data.crossfilters=U(this.data.links),this.data.od_dim=this.data.crossfilters.dimension(t=>t[this.config.varnames.linkID[0]]+"->"+t[this.config.varnames.linkID[1]]),this.data.links_aggregated=this.data.od_dim.group().reduce(this.reduceAddC(this),this.reduceRemC(this),this.reduceIniC(this)),this.data.from_dim=this.data.crossfilters.dimension(t=>t[this.config.varnames.linkID[0]]),this.data.nodes_from_aggregated=this.data.from_dim.group().reduce(this.reduceAddNodeC(this),this.reduceRemNodeC(this),this.reduceIniNodeC(this)),this.data.to_dim=this.data.crossfilters.dimension(t=>t[this.config.varnames.linkID[1]]),this.data.nodes_to_aggregated=this.data.to_dim.group().reduce(this.reduceAddNodeC(this),this.reduceRemNodeC(this),this.reduceIniNodeC(this)),this.init_nodes_stats(),this.update_nodes_stats(),console.log("Model"),console.log(this),{nb_nodes:o.size,nb_links:this.data.links.length,nb_removed_nodes:t.length-o.size,nb_removed_links:s-this.data.links.length,nb_aggregated_links:this.data.links_aggregated.all().length}}async import_zip(t,e){console.log(t);var n=this;o.a.loadAsync(t).then((function(t){return t.file("arabesque.json").async("string")})).then((function(t){let i=JSON.parse(t);console.log(i),n.config=i.config,n.data.nodes=i.nodes,n.data.links=i.links;for(let t=0;t<n.data.nodes.length;t++)n.data.nodes_hash[n.data.nodes[t].id]=n.data.nodes[t];n.data.crossfilters=U(n.data.links),n.data.od_dim=n.data.crossfilters.dimension(t=>t[n.config.varnames.linkID[0]]+"->"+t[n.config.varnames.linkID[1]]),n.data.links_aggregated=n.data.od_dim.group().reduce(n.reduceAddC(n),n.reduceRemC(n),n.reduceIniC(n)),n.data.from_dim=n.data.crossfilters.dimension(t=>t[n.config.varnames.linkID[0]]),n.data.nodes_from_aggregated=n.data.from_dim.group().reduce(n.reduceAddNodeC(n),n.reduceRemNodeC(n),n.reduceIniNodeC(n)),n.data.to_dim=n.data.crossfilters.dimension(t=>t[n.config.varnames.linkID[1]]),n.data.nodes_to_aggregated=n.data.to_dim.group().reduce(n.reduceAddNodeC(n),n.reduceRemNodeC(n),n.reduceIniNodeC(n)),n.init_nodes_stats(),n.update_nodes_stats();let r=n.config.filters;n.config.filters=[];let o=r.map(t=>n.create_filter(t.id)),s=o.map(t=>t.group());console.log(" Import end");let a={nb_nodes:n.data.nodes.length,nb_links:n.data.links.length,nb_removed_nodes:0,nb_removed_links:0,nb_aggregated_links:n.data.links_aggregated.all().length};e(a,n.config.filters,o,s)}))}get_nodes(){return this.update_nodes_stats(),this.data.nodes}get_links(){return this.data.links_aggregated.all().filter(t=>t.value>0)}update_nodes_stats(){let t=this.data.nodes_to_aggregated.all();for(let e=0;e<t.length;e++)this.data.nodes_hash[t[e].key].properties.indegree=t[e].value.n,this.data.nodes_hash[t[e].key].properties["weighted indegree"]=t[e].value.w;let e=this.data.nodes_from_aggregated.all();for(let t=0;t<e.length;t++)this.data.nodes_hash[e[t].key].properties.outdegree=e[t].value.n,this.data.nodes_hash[e[t].key].properties["weighted outdegree"]=e[t].value.w;for(let t=0;t<this.data.nodes.length;t++)this.data.nodes[t].properties.degree=this.data.nodes[t].properties.indegree+this.data.nodes[t].properties.outdegree,this.data.nodes[t].properties["weighted degree"]=this.data.nodes[t].properties["weighted indegree"]+this.data.nodes[t].properties["weighted outdegree"],this.data.nodes[t].properties.balance=this.data.nodes[t].properties.indegree-this.data.nodes[t].properties.outdegree,this.data.nodes[t].properties["weighted balance"]=this.data.nodes[t].properties["weighted indegree"]-this.data.nodes[t].properties["weighted outdegree"]}init_nodes_stats(){for(let t=0;t<this.data.nodes.length;t++)this.data.nodes[t].properties["weighted indegree"]=0,this.data.nodes[t].properties["weighted outdegree"]=0,this.data.nodes[t].properties["weighted degree"]=0,this.data.nodes[t].properties["weighted balance"]=0,this.data.nodes[t].properties.indegree=0,this.data.nodes[t].properties.outdegree=0,this.data.nodes[t].properties.balance=0,this.data.nodes[t].properties.degree=0}add_links_stats(){for(let t=0;t<this.data.links.length;t++){let e=this.data.links[t][this.config.varnames.linkID[0]],n=this.data.links[t][this.config.varnames.linkID[1]];this.data.links[t].distance=h.distance(this.data.nodes_hash[e],this.data.nodes_hash[n])}}create_geojson(t){for(var e=t.length,n=[],i=0;i<e;i++)try{var r=h.point([Number(t[i][this.config.varnames.lat]),Number(t[i][this.config.varnames.long])],t[i]);n.push(r)}catch{console.log("some nodes not parsed")}return n}create_filter(t){let e=this.data.crossfilters.dimension(e=>+e[t]);return this.data.filters[t]=e,this.config.filters.push({id:t,range:[+e.group().all()[0].key,+e.group().top(1)[0].key]}),e}},Z=new V.a("Map"),J=new K.a(Z);new i.a($,J)},function(t,e,n){"use strict";var i=n(2),r=n(29),o=n(27),s=n(23),a=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),u=function(t){function e(e,n,i,r,o){t.call(this,e,n,o),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(a),h=n(17),l=n(4),c={SINGLECLICK:"singleclick",CLICK:l.a.CLICK,DBLCLICK:l.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},f=function(t){function e(e,n,i,r,o){t.call(this,e,n,i.originalEvent,r,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u),p=n(1),d=n(38),g="pointermove",y="pointerdown",m="pointerup",_="pointerover",v="pointerout",b="pointerenter",x="pointerleave",w="pointercancel",E=function(t,e){this.dispatcher=t,this.mapping_=e};E.prototype.getEvents=function(){return Object.keys(this.mapping_)},E.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var C=E;function S(t){if(!this.isEventSimulatedFromTouch_(t)){1..toString()in this.pointerMap&&this.cancel(t);var e=N(t,this.dispatcher);this.pointerMap[1..toString()]=t,this.dispatcher.down(e,t)}}function M(t){if(!this.isEventSimulatedFromTouch_(t)){var e=N(t,this.dispatcher);this.dispatcher.move(e,t)}}function I(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[1..toString()];if(e&&e.button===t.button){var n=N(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function T(t){if(!this.isEventSimulatedFromTouch_(t)){var e=N(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function O(t){if(!this.isEventSimulatedFromTouch_(t)){var e=N(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function N(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=1,n.isPrimary=!0,n.pointerType="mouse",n}var L=function(t){function e(e){var n={mousedown:S,mousemove:M,mouseup:I,mouseover:T,mouseout:O};t.call(this,e,n),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,o=e.length,s=void 0;r<o&&(s=e[r]);r++){var a=Math.abs(n-s[0]),u=Math.abs(i-s[1]);if(a<=25&&u<=25)return!0}return!1},e.prototype.cancel=function(t){var e=N(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[1..toString()]},e}(C),A=["","unavailable","touch","pen","mouse"];function R(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function k(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function P(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function D(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function j(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function F(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function z(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function B(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var q=function(t){function e(e){var n={MSPointerDown:R,MSPointerMove:k,MSPointerUp:P,MSPointerOut:D,MSPointerOver:j,MSPointerCancel:F,MSGotPointerCapture:B,MSLostPointerCapture:z};t.call(this,e,n),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=A[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(C);function G(t){this.dispatcher.fireNativeEvent(t)}function U(t){this.dispatcher.fireNativeEvent(t)}function H(t){this.dispatcher.fireNativeEvent(t)}function Y(t){this.dispatcher.fireNativeEvent(t)}function W(t){this.dispatcher.fireNativeEvent(t)}function X(t){this.dispatcher.fireNativeEvent(t)}function V(t){this.dispatcher.fireNativeEvent(t)}function K(t){this.dispatcher.fireNativeEvent(t)}var $=function(t){function e(e){var n={pointerdown:G,pointermove:U,pointerup:H,pointerout:Y,pointerover:W,pointercancel:X,gotpointercapture:K,lostpointercapture:V};t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(C),Z=!1,J=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var r=i||{};this.buttons=function(t){var e;if(t.buttons||Z)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){var n=0;n=t.pressure?t.pressure:e?.5:0;return n}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a);!function(){try{var t=new MouseEvent("click",{buttons:1});Z=1===t.buttons}catch(t){}}();var Q=J,tt=n(15);function et(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function nt(t){this.processTouches_(t,this.moveOverOut_)}function it(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function rt(t){this.processTouches_(t,this.cancelOut_)}var ot=function(t){function e(e,n){var i={touchstart:et,touchmove:nt,touchend:it,touchcancel:rt};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&1..toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){var n=Array.prototype.slice.call(t.changedTouches),i=n.length;function r(){t.preventDefault()}for(var o=0;o<i;++o){var s=this.touchToPointer_(t,n[o]);s.preventDefault=r,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++){if(t[i].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],o=0;o<i;++o){var s=Number(n[o]),a=this.pointerMap[s];1==s||this.findTouch_(e,s-2)||r.push(a.out)}for(var u=0;u<r.length;++u)this.cancelOut_(t,r[u])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout((function(){Object(tt.g)(e,i)}),this.dedupTimeout_)}},e}(C),st=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],at=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(h.f)this.registerSource("native",new $(this));else if(h.e)this.registerSource("ms",new q(this));else{var t=new L(this);this.registerSource("mouse",t),h.h&&this.registerSource("touch",new ot(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(p.a)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(p.c)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=st.length;i<r;i++){var o=st[i][0];n[o]=t[o]||e[o]||st[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(y,t,e)},e.prototype.move=function(t,e){this.fireEvent(g,t,e)},e.prototype.up=function(t,e){this.fireEvent(m,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(b,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(x,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(_,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(v,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(w,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new Q(t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,N(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(d.a),ut=function(t){function e(e,n){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*h.b:h.b,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new at(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(p.a)(this.pointerEventHandler_,y,this.handlePointerDown_,this),this.relayedListenerKey_=Object(p.a)(this.pointerEventHandler_,g,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new f(c.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new f(c.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new f(c.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==c.POINTERUP||e.type==c.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==c.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new f(c.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(p.e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new f(c.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new at(document),this.dragListenerKeys_.push(Object(p.a)(this.documentPointerEventHandler_,c.POINTERMOVE,this.handlePointerMove_,this),Object(p.a)(this.documentPointerEventHandler_,c.POINTERUP,this.handlePointerUp_,this),Object(p.a)(this.pointerEventHandler_,c.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new f(c.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new f(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(p.e)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(p.e)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(p.e),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(d.a),ht=n(65),lt="layergroup",ct="size",ft="target",pt="view",dt=n(33),gt=n(16),yt=n(45),mt=n(7),_t=n(10),vt=n(9),bt=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};bt.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(vt.b)(this.queuedElements_)},bt.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},bt.prototype.enqueue=function(t){Object(_t.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},bt.prototype.getCount=function(){return this.elements_.length},bt.prototype.getLeftChildIndex_=function(t){return 2*t+1},bt.prototype.getRightChildIndex_=function(t){return 2*t+2},bt.prototype.getParentIndex_=function(t){return t-1>>1},bt.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},bt.prototype.isEmpty=function(){return 0===this.elements_.length},bt.prototype.isKeyQueued=function(t){return t in this.queuedElements_},bt.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},bt.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),h=u<i&&n[u]<n[a]?u:a;e[t]=e[h],n[t]=n[h],t=h}e[t]=r,n[t]=o,this.siftDown_(s,t)},bt.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=r,i[e]=o},bt.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)(n=i(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,r[s++]=t);r.length=s,o.length=s,this.heapify_()};var xt=function(t){function e(e,n){t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){var i=e[0];Object(p.a)(i,l.a.CHANGE,this.handleTileChange,this)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===mt.a.LOADED||n===mt.a.ERROR||n===mt.a.EMPTY||n===mt.a.ABORT){Object(p.c)(e,l.a.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r,o=0,s=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(i=this.dequeue()[0]).getKey(),(n=i.getState())===mt.a.ABORT?s=!0:n!==mt.a.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load());0===o&&s&&this.tileChangeCallback_()},e}(bt),wt=n(85),Et=n(12),Ct=n(13),St=n(0),Mt=n(14),It=n(80),Tt=n(39),Ot="layers",Nt=function(t){function e(e){var n=e||{},i=Object(vt.a)({},n);delete i.layers;var o=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},Object(p.a)(this,Object(gt.b)(Ot),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new r.a(o.slice(),{unique:!0}):Object(_t.a)("function"==typeof o.getArray,43):o=new r.a(void 0,{unique:!0}),this.setLayers(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(p.e),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(p.a)(t,o.a.ADD,this.handleLayersAdd_,this),Object(p.a)(t,o.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(p.e);Object(vt.b)(this.listenerKeys_);for(var n=t.getArray(),r=0,s=n.length;r<s;r++){var a=n[r];this.listenerKeys_[Object(i.c)(a)]=[Object(p.a)(a,yt.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(p.a)(a,l.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(i.c)(e)]=[Object(p.a)(e,yt.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(p.a)(e,l.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=Object(i.c)(e);this.listenerKeys_[n].forEach(p.e),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(Ot)},e.prototype.setLayers=function(t){this.set(Ot,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var s=e[r];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==s.extent?s.extent=Object(St.B)(s.extent,i.extent):s.extent=i.extent)}return e},e.prototype.getSourceState=function(){return Tt.a.READY},e}(It.a),Lt=n(36),At=n(8);var Rt=function(t){function e(e){t.call(this);var n=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,s={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Nt({layers:t.layers});s[lt]=a,s[ft]=t.target,s[pt]=void 0!==t.view?t.view:new wt.a,void 0!==t.controls&&(Array.isArray(t.controls)?n=new r.a(t.controls.slice()):(Object(_t.a)("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new r.a(t.interactions.slice()):(Object(_t.a)("function"==typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new r.a(t.overlays.slice()):(Object(_t.a)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new r.a;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:s}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:h.b,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(At.c)(),this.pixelToCoordinateTransform_=Object(At.c)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(h.h?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[l.a.CLICK,l.a.DBLCLICK,l.a.MOUSEDOWN,l.a.TOUCHSTART,l.a.MSPOINTERDOWN,c.POINTERDOWN,l.a.MOUSEWHEEL,l.a.WHEEL],a=0,u=i.length;a<u;++a)Object(p.a)(this.overlayContainerStopEvent_,i[a],s.b);for(var f in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new ut(this,e.moveTolerance),c)Object(p.a)(this.mapBrowserEventHandler_,c[f],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,Object(p.a)(this.viewport_,l.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(p.a)(this.viewport_,l.a.WHEEL,this.handleBrowserEvent,this),Object(p.a)(this.viewport_,l.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new r.a,this.interactions=n.interactions||new r.a,this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new xt(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(p.a)(this,Object(gt.b)(lt),this.handleLayerGroupChanged_,this),Object(p.a)(this,Object(gt.b)(pt),this.handleViewChanged_,this),Object(p.a)(this,Object(gt.b)(ct),this.handleSizeChanged_,this),Object(p.a)(this,Object(gt.b)(ft),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(p.a)(this.controls,o.a.ADD,(function(t){t.element.setMap(this)}),this),Object(p.a)(this.controls,o.a.REMOVE,(function(t){t.element.setMap(null)}),this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(p.a)(this.interactions,o.a.ADD,(function(t){t.element.setMap(this)}),this),Object(p.a)(this.interactions,o.a.REMOVE,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(p.a)(this.overlays_,o.a.ADD,(function(t){this.addOverlayInternal_(t.element)}),this),Object(p.a)(this.overlays_,o.a.REMOVE,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(p.c)(this.viewport_,l.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(p.c)(this.viewport_,l.a.WHEEL,this.handleBrowserEvent,this),Object(p.c)(this.viewport_,l.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(l.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:Mt.b;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,(function(t){n||(n=[]),n.push(t)}),e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||Mt.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Mt.b,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(ft)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(At.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(lt)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(At.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(ct)},e.prototype.getView=function(){return this.get(pt)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!r||!(e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=n[0]-r.focus[0],s=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new u(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive())if(!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[Et.a.ANIMATING]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[Et.a.INTERACTING]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(dt.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var n=0,i=e.length;n<i;++n){var r=e[n];if("function"==typeof r.getLayers)return t(r.getLayers().getArray());var o=r.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(dt.a.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(p.e)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(p.a)(i,l.a.KEYDOWN,this.handleBrowserEvent,this),Object(p.a)(i,l.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(l.a.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(Ct.c)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(l.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(p.e)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(p.e)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(i.c)(t)),this.viewPropertyListenerKey_=Object(p.a)(t,yt.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(p.a)(t,l.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(p.e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(p.a)(t,yt.a.PROPERTYCHANGE,this.render,this),Object(p.a)(t,l.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),r=this.getView(),o=Object(St.j)(),s=this.frameState_,u=null;if(void 0!==n&&Object(Lt.a)(n)&&r&&r.isDef()){for(var h=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=this.getLayerGroup().getLayerStatesArray(),c={},f=0,p=l.length;f<p;++f)c[Object(i.c)(l[f].layer)]=l[f];e=r.getState(this.pixelRatio_),u={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:c,layerStatesArray:l,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:h,wantedTiles:{}}}if(u&&(u.extent=Object(St.z)(e.center,e.resolution,e.rotation,u.size,o)),this.frameState_=u,this.renderer_.renderFrame(u),u){if(u.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,u.postRenderFunctions),s)(!this.previousExtent_||!Object(St.H)(this.previousExtent_)&&!Object(St.p)(u.extent,this.previousExtent_))&&(this.dispatchEvent(new a(ht.a.MOVESTART,this,s)),this.previousExtent_=Object(St.l)(this.previousExtent_));this.previousExtent_&&!u.viewHints[Et.a.ANIMATING]&&!u.viewHints[Et.a.INTERACTING]&&!Object(St.p)(u.extent,this.previousExtent_)&&(this.dispatchEvent(new a(ht.a.MOVEEND,this,u)),Object(St.d)(u.extent,this.previousExtent_))}this.dispatchEvent(new a(ht.a.POSTRENDER,this,u)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(lt,t)},e.prototype.setSize=function(t){this.set(ct,t)},e.prototype.setTarget=function(t){this.set(ft,t)},e.prototype.setView=function(t){this.set(pt,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(i.c)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(i.c)(t)],this.render()},e}(gt.a);var kt=n(100),Pt=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};Pt.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},Pt.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},Pt.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},Pt.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},Pt.prototype.getAngle=function(){return this.angle_};var Dt=Pt,jt=n(24),Ft="active",zt=n(6);function Bt(t,e,n,i){e=t.constrainRotation(e,0),qt(t,e,n,i)}function qt(t,e,n,i){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:jt.b}):t.rotate(e,n)}}function Gt(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var s=t.getResolutions();o=Object(zt.a)(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(n&&void 0!==o&&o!==r){var a=t.getCenter(),u=t.calculateCenterZoom(o,n);u=t.constrainCenter(u),n=[(o*a[0]-r*u[0])/(o-r),(o*a[1]-r*u[1])/(o-r)]}Ut(t,o,n,i)}function Ut(t,e,n,i){if(e){var r=t.getResolution(),o=t.getCenter();if(void 0!==r&&o&&e!==r&&i)t.animate({resolution:e,anchor:n,duration:i,easing:jt.b});else{if(n){var s=t.calculateCenterZoom(e,n);t.setCenter(s)}t.setResolution(e)}}}var Ht=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(Ft)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(Ft,t)},e.prototype.setMap=function(t){this.map_=t},e}(gt.a);function Yt(t){var e=!1;if(t.type==c.DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;Gt(i.getView(),o,r,this.duration_),t.preventDefault(),e=!0}return!e}var Wt=function(t){function e(e){t.call(this,{handleEvent:Yt});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ht),Xt=n(41),Vt=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Kt=function(t){return t.target.getTargetElement()===document.activeElement},$t=Mt.b,Zt=function(t){var e=t.originalEvent;return 0==e.button&&!(h.i&&h.d&&e.ctrlKey)},Jt=(Mt.a,function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}),Qt=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},te=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},ee=function(t){var e=t.pointerEvent;return Object(_t.a)(void 0!==e,56),"mouse"==e.pointerType};function ne(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}var ie=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==c.POINTERDRAG)this.handleDragEvent(t);else if(t.type==c.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==c.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==c.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===c.POINTERDOWN||e===c.POINTERDRAG||e===c.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==c.POINTERUP?delete this.trackedPointers_[n]:(t.type==c.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Object(vt.c)(this.trackedPointers_)}},e}(Ht),re=function(t){function e(e){t.call(this,{stopDown:Mt.a});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:Jt,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(Et.a.INTERACTING,1));var e=this.targetPointers,n=ne(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],o=t.map.getView(),s=[i,r];Object(Xt.d)(s,o.getResolution()),Object(Xt.c)(s,o.getRotation()),Object(Xt.a)(s,o.getCenter()),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(a),duration:500,easing:jt.b})}return this.panning_&&(this.panning_=!1,n.setHint(Et.a.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(ie),oe=n(46),se=function(t){function e(e){var n=e||{};t.call(this,{stopDown:Mt.a}),this.condition_=n.condition?n.condition:Vt,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(ee(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==oe.c){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_,a=n.getRotation();qt(n,a-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!ee(t))return!0;var e=t.map.getView();e.setHint(Et.a.INTERACTING,-1);var n=e.getRotation();return Bt(e,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!!ee(t)&&(!(!Zt(t)||!this.condition_(t))&&(t.map.getView().setHint(Et.a.INTERACTING,1),this.lastAngle_=void 0,!0))},e}(ie),ae=n(62),ue=n(59),he=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new ue.a([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(ae.a),le="boxstart",ce="boxdrag",fe="boxend",pe=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a);function de(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(n),o=Object(St.n)([t.getPixelFromCoordinate(Object(St.v)(i)),t.getPixelFromCoordinate(Object(St.D)(i))]),s=e.getResolutionForExtent(o,n);Object(St.J)(r,1/s),i=r}var a=e.constrainResolution(e.getResolutionForExtent(i,n)),u=Object(St.x)(i);u=e.constrainCenter(u),e.animate({resolution:a,center:u,duration:this.duration_,easing:jt.b})}var ge=function(t){function e(e){var n=e||{},i=n.condition?n.condition:Qt;t.call(this,{condition:i,className:n.className||"ol-dragzoom",onBoxEnd:de}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this);var n=e||{};this.box_=new he(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:Mt.c,this.startPixel_=null,this.condition_=n.condition?n.condition:$t,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){ee(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new pe(ce,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!ee(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new pe(fe,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!ee(t)&&(!(!Zt(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new pe(le,t.coordinate,t)),!0))},e}(ie)),ye=37,me=38,_e=39,ve=40;function be(t){var e=!1;if(t.type==l.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==ve||n==ye||n==_e||n==me)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,o=0,s=0;n==ve?s=-r:n==ye?o=-r:n==_e?o=r:s=r;var a=[o,s];Object(Xt.c)(a,i.getRotation()),function(t,e,n){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:jt.d,center:r}):t.setCenter(r)}}(i,a,this.duration_),t.preventDefault(),e=!0}}return!e}var xe=function(t){function e(e){t.call(this,{handleEvent:be});var n=e||{};this.defaultCondition_=function(t){return Jt(t)&&te(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ht);function we(t){var e=!1;if(t.type==l.a.KEYDOWN||t.type==l.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_;Gt(i.getView(),r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var Ee=function(t){function e(e){t.call(this,{handleEvent:we});var n=e||{};this.condition_=n.condition?n.condition:te,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ht),Ce="trackpad",Se="wheel",Me=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:$t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(Et.a.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==l.a.WHEEL&&e!==l.a.MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==l.a.WHEEL?(n=r.deltaY,h.c&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=h.b),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==l.a.MOUSEWHEEL&&(n=-r.wheelDeltaY,h.g&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?Ce:Se),this.mode_===Ce){var s=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(Et.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),u=s.getMinResolution(),c=s.getMaxResolution(),f=0;if(a<u?(a=Math.max(a,u/this.trackpadZoomBuffer_),f=1):a>c&&(a=Math.min(a,c*this.trackpadZoomBuffer_),f=-1),this.lastAnchor_){var p=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(p))}return s.setResolution(a),0===f&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,n>0?-1:1),easing:jt.b,anchor:this.lastAnchor_,duration:this.duration_}),f>0?s.animate({resolution:u,easing:jt.b,anchor:this.lastAnchor_,duration:500}):f<0&&s.animate({resolution:c,easing:jt.b,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var d=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),d),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();Gt(e,-Object(zt.a)(this.delta_,-1,1),this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Ht),Ie=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=Mt.a),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==oe.c){var u=s.getViewport().getBoundingClientRect(),h=ne(this.targetPointers);if(h[0]-=u.left,h[1]-=u.top,this.anchor_=s.getCoordinateFromPixel(h),this.rotating_){var l=a.getRotation();s.render(),qt(a,l+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(Et.a.INTERACTING,-1),this.rotating_){var n=e.getRotation();Bt(e,n,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(Et.a.INTERACTING,1),!0}return!1},e}(ie),Te=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=Mt.a),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,u=a.getView(),h=u.getResolution(),l=u.getMaxResolution(),c=u.getMinResolution(),f=h*e;f>l?(e=l/h,f=l):f<c&&(e=c/h,f=c),1!=e&&(this.lastScaleDelta_=e);var p=a.getViewport().getBoundingClientRect(),d=ne(this.targetPointers);d[0]-=p.left,d[1]-=p.top,this.anchor_=a.getCoordinateFromPixel(d),a.render(),Ut(u,f,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(Et.a.INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var i=this.lastScaleDelta_-1;!function(t,e,n,i,r){e=t.constrainResolution(e,0,r),Ut(t,e,n,i)}(e,n,this.anchor_,this.duration_,i)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(Et.a.INTERACTING,1),!0}return!1},e}(ie);var Oe=n(35),Ne=function(t){function e(e,n,i,r){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(l.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(i.b)()},e}(d.a),Le=n(21),Ae=function(t){function e(e,n,i,r,o){var s=void 0!==o?Le.a.IDLE:Le.a.LOADED;t.call(this,e,n,i,s),this.loader_=void 0!==o?o:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Le.a.ERROR):this.state=Le.a.LOADED,this.changed()},e.prototype.load=function(){this.state==Le.a.IDLE&&(this.state=Le.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(Ne),Re=n(32),ke=n(82),Pe=n(19),De=n(42),je=function(t){function e(e,n,i,r,o){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),Fe=n(3),ze=n(34),Be=n(5),qe=n(44),Ge=n(31),Ue=function(){};Ue.prototype.drawCustom=function(t,e,n){},Ue.prototype.drawGeometry=function(t){},Ue.prototype.setStyle=function(t){},Ue.prototype.drawCircle=function(t,e){},Ue.prototype.drawFeature=function(t,e){},Ue.prototype.drawGeometryCollection=function(t,e){},Ue.prototype.drawLineString=function(t,e){},Ue.prototype.drawMultiLineString=function(t,e){},Ue.prototype.drawMultiPoint=function(t,e){},Ue.prototype.drawMultiPolygon=function(t,e){},Ue.prototype.drawPoint=function(t,e){},Ue.prototype.drawPolygon=function(t,e){},Ue.prototype.drawText=function(t,e){},Ue.prototype.setFillStrokeStyle=function(t,e){},Ue.prototype.setImageStyle=function(t,e){},Ue.prototype.setTextStyle=function(t,e){};var He=Ue,Ye=function(t){function e(e,n,i,r,o){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(At.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=Object(Ge.c)(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var h=0,l=r.length;h<l;h+=2){var c=r[h]-this.imageAnchorX_,f=r[h+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var p=c+this.imageAnchorX_,d=f+this.imageAnchorY_;Object(At.b)(s,p,d,this.imageScale_,this.imageScale_,u,-p,-d),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,f,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(Ge.c)(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,u=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var h=Object(At.b)(this.tmpLocalTransform_,a,u,this.textScale_,this.textScale_,s,-a,-u);o.setTransform.apply(o,h)}this.textStrokeState_&&o.strokeText(this.text_,a,u),this.textFillState_&&o.fillText(this.text_,a,u)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=Object(Ge.c)(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var u=2;u<a;u+=2)o.lineTo(s[u],s[u+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(Object(St.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(qe.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case Be.a.POINT:this.drawPoint(t);break;case Be.a.LINE_STRING:this.drawLineString(t);break;case Be.a.POLYGON:this.drawPolygon(t);break;case Be.a.MULTI_POINT:this.drawMultiPoint(t);break;case Be.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Be.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Be.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Be.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Object(St.F)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(Object(St.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(St.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var a=0,u=o.length;a<u;++a)r=this.moveToLineTo_(i,r,o[a],s,!1);n.stroke()}if(""!==this.text_){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(St.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(St.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s){var u=r[s];i=this.drawRings_(n,i,u,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),h.a&&(Object(tt.a)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,h.a&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:Fe.l;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Object(ze.a)(n||Fe.b)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),u=e.getWidth(),h=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:Fe.d,lineDash:o||Fe.e,lineDashOffset:s||Fe.f,lineJoin:void 0!==a?a:Fe.g,lineWidth:this.pixelRatio_*(void 0!==u?u:Fe.h),miterLimit:void 0!==h?h:Fe.i,strokeStyle:Object(ze.a)(i||Fe.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Object(ze.a)(n||Fe.b)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),s=i.getLineDash(),a=i.getLineDashOffset(),u=i.getLineJoin(),h=i.getWidth(),l=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:Fe.d,lineDash:s||Fe.e,lineDashOffset:a||Fe.f,lineJoin:void 0!==u?u:Fe.g,lineWidth:void 0!==h?h:Fe.h,miterLimit:void 0!==l?l:Fe.i,strokeStyle:Object(ze.a)(r||Fe.k)}}else this.textStrokeState_=null;var c=t.getFont(),f=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),y=t.getScale(),m=t.getText(),_=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:void 0!==c?c:Fe.c,textAlign:void 0!==_?_:Fe.l,textBaseline:void 0!==v?v:Fe.m},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==y?y:1)}else this.text_=""},e}(He),We=n(40),Xe=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function Ve(t,e,n){return e+":"+t+":"+(n?Object(We.a)(n):"null")}Xe.prototype.clear=function(){this.cache_={},this.cacheSize_=0},Xe.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},Xe.prototype.get=function(t,e,n){var i=Ve(t,e,n);return i in this.cache_?this.cache_[i]:null},Xe.prototype.set=function(t,e,n,i){var r=Ve(t,e,n);this.cache_[r]=i,++this.cacheSize_},Xe.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var Ke=new Xe,$e=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(i.b)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Object(At.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(At.d)(Object(At.g)(i,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,s,a){var u,h=e.viewState,l=h.resolution;function c(t,n){var s=e.layerStates[Object(i.c)(n)].managed;if(!(Object(i.c)(t)in e.skippedFeatureUids)||s)return r.call(o,t,s?n:null)}var f=h.projection,p=t;if(f.canWrapX()){var d=f.getExtent(),g=Object(St.E)(d),y=t[0];if(y<d[0]||y>d[2])p=[y+g*Math.ceil((d[0]-y)/g),t[1]]}var m,_=e.layerStatesArray;for(m=_.length-1;m>=0;--m){var v=_[m],b=v.layer;if(Object(De.b)(v,l)&&s.call(a,b)){var x=this.getLayerRenderer(b),w=b.getSource();if(w&&(u=x.forEachFeatureAtCoordinate(w.getWrapX()?p:t,e,n,c)),u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o,s,a){return Object(i.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,Mt.b,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=Object(i.c)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,r=0,o=this.layerRendererConstructors_.length;r<o;++r){var s=this.layerRendererConstructors_[r];if(s.handles(t)){n=s.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=Object(p.a)(n,l.a.CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(p.e)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){Object(i.b)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Ze)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(ae.a);function Ze(t,e){Ke.expire()}function Je(t,e){return t.zIndex-e.zIndex}var Qe=[],tn=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=Object(Ct.a)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=Pe.d,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(At.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),u=new Ye(i,o,r,a,s),h=new je(t,u,e,i,null);n.dispatchEvent(h)}},e.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,i=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,s=-e.rotation,a=-e.center[0],u=-e.center[1];return Object(At.b)(this.transform_,n,i,r,o,s,a,u)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(dt.a.PRECOMPOSE,t);var s=t.layerStatesArray;Object(tt.i)(s,Je),o&&(e.save(),Object(Fe.s)(e,o,i/2,r/2));var a,u,h=t.viewState.resolution;for(a=0,u=s.length;a<u;++a){var l=s[a],c=l.layer,f=this.getLayerRenderer(c);Object(De.b)(l,h)&&l.sourceState==Tt.a.READY&&(f.prepareFrame(t,l)&&f.composeFrame(t,l,e))}o&&e.restore(),this.dispatchRenderEvent(dt.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){var a,u,h=e.viewState.resolution,l=e.layerStatesArray,c=l.length,f=Object(At.a)(e.pixelToCoordinateTransform,t.slice());for(u=c-1;u>=0;--u){var p=l[u],d=p.layer;if(Object(De.b)(p,h)&&o.call(s,d))if(a=this.getLayerRenderer(d).forEachLayerAtCoordinate(f,e,n,i,r))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var r=e[n];Object(tt.c)(Qe,r)||Qe.push(r)}},e}($e),en=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(At.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,o=e.size[1]*i,s=e.viewState.rotation,a=Object(St.C)(n),u=Object(St.D)(n),h=Object(St.w)(n),l=Object(St.v)(n);Object(At.a)(e.coordinateToPixelTransform,a),Object(At.a)(e.coordinateToPixelTransform,u),Object(At.a)(e.coordinateToPixelTransform,h),Object(At.a)(e.coordinateToPixelTransform,l),t.save(),Object(Fe.s)(t,-s,r/2,o/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(h[0]*i,h[1]*i),t.lineTo(l[0]*i,l[1]*i),t.clip(),Object(Fe.s)(t,s,r/2,o/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,a=n.viewState.rotation;Object(Fe.s)(e,-a,o/2,s/2);var u=void 0!==i?i:this.getTransform(n,0),h=new Ye(e,n.pixelRatio,n.extent,u,n.viewState.rotation),l=new je(t,h,n,e,null);r.dispatchEvent(l),Object(Fe.s)(e,a,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,Mt.b)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_(dt.a.POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(dt.a.PRECOMPOSE,t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(dt.a.RENDER,t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i*t.size[0]/2,o=i*t.size[1]/2,s=i/n.resolution,a=-s,u=-n.rotation,h=-n.center[0]+e,l=-n.center[1];return Object(At.b)(this.transform_,r,o,s,a,u,h,l)},e.prototype.composeFrame=function(t,e,n){Object(i.b)()},e.prototype.prepareFrame=function(t,e){return Object(i.b)()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,(function(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t}))}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===Le.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=Le.a.LOADED&&e!=Le.a.ERROR&&Object(p.a)(t,l.a.CHANGE,this.handleImageChange_,this),e==Le.a.IDLE&&(t.load(),e=t.getState()),e==Le.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Tt.a.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=Object(i.c)(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,r){var o=Object(i.c)(e),s=n.toString();o in t?s in t[o]?t[o][s].extend(r):t[o][s]=r:(t[o]={},t[o][s]=r)},e.prototype.manageTilePyramid=function(t,e,n,r,o,s,a,u,h,l){var c=Object(i.c)(e);c in t.wantedTiles||(t.wantedTiles[c]={});var f,p,d,g,y,m,_=t.wantedTiles[c],v=t.tileQueue;for(m=n.getMinZoom();m<=a;++m)for(p=n.getTileRangeForExtentAndZ(s,m,p),d=n.getResolution(m),g=p.minX;g<=p.maxX;++g)for(y=p.minY;y<=p.maxY;++y)a-m<=u?((f=e.getTile(m,g,y,r,o)).getState()==mt.a.IDLE&&(_[f.getKey()]=!0,v.isKeyQueued(f.getKey())||v.enqueue([f,c,n.getTileCoordCenter(f.tileCoord),d])),void 0!==h&&h.call(l,f)):e.useTile(m,g,y,o)},e}(n(79).a)),nn=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(At.c)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!Object(St.g)(r,t.extent)&&Object(St.F)(r,t.extent);o&&this.clip(n,t,r);var s=this.getImageTransform(),a=n.globalAlpha;n.globalAlpha=e.opacity;var u=s[4],h=s[5],l=i.width*s[0],c=i.height*s[3];l>=.5&&c>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(u),Math.round(h),Math.round(l),Math.round(c)),n.globalAlpha=a,o&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getImageTransform=function(){return Object(i.b)()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var o=Object(At.a)(this.coordinateToCanvasPixelTransform,t.slice());Object(Xt.d)(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(Ct.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?i.call(r,this.getLayer(),s):void 0}},e}(en),rn=function(t){function e(n){if(t.call(this,n),this.image_=null,this.imageTransform_=Object(At.c)(),this.skippedFeatures_=[],this.vectorRenderer_=null,n.getType()===Re.a.VECTOR)for(var i=0,r=Qe.length;i<r;++i){var o=Qe[i];if(o!==e&&o.handles(n)){this.vectorRenderer_=new o(n);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,r=t.size,o=t.viewState,s=o.center,a=o.resolution,u=this.getLayer().getSource(),h=t.viewHints,l=this.vectorRenderer_,c=t.extent;if(l||void 0===e.extent||(c=Object(St.B)(c,e.extent)),!h[Et.a.ANIMATING]&&!h[Et.a.INTERACTING]&&!Object(St.H)(c)){var f=o.projection;if(!Oe.a){var p=u.getProjection();p&&(f=p)}var d=this.skippedFeatures_;if(l){var g=l.context,y=Object(vt.a)({},t,{size:[Object(St.E)(c)/a,Object(St.A)(c)/a],viewState:Object(vt.a)({},t.viewState,{rotation:0})}),m=Object.keys(y.skippedFeatureUids).sort();n=new Ae(c,a,i,g.canvas,(function(t){!l.prepareFrame(y,e)||!l.replayGroupChanged&&Object(tt.a)(d,m)||(g.canvas.width=y.size[0]*i,g.canvas.height=y.size[1]*i,l.compose(g,y,e),d=m,t())}))}else n=u.getImage(c,a,i,f);n&&this.loadImage(n)&&(this.image_=n,this.skippedFeatures_=d)}if(this.image_){var _=(n=this.image_).getExtent(),v=n.getResolution(),b=n.getPixelRatio(),x=i*v/(a*b),w=Object(At.b)(this.imageTransform_,i*r[0]/2,i*r[1]/2,x,x,0,b*(_[0]-s[0])/v,b*(s[1]-_[3])/v);Object(At.b)(this.coordinateToCanvasPixelTransform,i*r[0]/2-w[4],i*r[1]/2-w[5],i/a,-i/a,0,-s[0],-s[1]),this.renderedResolution=v*i/b}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,i,r)},e}(nn);rn.handles=function(t){return t.getType()===Re.a.IMAGE||t.getType()===Re.a.VECTOR&&t.getRenderMode()===ke.a.IMAGE},rn.create=function(t,e){return new rn(e)};var on=rn,sn=n(58),an=function(t){function e(e,n){t.call(this,e),this.context=n?null:Object(Ct.a)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(St.j)(),this.tmpTileRange_=new sn.b(0,0,0,0),this.imageTransform_=Object(At.c)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==mt.a.LOADED||n==mt.a.EMPTY||n==mt.a.ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var o=this.getLayer(),s=o.getSource().getTile(t,e,n,i,r);return s.getState()==mt.a.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(mt.a.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,r=t.size,o=t.viewState,s=o.projection,a=o.resolution,u=o.center,h=this.getLayer(),l=h.getSource(),c=l.getRevision(),f=l.getTileGridForProjection(s),p=f.getZForResolution(a,this.zDirection),d=f.getResolution(p),g=Math.round(a/d)||1,y=t.extent;if(void 0!==e.extent&&(y=Object(St.B)(y,e.extent)),Object(St.H)(y))return!1;var m=f.getTileRangeForExtentAndZ(y,p),_=f.getTileRangeExtent(p,m),v=l.getTilePixelRatio(n),b={};b[p]={};var x,w,E,C=this.createLoadedTileFinder(l,s,b),S=t.viewHints,M=S[Et.a.ANIMATING]||S[Et.a.INTERACTING],I=this.tmpExtent,T=this.tmpTileRange_;for(this.newTiles_=!1,w=m.minX;w<=m.maxX;++w)for(E=m.minY;E<=m.maxY;++E)if(!(Date.now()-t.time>16&&M)){if(x=this.getTile(p,w,E,n,s),this.isDrawableTile_(x)){var O=Object(i.c)(this);if(x.getState()==mt.a.LOADED){b[p][x.tileCoord.toString()]=x;var N=x.inTransition(O);this.newTiles_||!N&&-1!==this.renderedTiles.indexOf(x)||(this.newTiles_=!0)}if(1===x.getAlpha(O,t.time))continue}var L=f.getTileCoordChildTileRange(x.tileCoord,T,I),A=!1;L&&(A=C(p+1,L)),A||f.forEachTileCoordParentTileRange(x.tileCoord,C,null,T,I)}var R=d*n/v*g;if(!(this.renderedResolution&&Date.now()-t.time>16&&M)&&(this.newTiles_||!this.renderedExtent_||!Object(St.g)(this.renderedExtent_,y)||this.renderedRevision!=c||g!=this.oversampling_||!M&&R!=this.renderedResolution)){var k=this.context;if(k){var P=l.getTilePixelSize(p,n,s),D=Math.round(m.getWidth()*P[0]/g),j=Math.round(m.getHeight()*P[1]/g),F=k.canvas;F.width!=D||F.height!=j?(this.oversampling_=g,F.width=D,F.height=j):((this.renderedExtent_&&!Object(St.p)(_,this.renderedExtent_)||this.renderedRevision!=c)&&k.clearRect(0,0,D,j),g=this.oversampling_)}this.renderedTiles.length=0;var z,B,q,G,U,H,Y,W,X,V,K=Object.keys(b).map(Number);for(K.sort((function(t,e){return t===p?1:e===p?-1:t>e?1:t<e?-1:0})),G=0,U=K.length;G<U;++G)for(var $ in q=K[G],B=l.getTilePixelSize(q,n,s),z=f.getResolution(q)/d,Y=v*l.getGutterForProjection(s),W=b[q])x=W[$],w=((H=f.getTileCoordExtent(x.getTileCoord(),I))[0]-_[0])/d*v/g,E=(_[3]-H[3])/d*v/g,X=B[0]*z/g,V=B[1]*z/g,this.drawTileImage(x,t,e,w,E,X,V,Y,p===q),this.renderedTiles.push(x);this.renderedRevision=c,this.renderedResolution=d*n/v*g,this.renderedExtent_=_}var Z=this.renderedResolution/a,J=Object(At.b)(this.imageTransform_,n*r[0]/2,n*r[1]/2,Z,Z,0,(this.renderedExtent_[0]-u[0])/this.renderedResolution*n,(u[1]-this.renderedExtent_[3])/this.renderedResolution*n);return Object(At.b)(this.coordinateToCanvasPixelTransform,n*r[0]/2-J[4],n*r[1]/2-J[5],n/a,-n/a,0,-u[0],-u[1]),this.updateUsedTiles(t.usedTiles,l,p,m),this.manageTilePyramid(t,l,f,n,s,y,p,h.getPreload()),this.scheduleExpireCache(t,l),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,r,o,s,a,u,h){var l=this.getTileImage(t);if(l){var c=Object(i.c)(this),f=h?t.getAlpha(c,e.time):1,p=this.getLayer().getSource();1!==f||p.getOpaque(e.viewState.projection)||this.context.clearRect(r,o,s,a);var d=f!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(l,u,u,l.width-2*u,l.height-2*u,r,o,s,a),d&&this.context.restore(),1!==f?e.animate=!0:h&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(nn);an.handles=function(t){return t.getType()===Re.a.TILE},an.create=function(t,e){return new an(e)},an.prototype.getLayer;var un=an,hn=n(64),ln=n.n(hn),cn=function(){};cn.prototype.getReplay=function(t,e){return Object(i.b)()},cn.prototype.isEmpty=function(){return Object(i.b)()},cn.prototype.addDeclutter=function(t){return Object(i.b)()};var fn=cn,pn="Circle",dn="Default",gn="Image",yn="LineString",mn="Polygon",_n="Text",vn=n(25),bn=n(53);function xn(t,e,n,i){for(var r=t[e],o=t[e+1],s=0,a=e+i;a<n;a+=i){var u=t[a],h=t[a+1];s+=Math.sqrt((u-r)*(u-r)+(h-o)*(h-o)),r=u,o=h}return s}function wn(t,e,n,i,r,o,s,a){for(var u,h,l,c=[],f=t[e]>t[n-i],p=r.length,d=t[e],g=t[e+1],y=t[e+=i],m=t[e+1],_=0,v=Math.sqrt(Math.pow(y-d,2)+Math.pow(m-g,2)),b="",x=0,w=0;w<p;++w){h=f?p-w-1:w;var E=r.charAt(h),C=o(b=f?E+b:b+E)-x;x+=C;for(var S=s+C/2;e<n-i&&_+v<S;)d=y,g=m,y=t[e+=i],m=t[e+1],_+=v,v=Math.sqrt(Math.pow(y-d,2)+Math.pow(m-g,2));var M=S-_,I=Math.atan2(m-g,y-d);if(f&&(I+=I>0?-Math.PI:Math.PI),void 0!==l){var T=I-l;if(T+=T>Math.PI?-2*Math.PI:T<-Math.PI?2*Math.PI:0,Math.abs(T)>a)return null}var O=M/v,N=Object(zt.c)(d,y,O),L=Object(zt.c)(g,m,O);l==I?(f&&(u[0]=N,u[1]=L,u[2]=C/2),u[4]=b):(x=C,u=[N,L,C/2,I,b=E],f?c.unshift(u):c.push(u),l=I),s+=C}return c}var En={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Cn=[En.FILL],Sn=[En.STROKE],Mn=[En.BEGIN_PATH],In=[En.CLOSE_PATH],Tn=En,On=[mn,pn,yn,gn,_n,dn],Nn={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Ln=Object(St.j)(),An=Object(At.c)(),Rn=function(t){function e(e,n,i,r,o,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=n,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(At.c)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,o,s,a,u,h,l,c,f,p,d,g,y,m){var _=y||m;e-=r*=f,n-=o*=f;var v,b,x,w,E=d+h>i.width?i.width-h:d,C=a+l>i.height?i.height-l:a,S=g[3]+E*f+g[1],M=g[0]+C*f+g[2],I=e-g[3],T=n-g[0];(_||0!==c)&&(v=[I,T],b=[I+S,T],x=[I+S,T+M],w=[I,T+M]);var O=null;if(0!==c){var N=e+r,L=n+o;O=Object(At.b)(An,N,L,1,1,c,-N,-L),Object(St.l)(Ln),Object(St.r)(Ln,Object(At.a)(An,v)),Object(St.r)(Ln,Object(At.a)(An,b)),Object(St.r)(Ln,Object(At.a)(An,x)),Object(St.r)(Ln,Object(At.a)(An,w))}else Object(St.k)(I,T,I+S,T+M,Ln);var A=t.canvas,R=m?m[2]*f/2:0,k=Ln[0]-R<=A.width&&Ln[2]+R>=0&&Ln[1]-R<=A.height&&Ln[3]+R>=0;if(p&&(e=Math.round(e),n=Math.round(n)),s){if(!k&&1==s[4])return;Object(St.q)(s,Ln);var P=k?[t,O?O.slice(0):null,u,i,h,l,E,C,e,n,f]:null;P&&_&&P.push(y,m,v,b,x,w),s.push(P)}else k&&(_&&this.replayTextBackground_(t,v,b,x,w,y,m),Object(Fe.n)(t,O,u,i,h,l,E,C,e,n,f))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=i);var u,h,l,c=[t[e],t[e+1]],f=[NaN,NaN],p=!0;for(u=e+i;u<n;u+=i)f[0]=t[u],f[1]=t[u+1],(l=Object(St.i)(a,f))!==h?(p&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):l===vn.a.INTERSECTING?(this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):p=!0,c[0]=f[0],c[1]=f[1],h=l;return(r&&p||u===e+i)&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],u=this.appendFlatCoordinates(t,e,a,i,!1,!1);r.push(u),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,s,a,u=t.getType(),h=t.getStride(),l=this.coordinates.length;if(u==Be.a.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),s=[];var c=t.getEndss();a=0;for(var f=0,p=c.length;f<p;++f){var d=[];a=this.drawCustomCoordinates_(i,a,c[f],h,d),s.push(d)}this.instructions.push([Tn.CUSTOM,l,s,t,n,bn.c])}else u==Be.a.POLYGON||u==Be.a.MULTI_LINE_STRING?(o=[],i=u==Be.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),h,o),this.instructions.push([Tn.CUSTOM,l,o,t,n,bn.b])):u==Be.a.LINE_STRING||u==Be.a.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,h,!1,!1),this.instructions.push([Tn.CUSTOM,l,r,t,n,bn.a])):u==Be.a.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([Tn.CUSTOM,l,r,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Tn.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Tn.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(At.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,Fe.r)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],h.a&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,o=t.length;r<o;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),Fe.n.apply(void 0,s))}}t.length=5,Object(St.l)(t)}}},e.prototype.replay_=function(t,e,n,r,o,s,a){var u;this.pixelCoordinates_&&Object(tt.a)(e,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Object(Ge.c)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(At.g)(this.renderedTransform_,e));for(var h,l,c,f,p,d,g,y,m,_,v,b,x=!Object(vt.d)(n),w=0,E=r.length,C=0,S=0,M=0,I=null,T=null,O=this.coordinateCache_,N=this.viewRotation_,L={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:N},A=this.instructions!=r||this.overlaps?0:200;w<E;){var R=r[w];switch(R[0]){case Tn.BEGIN_GEOMETRY:_=R[1],x&&n[Object(i.c)(_)]||!_.getGeometry()?w=R[2]:void 0===a||Object(St.F)(a,_.getGeometry().getExtent())?++w:w=R[2]+1;break;case Tn.BEGIN_PATH:S>A&&(this.fill_(t),S=0),M>A&&(t.stroke(),M=0),S||M||(t.beginPath(),f=p=NaN),++w;break;case Tn.CIRCLE:var k=u[C=R[1]],P=u[C+1],D=u[C+2]-k,j=u[C+3]-P,F=Math.sqrt(D*D+j*j);t.moveTo(k+F,P),t.arc(k,P,F,0,2*Math.PI,!0),++w;break;case Tn.CLOSE_PATH:t.closePath(),++w;break;case Tn.CUSTOM:C=R[1],h=R[2];var z=R[3],B=R[4],q=6==R.length?R[5]:void 0;L.geometry=z,L.feature=_,w in O||(O[w]=[]);var G=O[w];q?q(u,C,h,2,G):(G[0]=u[C],G[1]=u[C+1],G.length=2),B(G,L),++w;break;case Tn.DRAW_IMAGE:C=R[1],h=R[2],m=R[3],l=R[4],c=R[5],y=s?null:R[6];var U=R[7],H=R[8],Y=R[9],W=R[10],X=R[11],V=R[12],K=R[13],$=R[14],Z=void 0,J=void 0,Q=void 0;for(R.length>16?(Z=R[15],J=R[16],Q=R[17]):(Z=Fe.j,J=Q=!1),X&&(V+=N);C<h;C+=2)this.replayImage_(t,u[C],u[C+1],m,l,c,y,U,H,Y,W,V,K,o,$,Z,J?I:null,Q?T:null);this.renderDeclutter_(y,_),++w;break;case Tn.DRAW_CHARS:var et=R[1],nt=R[2],it=R[3];y=s?null:R[4];var rt=R[5],ot=R[6],st=R[7],at=R[8],ut=R[9],ht=R[10],lt=R[11],ct=R[12],ft=R[13],pt=R[14],dt=xn(u,et,nt,2),gt=at(ct);if(rt||gt<=dt){var yt=this.textStates[ft].textAlign,mt=wn(u,et,nt,2,ct,at,(dt-gt)*Nn[yt],st);if(mt){var _t=void 0,bt=void 0,xt=void 0,wt=void 0,Et=void 0;if(ht)for(_t=0,bt=mt.length;_t<bt;++_t)xt=(Et=mt[_t])[4],wt=this.getImage(xt,ft,"",ht),l=Et[2]+lt,c=it*wt.height+2*(.5-it)*lt-ut,this.replayImage_(t,Et[0],Et[1],wt,l,c,y,wt.height,1,0,0,Et[3],pt,!1,wt.width,Fe.j,null,null);if(ot)for(_t=0,bt=mt.length;_t<bt;++_t)xt=(Et=mt[_t])[4],wt=this.getImage(xt,ft,ot,""),l=Et[2],c=it*wt.height-ut,this.replayImage_(t,Et[0],Et[1],wt,l,c,y,wt.height,1,0,0,Et[3],pt,!1,wt.width,Fe.j,null,null)}}this.renderDeclutter_(y,_),++w;break;case Tn.END_GEOMETRY:if(void 0!==s){var Ct=s(_=R[1]);if(Ct)return Ct}++w;break;case Tn.FILL:A?S++:this.fill_(t),++w;break;case Tn.MOVE_TO_LINE_TO:for(C=R[1],h=R[2],v=u[C],g=(b=u[C+1])+.5|0,(d=v+.5|0)===f&&g===p||(t.moveTo(v,b),f=d,p=g),C+=2;C<h;C+=2)d=(v=u[C])+.5|0,g=(b=u[C+1])+.5|0,C!=h-2&&d===f&&g===p||(t.lineTo(v,b),f=d,p=g);++w;break;case Tn.SET_FILL_STYLE:I=R,this.alignFill_=R[2],S&&(this.fill_(t),S=0,M&&(t.stroke(),M=0)),t.fillStyle=R[1],++w;break;case Tn.SET_STROKE_STYLE:T=R,M&&(t.stroke(),M=0),this.setStrokeStyle_(t,R),++w;break;case Tn.STROKE:A?M++:t.stroke(),++w;break;default:++w}}S&&this.fill_(t),M&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==Tn.END_GEOMETRY?o=t:i==Tn.BEGIN_GEOMETRY&&(n[2]=t,Object(tt.h)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Object(ze.a)(i||Fe.b)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Object(ze.a)(r||Fe.k);var o=e.getLineCap();n.lineCap=void 0!==o?o:Fe.d;var s=e.getLineDash();n.lineDash=s?s.slice():Fe.e;var a=e.getLineDashOffset();n.lineDashOffset=a||Fe.f;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:Fe.g;var h=e.getWidth();n.lineWidth=void 0!==h?h:Fe.h;var l=e.getMiterLimit();n.miterLimit=void 0!==l?l:Fe.i,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[Tn.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Tn.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Object(tt.a)(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Tn.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(St.d)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(St.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(He),kn=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Tn.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Tn.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Tn.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Tn.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(Rn),Pn=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),s=[Tn.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Mn);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(Sn),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Mn);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),u=0,h=0,l=o.length;h<l;++h)u=this.drawFlatCoordinates_(s,u,o[h],a);this.hitDetectionInstructions.push(Sn),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Sn),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Sn),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Mn)},e}(Rn),Dn=n(63),jn=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=null!=r.strokeStyle,a=n.length;this.instructions.push(Mn),this.hitDetectionInstructions.push(Mn);for(var u=0;u<a;++u){var h=n[u],l=this.coordinates.length,c=this.appendFlatCoordinates(t,e,h,i,!0,!s),f=[Tn.MOVE_TO_LINE_TO,l,c];this.instructions.push(f),this.hitDetectionInstructions.push(f),s&&(this.instructions.push(In),this.hitDetectionInstructions.push(In)),e=h}return o&&(this.instructions.push(Cn),this.hitDetectionInstructions.push(Cn)),s&&(this.instructions.push(Sn),this.hitDetectionInstructions.push(Sn)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Tn.SET_FILL_STYLE,Object(We.a)(Fe.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var u=[Tn.CIRCLE,a];this.instructions.push(Mn,u),this.hitDetectionInstructions.push(Mn,u),this.hitDetectionInstructions.push(Cn),void 0!==n.fillStyle&&this.instructions.push(Cn),void 0!==n.strokeStyle&&(this.instructions.push(Sn),this.hitDetectionInstructions.push(Sn)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Tn.SET_FILL_STYLE,Object(We.a)(Fe.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Tn.SET_FILL_STYLE,Object(We.a)(Fe.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),u=0,h=0,l=o.length;h<l;++h)u=this.drawFlatCoordinatess_(s,u,o[h],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=Object(Dn.c)(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(Rn);function Fn(t,e,n,i,r){var o,s,a,u,h,l,c,f,p,d=n,g=n,y=0,m=0,_=n;for(o=n;o<i;o+=r){var v=e[o],b=e[o+1];void 0!==u&&(f=v-u,p=b-h,a=Math.sqrt(f*f+p*p),void 0!==l&&(m+=s,Math.acos((l*f+c*p)/(s*a))>t&&(m>y&&(y=m,d=_,g=o),m=0,_=o-r)),s=a,l=f,c=p),u=v,h=b}return(m+=a)>y?[_,o]:[d,g]}var zn="line";var Bn={Circle:jn,Default:Rn,Image:kn,LineString:Pn,Polygon:jn,Text:function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},Fe.o.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o,s,a=this.coordinates.length,u=t.getType(),h=null,l=2,c=2;if(r.placement===zn){if(!Object(St.F)(this.getBufferedMaxExtent(),t.getExtent()))return;var f;if(h=t.getFlatCoordinates(),c=t.getStride(),u==Be.a.LINE_STRING)f=[h.length];else if(u==Be.a.MULTI_LINE_STRING)f=t.getEnds();else if(u==Be.a.POLYGON)f=t.getEnds().slice(0,1);else if(u==Be.a.MULTI_POLYGON){var p=t.getEndss();for(f=[],o=0,s=p.length;o<s;++o)f.push(p[o][0])}this.beginGeometry(t,e);for(var d,g=r.textAlign,y=0,m=0,_=f.length;m<_;++m){if(null==g){var v=Fn(r.maxAngle,h,y,f[m],c);y=v[0],d=v[1]}else d=f[m];for(o=y;o<d;o+=c)this.coordinates.push(h[o],h[o+1]);l=this.coordinates.length,y=f[m],this.drawChars_(a,l,this.declutterGroup_),a=l}this.endGeometry(t,e)}else{var b=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),x=b.width/this.pixelRatio;switch(u){case Be.a.POINT:case Be.a.MULTI_POINT:l=(h=t.getFlatCoordinates()).length;break;case Be.a.LINE_STRING:h=t.getFlatMidpoint();break;case Be.a.CIRCLE:h=t.getCenter();break;case Be.a.MULTI_LINE_STRING:l=(h=t.getFlatMidpoints()).length;break;case Be.a.POLYGON:if(h=t.getFlatInteriorPoint(),!r.overflow&&h[2]/this.resolution<x)return;c=3;break;case Be.a.MULTI_POLYGON:var w=t.getFlatInteriorPoints();for(h=[],o=0,s=w.length;o<s;o+=3)(r.overflow||w[o+2]/this.resolution>=x)&&h.push(w[o],w[o+1]);if(0==(l=h.length))return}l=this.appendFlatCoordinates(h,0,l,c,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(b,a,l),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var r,o=i+e+t+n+this.pixelRatio;if(!Fe.o.containsKey(o)){var s=i?this.strokeStates[i]||this.textStrokeState_:null,a=n?this.fillStates[n]||this.textFillState_:null,u=this.textStates[e]||this.textState_,l=this.pixelRatio,c=u.scale*l,f=Nn[u.textAlign||Fe.l],p=i&&s.lineWidth?s.lineWidth:0,d=t.split("\n"),g=d.length,y=[],m=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var s=Object(Fe.q)(t,e[o]);r=Math.max(r,s),n.push(s)}return r}(u.font,d,y),_=Object(Fe.p)(u.font),v=_*g,b=m+p,x=Object(Ct.a)(Math.ceil(b*c),Math.ceil((v+p)*c));r=x.canvas,Fe.o.set(o,r),1!=c&&x.scale(c,c),x.font=u.font,i&&(x.strokeStyle=s.strokeStyle,x.lineWidth=p,x.lineCap=s.lineCap,x.lineJoin=s.lineJoin,x.miterLimit=s.miterLimit,h.a&&s.lineDash.length&&(x.setLineDash(s.lineDash),x.lineDashOffset=s.lineDashOffset)),n&&(x.fillStyle=a.fillStyle),x.textBaseline="middle",x.textAlign="center";var w,E=.5-f,C=f*r.width/c+E*p;if(i)for(w=0;w<g;++w)x.strokeText(d[w],C+E*y[w],.5*(p+_)+w*_);if(n)for(w=0;w<g;++w)x.fillText(d[w],C+E*y[w],.5*(p+_)+w*_)}return Fe.o.get(o)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,s=Nn[i.textAlign||Fe.l],a=Nn[i.textBaseline],u=r&&r.lineWidth?r.lineWidth:0,h=s*t.width/o+2*(.5-s)*u,l=a*t.height/o+2*(.5-a)*u;this.instructions.push([Tn.DRAW_IMAGE,e,n,t,(h-this.textOffsetX_)*o,(l-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==Fe.j?Fe.j:i.padding.map((function(t){return t*o})),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([Tn.DRAW_IMAGE,e,n,t,(h-this.textOffsetX_)*o,(l-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,s=this.strokeKey_;i&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||Fe.l,scale:r.scale});var u=this.fillKey_;o&&(u in this.fillStates||(this.fillStates[u]={fillStyle:o.fillStyle}));var h=this.pixelRatio,l=Nn[r.textBaseline],c=this.textOffsetY_*h,f=this.text_,p=r.font,d=r.scale,g=i?i.lineWidth*d/2:0,y=this.widths_[p];y||(this.widths_[p]=y={}),this.instructions.push([Tn.DRAW_CHARS,t,e,l,n,r.overflow,u,r.maxAngle,function(t){var e=y[t];return e||(e=y[t]=Object(Fe.q)(p,t)),e*d*h},c,s,g*h,f,a,1]),this.hitDetectionInstructions.push([Tn.DRAW_CHARS,t,e,l,n,r.overflow,u,r.maxAngle,function(t){var e=y[t];return e||(e=y[t]=Object(Fe.q)(p,t)),e*d},c,s,g,f,a,1/h])},e.prototype.setTextStyle=function(t,e){var n,r,o;if(t){this.declutterGroup_=e;var s=t.getFill();s?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=Object(ze.a)(s.getColor()||Fe.b)):r=this.textFillState_=null;var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o=this.textStrokeState_={});var u=a.getLineDash(),h=a.getLineDashOffset(),l=a.getWidth(),c=a.getMiterLimit();o.lineCap=a.getLineCap()||Fe.d,o.lineDash=u?u.slice():Fe.e,o.lineDashOffset=void 0===h?Fe.f:h,o.lineJoin=a.getLineJoin()||Fe.g,o.lineWidth=void 0===l?Fe.h:l,o.miterLimit=void 0===c?Fe.i:c,o.strokeStyle=Object(ze.a)(a.getColor()||Fe.k)}else o=this.textStrokeState_=null;n=this.textState_;var f=t.getFont()||Fe.c;Object(Fe.a)(f);var p=t.getScale();n.overflow=t.getOverflow(),n.font=f,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||Fe.m,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Fe.j,n.scale=void 0===p?1:p;var d=t.getOffsetX(),g=t.getOffsetY(),y=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===m?0:m,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Object(i.c)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(i.c)(r.fillStyle):""}else this.text_=""},e}(Rn)},qn=function(t){function e(e,n,i,r,o,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=i,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Object(Ct.a)(1,1),this.hitDetectionTransform_=Object(At.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Object(St.j)()).push(1)),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){var a,u=2*(i=Math.round(i))+1,h=Object(At.b)(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),l=this.hitDetectionContext_;l.canvas.width!==u||l.canvas.height!==u?(l.canvas.width=u,l.canvas.height=u):l.clearRect(0,0,u,u),void 0!==this.renderBuffer_&&(a=Object(St.j)(),Object(St.r)(a,t),Object(St.c)(a,e*(this.renderBuffer_+i),a));var c,f,p=function(t){if(void 0!==Gn[t])return Gn[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);var r=t,o=0,s=0;for(;r>=o;)Un(n,t+r,t+o),Un(n,t+o,t+r),Un(n,t-o,t+r),Un(n,t-r,t+o),Un(n,t-r,t-o),Un(n,t-o,t-r),Un(n,t+o,t-r),Un(n,t+r,t-o),o++,2*((s+=1+2*o)-r)+1>0&&(s+=1-2*(r-=1));return Gn[t]=n,n}(i);function d(t){for(var e=l.getImageData(0,0,u,u).data,n=0;n<u;n++)for(var i=0;i<u;i++)if(p[n][i]&&e[4*(i*u+n)+3]>0){var r=void 0;return(!c||f!=gn&&f!=_n||-1!==c.indexOf(t))&&(r=o(t)),r||void l.clearRect(0,0,u,u)}}this.declutterTree_&&(c=this.declutterTree_.all().map((function(t){return t.value})));var g,y,m,_,v,b=Object.keys(this.replaysByZIndex_).map(Number);for(b.sort(tt.f),g=b.length-1;g>=0;--g){var x=b[g].toString();for(m=this.replaysByZIndex_[x],y=On.length-1;y>=0;--y)if(void 0!==(_=m[f=On[y]]))if(!s||f!=gn&&f!=_n){if(v=_.replayHitDetection(l,h,n,r,d,a))return v}else{var w=s[x];w?w.push(_,h.slice(0)):s[x]=[_,h.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return Object(Ge.c)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];void 0===r&&(r=new(0,Bn[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r);return r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return Object(vt.d)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,r,o,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(tt.f),t.save(),this.clip(t,e);var u,h,l,c,f,p,d=o||On;for(u=0,h=a.length;u<h;++u){var g=a[u].toString();for(f=this.replaysByZIndex_[g],l=0,c=d.length;l<c;++l){var y=d[l];if(p=f[y],void 0!==p)if(!s||y!=gn&&y!=_n)p.replay(t,e,n,i,r);else{var m=s[g];m?m.push(p,e.slice(0)):s[g]=[p,e.slice(0)]}}}t.restore()},e}(fn),Gn={0:[[!0]]};function Un(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}var Hn=qn,Yn={Point:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Le.a.LOADED)return;var o=t.getReplay(n.getZIndex(),gn);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),_n);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},LineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),yn);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),_n);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},Polygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),mn);s.setFillStrokeStyle(r,o),s.drawPolygon(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),_n);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}},MultiPoint:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Le.a.LOADED)return;var o=t.getReplay(n.getZIndex(),gn);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),_n);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},MultiLineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),yn);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),_n);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var s=t.getReplay(n.getZIndex(),mn);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),_n);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var r,o,s=e.getGeometriesArray();for(r=0,o=s.length;r<o;++r){(0,Yn[s[r].getType()])(t,s[r],n,i)}},Circle:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),pn);s.setFillStrokeStyle(r,o),s.drawCircle(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),_n);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}}};function Wn(t,e){return parseInt(Object(i.c)(t),10)-parseInt(Object(i.c)(e),10)}function Xn(t,e){var n=Vn(t,e);return n*n}function Vn(t,e){return.5*t/e}function Kn(t,e,n,i,r,o){var s=!1,a=n.getImage();if(a){var u=a.getImageState();u==Le.a.LOADED||u==Le.a.ERROR?a.unlistenImageChange(r,o):(u==Le.a.IDLE&&a.load(),u=a.getImageState(),a.listenImageChange(r,o),s=!0)}return function(t,e,n,i){var r=n.getGeometryFunction()(e);if(!r)return;var o=r.getSimplifiedGeometry(i);if(n.getRenderer())!function t(e,n,i,r){if(n.getType()==Be.a.GEOMETRY_COLLECTION){for(var o=n.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],i,r);return}e.getReplay(i.getZIndex(),dn).drawCustom(n,r,i.getRenderer())}(t,o,n,e);else{(0,Yn[o.getType()])(t,o,n,e)}}(t,e,n,i),s}var $n=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?ln()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(St.j)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(Ct.a)(),Object(p.a)(Fe.o,l.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(p.c)(Fe.o,l.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,o=n.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,u=s.rotation,h=a.getExtent(),l=this.getLayer().getSource(),c=this.getTransform(e,0),f=n.extent,p=void 0!==f;p&&this.clip(t,e,f);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,y=this.getLayer(),m=0,_=0,v=1!==n.opacity,b=y.hasListener(dt.a.RENDER);if(v||b){var x=t.canvas.width,w=t.canvas.height;if(u){var E=Math.round(Math.sqrt(x*x+w*w));m=(E-x)/2,_=(E-w)/2,x=w=E}this.context.canvas.width=x,this.context.canvas.height=w,g=this.context}else g=t;var C=g.globalAlpha;v||(g.globalAlpha=n.opacity),g!=t&&g.translate(m,_);var S=e.viewHints,M=!(S[Et.a.ANIMATING]||S[Et.a.INTERACTING]),I=e.size[0]*r,T=e.size[1]*r;if(Object(Fe.s)(g,-u,I/2,T/2),d.replay(g,c,u,o,M),l.getWrapX()&&a.canWrapX()&&!Object(St.g)(h,i)){for(var O,N=i[0],L=Object(St.E)(h),A=0;N<h[0];)O=L*--A,c=this.getTransform(e,O),d.replay(g,c,u,o,M),N+=L;for(A=0,N=i[2];N>h[2];)O=L*++A,c=this.getTransform(e,O),d.replay(g,c,u,o,M),N-=L}if(Object(Fe.s)(g,u,I/2,T/2),b&&this.dispatchRenderEvent(g,e,c),g!=t){if(v){var R=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(g.canvas,-m,-_),t.globalAlpha=R}else t.drawImage(g.canvas,-m,-_);g.translate(-m,-_)}v||(g.globalAlpha=C)}p&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){if(this.replayGroup_){var s=e.viewState.resolution,a=e.viewState.rotation,u=this.getLayer(),h={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,n,{},(function(t){var e=Object(i.c)(t);if(!(e in h))return h[e]=!0,r.call(o,t,u)}),null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[Et.a.ANIMATING],o=t.viewHints[Et.a.INTERACTING],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&o)return!0;var u=t.extent,h=t.viewState,l=h.projection,c=h.resolution,f=t.pixelRatio,p=n.getRevision(),d=n.getRenderBuffer(),g=n.getRenderOrder();void 0===g&&(g=Wn);var y=Object(St.c)(u,d*c),m=h.projection.getExtent();if(i.getWrapX()&&h.projection.canWrapX()&&!Object(St.g)(m,t.extent)){var _=Object(St.E)(m),v=Math.max(Object(St.E)(y)/2,_);y[0]=m[0]-v,y[2]=m[2]+v}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==p&&this.renderedRenderOrder_==g&&Object(St.g)(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new Hn(Vn(c,f),y,c,f,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(y,c,l);var x=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,c)),e){var r=this.renderFeature(t,c,f,e,b);this.dirty_=this.dirty_||r}}.bind(this);if(g){var w=[];i.forEachFeatureInExtent(y,(function(t){w.push(t)})),w.sort(g);for(var E=0,C=w.length;E<C;++E)x(w[E])}else i.forEachFeatureInExtent(y,x);return b.finish(),this.renderedResolution_=c,this.renderedRevision_=p,this.renderedRenderOrder_=g,this.renderedExtent_=y,this.replayGroup_=b,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=0,a=i.length;s<a;++s)o=Kn(r,t,i[s],Xn(e,n),this.handleStyleImageChange_,this)||o;else o=Kn(r,t,i,Xn(e,n),this.handleStyleImageChange_,this);return o},e}(en);$n.handles=function(t){return t.getType()===Re.a.VECTOR},$n.create=function(t,e){return new $n(e)};var Zn=$n,Jn="image",Qn="vector",ti=n(11),ei=n(26),ni={image:[mn,pn,yn,gn,_n],hybrid:[mn,yn]},ii={image:[dn],hybrid:[gn,_n,dn],vector:On},ri=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?ln()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(At.c)();var n=e.getRenderMode();this.zDirection=n===Qn?1:0,n!==Qn&&(this.context=Object(Ct.a)()),Object(p.a)(Fe.o,l.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(p.c)(Fe.o,l.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,o){var s=t.prototype.getTile.call(this,e,n,i,r,o);return s.getState()===mt.a.LOADED&&(this.createReplayGroup_(s,r,o),this.context&&this.renderTileImage_(s,r,o)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,n){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),o=r.getRevision(),s=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var u=r.getSource(),h=u.getTileGrid(),l=u.getTileGridForProjection(n).getResolution(t.tileCoord[0]),c=t.extent,f=function(o,f){var p=t.getTile(t.tileKeys[o]);if(p.getState()==mt.a.LOADED){var d=p.tileCoord,g=h.getTileCoordExtent(d),y=Object(St.B)(c,g),m=Object(St.p)(g,y)?null:Object(St.c)(y,r.getRenderBuffer()*l,i.tmpExtent),_=p.getProjection(),v=!1;Object(ti.f)(n,_)||(v=!0,p.setProjection(n)),a.dirty=!1;var b=new Hn(0,y,l,e,u.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),x=Xn(l,e),w=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,l)),e){var i=this.renderFeature(t,x,e,b);this.dirty_=this.dirty_||i,a.dirty=a.dirty||i}},E=p.getFeatures();s&&s!==a.renderedRenderOrder&&E.sort(s);for(var C=0,S=E.length;C<S;++C){var M=E[C];v&&(_.getUnits()==ei.b.TILE_PIXELS&&(_.setWorldExtent(g),_.setExtent(p.getExtent())),M.getGeometry().transform(_,n)),m&&!Object(St.F)(m,M.getGeometry().getExtent())||w.call(i,M)}b.finish(),p.setReplayGroup(r,t.tileCoord.toString(),b)}},p=0,d=t.tileKeys.length;p<d;++p)f(p);a.renderedRevision=o,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){var s=e.viewState.resolution,a=e.viewState.rotation;n=null==n?0:n;var u,h,l,c,f=this.getLayer(),p={},d=this.renderedTiles;for(l=0,c=d.length;l<c;++l){var g=d[l];if(u=Object(St.c)(g.extent,n*s,u),Object(St.f)(u,t))for(var y=0,m=g.tileKeys.length;y<m;++y){var _=g.getTile(g.tileKeys[y]);if(_.getState()==mt.a.LOADED){var v=_.getReplayGroup(f,g.tileCoord.toString());h=h||v.forEachFeatureAtCoordinate(t,s,a,n,{},(function(t){var e=Object(i.c)(t);if(!(e in p))return p[e]=!0,r.call(o,t,f)}),null)}}}return h},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),o=e.viewState,s=e.pixelRatio,a=o.resolution/s,u=n.getTileCoordExtent(i,this.tmpExtent),h=o.center,l=Object(St.C)(u),c=e.size,f=Math.round(s*c[0]/2),p=Math.round(s*c[1]/2);return Object(At.b)(this.tmpTransform_,f,p,r/a,r/a,o.rotation,(l[0]-h[0])/r,(h[1]-l[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),o=r.getRenderMode();if(o!=Jn){var s,a,u=r.getDeclutter()?{}:null,h=r.getSource(),l=ii[o],c=n.pixelRatio,f=n.viewState.rotation,p=n.size;f&&(s=Math.round(c*p[0]/2),a=Math.round(c*p[1]/2),Object(Fe.s)(e,-f,s,a)),u&&this.declutterTree_.clear();for(var d=n.viewHints,g=!(d[Et.a.ANIMATING]||d[Et.a.INTERACTING]),y=this.renderedTiles,m=h.getTileGridForProjection(n.viewState.projection),_=[],v=[],b=y.length-1;b>=0;--b){var x=y[b];if(x.getState()!=mt.a.ABORT)for(var w=x.tileCoord,E=m.getTileCoordExtent(w,this.tmpExtent)[0]-x.extent[0],C=void 0,S=0,M=x.tileKeys.length;S<M;++S){var I=x.getTile(x.tileKeys[S]);if(I.getState()==mt.a.LOADED){var T=I.getReplayGroup(r,w.toString());if(T&&T.hasReplays(l)){C||(C=this.getTransform(n,E));var O=I.tileCoord[0],N=T.getClipCoords(C);e.save(),e.globalAlpha=i.opacity;for(var L=0,A=_.length;L<A;++L){var R=_[L];O<v[L]&&(e.beginPath(),e.moveTo(N[0],N[1]),e.lineTo(N[2],N[3]),e.lineTo(N[4],N[5]),e.lineTo(N[6],N[7]),e.moveTo(R[6],R[7]),e.lineTo(R[4],R[5]),e.lineTo(R[2],R[3]),e.lineTo(R[0],R[1]),e.clip())}T.replay(e,C,f,{},g,l,u),e.restore(),_.push(N),v.push(O)}}}}u&&function(t,e,n,i){for(var r=Object.keys(t).map(Number).sort(tt.f),o={},s=0,a=r.length;s<a;++s)for(var u=t[r[s].toString()],h=0,l=u.length;h<l;){var c=u[h++],f=u[h++];c.replay(e,f,n,o,i)}}(u,e,f,g),f&&Object(Fe.s)(e,f,s,a)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)r=Kn(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=Kn(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),o=i.getRevision(),s=ni[i.getRenderMode()];if(s&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var a=t.wrappedTileCoord,u=a[0],h=i.getSource(),l=h.getTileGridForProjection(n),c=l.getResolution(u),f=t.getContext(i),p=h.getTilePixelSize(u,e,n);f.canvas.width=p[0],f.canvas.height=p[1];for(var d=l.getTileCoordExtent(a,this.tmpExtent),g=0,y=t.tileKeys.length;g<y;++g){var m=t.getTile(t.tileKeys[g]);if(m.getState()==mt.a.LOADED){var _=e/c,v=Object(At.e)(this.tmpTransform_);Object(At.f)(v,_,-_),Object(At.h)(v,-d[0],-d[3]),m.getReplayGroup(i,t.tileCoord.toString()).replay(f,v,0,{},!0,s)}}}},e}(un);ri.handles=function(t){return t.getType()===Re.a.VECTOR_TILE},ri.create=function(t,e){return new ri(e)};var oi=ri,si=function(t){function e(e){(e=Object(vt.a)({},e)).controls||(e.controls=Object(kt.a)()),e.interactions||(e.interactions=function(t){var e=t||{},n=new r.a,i=new Dt(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new se),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new Wt({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new re({condition:e.onFocusOnly?Kt:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Ie),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Te({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new xe),n.push(new Ee({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Me({condition:e.onFocusOnly?Kt:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new ge({duration:e.zoomDuration})),n}()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new tn(this);return t.registerLayerRenderers([on,un,Zn,oi]),t},e}(Rt);e.a=si},function(t,e,n){"use strict";var i=n(35),r=n(2),o=n(7),s=n(24),a=n(38),u=n(4),h=function(t){function e(e,n,i){t.call(this);var r=i||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(u.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.a.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.a.LOADED){t.interimTile=null;break}t.getState()==o.a.LOADING?e=t:t.getState()==o.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:Object(s.a)(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a.a),l=n(13),c=n(1);function f(){var t=Object(l.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var p=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,s),this.crossOrigin_=r,this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&(this.unlistenImage_(),this.image_=f()),this.interimTile&&this.interimTile.dispose(),this.state=o.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.image_=f(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(c.b)(this.image_,u.a.ERROR,this.handleImageError_,this),Object(c.b)(this.image_,u.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(c.e),this.imageListenerKeys_=null},e}(h);function d(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function g(t,e,n){return t+"/"+e+"/"+n}function y(t){return g(t[0],t[1],t[2])}var m=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach((function(e){e.tileCoord[0]!==t&&(this.remove(y(e.tileCoord)),e.dispose())}),this)}},e}(n(81).a),_=n(11),v=n(0),b=n(6);function x(t,e,n,i){var r=n-t,o=i-e,s=Math.sqrt(r*r+o*o);return[Math.round(n+r/s),Math.round(i+o/s)]}var w=function(t,e,n,i,r){this.sourceProj_=t,this.targetProj_=e;var o={},s=Object(_.i)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=s(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Object(v.E)(i)==Object(v.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(v.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(v.E)(this.targetProj_.getExtent()):null;var a=Object(v.C)(n),u=Object(v.D)(n),h=Object(v.w)(n),l=Object(v.v)(n),c=this.transformInv_(a),f=this.transformInv_(u),p=this.transformInv_(h),d=this.transformInv_(l);if(this.addQuad_(a,u,h,l,c,f,p,d,10),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach((function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}};w.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},w.prototype.addQuad_=function(t,e,n,i,r,o,s,a,u){var h=Object(v.b)([r,o,s,a]),l=this.sourceWorldWidth_?Object(v.E)(h)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&l>.5&&l<1,p=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=Object(v.b)([t,e,n,i]);p=Object(v.E)(d)/this.targetWorldWidth_>.25||p}!f&&this.sourceProj_.isGlobal()&&l&&(p=l>.25||p)}if(p||!this.maxSourceExtent_||Object(v.F)(h,this.maxSourceExtent_)){if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(u>0))return;p=!0}if(u>0){if(!p){var g,y=[(t[0]+n[0])/2,(t[1]+n[1])/2],m=this.transformInv_(y);if(f)g=(Object(b.d)(r[0],c)+Object(b.d)(s[0],c))/2-Object(b.d)(m[0],c);else g=(r[0]+s[0])/2-m[0];var _=(r[1]+s[1])/2-m[1];p=g*g+_*_>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var x=[(e[0]+n[0])/2,(e[1]+n[1])/2],w=this.transformInv_(x),E=[(i[0]+t[0])/2,(i[1]+t[1])/2],C=this.transformInv_(E);this.addQuad_(t,e,x,E,r,o,w,C,u-1),this.addQuad_(E,x,n,i,C,w,s,a,u-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],M=this.transformInv_(S),I=[(n[0]+i[0])/2,(n[1]+i[1])/2],T=this.transformInv_(I);this.addQuad_(t,S,I,i,r,M,T,a,u-1),this.addQuad_(S,e,n,I,M,o,s,T,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,r,s,a),this.addTriangle_(t,e,n,r,o,s)}},w.prototype.calculateSourceExtent=function(){var t=Object(v.j)();return this.triangles_.forEach((function(e,n,i){var r=e.source;Object(v.r)(t,r[0]),Object(v.r)(t,r[1]),Object(v.r)(t,r[2])})),t},w.prototype.getTriangles=function(){return this.triangles_};var E=w,C=function(t){function e(e,n,r,s,a,u,h,l,c,f,p){t.call(this,a,o.a.IDLE),this.renderEdges_=void 0!==p&&p,this.pixelRatio_=h,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=u||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=s.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),y=this.sourceTileGrid_.getExtent(),m=g?Object(v.B)(d,g):d;if(0!==Object(v.u)(m)){var x=e.getExtent();x&&(y=y?Object(v.B)(y,x):x);var w=s.getResolution(this.wrappedTileCoord_[0]),C=function(t,e,n,i){var r=Object(_.j)(n,e,t),o=Object(_.h)(e,i,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var u=t.getExtent();if(!u||Object(v.f)(u,r)){var h=Object(_.h)(t,o,r)/o;isFinite(h)&&h>0&&(o/=h)}return o}(e,r,Object(v.x)(m),w);if(!isFinite(C)||C<=0)this.state=o.a.EMPTY;else{var S=void 0!==f?f:i.b;if(this.triangulation_=new E(e,r,m,y,C*S),0!==this.triangulation_.getTriangles().length){this.sourceZ_=n.getZForResolution(C);var M=this.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(M[1]=Object(b.a)(M[1],y[1],y[3]),M[3]=Object(b.a)(M[3],y[1],y[3])):M=Object(v.B)(M,y)),Object(v.u)(M)){for(var I=n.getTileRangeForExtentAndZ(M,this.sourceZ_),T=I.minX;T<=I.maxX;T++)for(var O=I.minY;O<=I.maxY;O++){var N=c(this.sourceZ_,T,O,h);N&&this.sourceTiles_.push(N)}0===this.sourceTiles_.length&&(this.state=o.a.EMPTY)}else this.state=o.a.EMPTY}else this.state=o.a.EMPTY}}else this.state=o.a.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==o.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.a.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,r,o,s,a,u,h,c){var f=Object(l.a)(Math.round(n*t),Math.round(n*e));if(0===u.length)return f.canvas;f.scale(n,n);var p=Object(v.j)();u.forEach((function(t,e,n){Object(v.q)(p,t.extent)}));var d=Object(v.E)(p),g=Object(v.A)(p),y=Object(l.a)(Math.round(n*d/i),Math.round(n*g/i)),m=n/i;u.forEach((function(t,e,n){var i=t.extent[0]-p[0],r=-(t.extent[3]-p[3]),o=Object(v.E)(t.extent),s=Object(v.A)(t.extent);y.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,i*m,r*m,o*m,s*m)}));var _=Object(v.C)(s);return a.getTriangles().forEach((function(t,e,r){var s=t.source,a=t.target,u=s[0][0],h=s[0][1],l=s[1][0],c=s[1][1],d=s[2][0],g=s[2][1],m=(a[0][0]-_[0])/o,v=-(a[0][1]-_[1])/o,w=(a[1][0]-_[0])/o,E=-(a[1][1]-_[1])/o,C=(a[2][0]-_[0])/o,S=-(a[2][1]-_[1])/o,M=u,I=h;u=0,h=0;var T=[[l-=M,c-=I,0,0,w-m],[d-=M,g-=I,0,0,C-m],[0,0,l,c,E-v],[0,0,d,g,S-v]],O=Object(b.e)(T);if(O){f.save(),f.beginPath();var N=(m+w+C)/3,L=(v+E+S)/3,A=x(N,L,m,v),R=x(N,L,w,E),k=x(N,L,C,S);f.moveTo(R[0],R[1]),f.lineTo(A[0],A[1]),f.lineTo(k[0],k[1]),f.clip(),f.transform(O[0],O[2],O[1],O[3],m,v),f.translate(p[0]-M,p[3]-I),f.scale(i/n,-i/n),f.drawImage(y.canvas,0,0),f.restore()}})),c&&(f.save(),f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach((function(t,e,n){var i=t.target,r=(i[0][0]-_[0])/o,s=-(i[0][1]-_[1])/o,a=(i[1][0]-_[0])/o,u=-(i[1][1]-_[1])/o,h=(i[2][0]-_[0])/o,l=-(i[2][1]-_[1])/o;f.beginPath(),f.moveTo(a,u),f.lineTo(r,s),f.lineTo(h,l),f.closePath(),f.stroke()})),f.restore()),f.canvas}(i,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,u,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.a.IDLE){this.state=o.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var r=e.getState();if(r==o.a.IDLE||r==o.a.LOADING){t++;var s=Object(c.a)(e,u.a.CHANGE,(function(n){var i=e.getState();i!=o.a.LOADED&&i!=o.a.ERROR&&i!=o.a.EMPTY||(Object(c.e)(s),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,n){t.getState()==o.a.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(c.e),this.sourcesListenerKeys_=null},e}(h),S=n(10);function M(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,u){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(r,(function(){return(-s[2]-1).toString()})).replace(o,(function(){var t=s[0],n=e.getFullTileRange(t);return Object(S.a)(n,55),(n.getHeight()+s[2]).toString()})):void 0}}function I(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=M(t[r],e);return function(t){if(1===t.length)return t[0];return function(e,n,i){if(e){var r=function(t){return(t[1]<<t[0])+t[2]}(e),o=Object(b.d)(r,t.length);return t[o](e,n,i)}}}(i)}function T(t,e,n){}var O=n(23),N=n(36),L=n(83),A=n(56),R=n(57),k=n(26),P=n(58),D=n(15),j=[0,0,0],F=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(S.a)(Object(D.d)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(S.a)(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=Object(v.C)(r)),Object(S.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(S.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:A.b,Object(S.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new P.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):r&&this.calculateTileRanges_(r)};F.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,r,s])},F.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,s,a,u=null,h=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):u=this.getTileCoordExtent(t,r);h>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=Object(P.a)(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(u,h,i),e.call(n,h,o))return!0;--h}return!1},F.prototype.getExtent=function(){return this.extent_},F.prototype.getMaxZoom=function(){return this.maxZoom},F.prototype.getMinZoom=function(){return this.minZoom},F.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},F.prototype.getResolution=function(t){return this.resolutions_[t]},F.prototype.getResolutions=function(){return this.resolutions_},F.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return Object(P.a)(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},F.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=Object(N.c)(this.getTileSize(t),this.tmpSize_),s=i[0]+e.minX*o[0]*r,a=i[0]+(e.maxX+1)*o[0]*r,u=i[1]+e.minY*o[1]*r,h=i[1]+(e.maxY+1)*o[1]*r;return Object(v.k)(s,u,a,h,n)},F.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=j;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),Object(P.a)(r,i[1],o,i[2],n)},F.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Object(N.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},F.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(N.c)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]+t[2]*r[1]*i,a=o+r[0]*i,u=s+r[1]*i;return Object(v.k)(o,s,a,u,e)},F.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},F.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),u=Object(N.c)(this.getTileSize(o),this.tmpSize_),h=i?.5:0,l=i?0:.5,c=Math.floor((t-a[0])/n+h),f=Math.floor((e-a[1])/n+l),p=s*c/u[0],g=s*f/u[1];return i?(p=Math.ceil(p)-1,g=Math.ceil(g)-1):(p=Math.floor(p),g=Math.floor(g)),d(o,p,g,r)},F.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),s=this.getResolution(n),a=Object(N.c)(this.getTileSize(n),this.tmpSize_),u=i?.5:0,h=i?0:.5,l=Math.floor((t-o[0])/s+u),c=Math.floor((e-o[1])/s+h),f=l/a[0],p=c/a[1];return i?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),d(n,f,p,r)},F.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},F.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},F.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},F.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},F.prototype.getZForResolution=function(t,e){var n=Object(D.e)(this.resolutions_,t,e||0);return Object(b.a)(n,this.minZoom,this.maxZoom)},F.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var z=F;function B(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var r=void 0!==i?i:R.a.TOP_LEFT,o=q(t,e,n);return new z({extent:t,origin:Object(v.y)(t,r),resolutions:o,tileSize:n})}(G(t),e,n,i)}(t),t.setDefaultTileGrid(e)),e}function q(t,e,n){for(var i=void 0!==e?e:A.a,r=Object(v.A)(t),o=Object(v.E)(t),s=Object(N.c)(void 0!==n?n:A.b),a=Math.max(o/s[0],r/s[1]),u=i+1,h=new Array(u),l=0;l<u;++l)h[l]=a/Math.pow(2,l);return h}function G(t){var e=(t=Object(_.g)(t)).getExtent();if(!e){var n=180*_.a[k.b.DEGREES]/t.getMetersPerUnit();e=Object(v.k)(-n,-n,n,n)}return e}var U=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new m(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var s,a,u,h=!0,l=n.minX;l<=n.maxX;++l)for(var c=n.minY;c<=n.maxY;++c)a=g(e,l,c),u=!1,r.containsKey(a)&&(u=(s=r.get(a)).getState()===o.a.LOADED)&&(u=!1!==i(s)),u||(h=!1);return h},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return Object(r.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:B(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(_.f)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=Object(N.c)(i.getTileSize(t),this.tmpSize);return 1==r?o:Object(N.b)(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=G(n);if(Object(v.f)(o,r))return e;var s=Object(v.E)(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,t.getTileCoordForCoordAndZ(r,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,s=e.getExtent();return!(o=s?e.getTileRangeForExtentAndZ(s,n):e.getFullTileRange(n))||o.containsXY(i,r)}(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,i){},e}(L.a),H=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(O.a),Y="tileloadstart",W="tileloadend",X="tileloaderror";function V(t,e){t.getImage().src=e}var K=function(t){function e(e){var n,i=e||{};n=void 0!==i.attributions?i.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'];var r=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",o=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:n,cacheSize:i.cacheSize,crossOrigin:r,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:o,wrapX:i.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||Object(_.g)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:q(n,e.maxZoom,e.tileSize)};return new z(i)}({extent:G(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:V,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!i.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,n){if(i.a){var r=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==r?n:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==r?n:{})}}else t.prototype.expireCache.call(this,e,n)},e.prototype.getGutterForProjection=function(t){return i.a&&this.getProjection()&&t&&!Object(_.f)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(i.a&&this.getProjection()&&e&&!Object(_.f)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!i.a)return t.prototype.getTileGridForProjection.call(this,e);var n=this.getProjection();if(!this.tileGrid||n&&!Object(_.f)(n,e)){var o=Object(r.c)(e);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=B(e)),this.tileGridForProjection[o]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!i.a)return t.prototype.getTileCacheForProjection.call(this,e);var n=this.getProjection();if(!n||Object(_.f)(n,e))return this.tileCache;var o=Object(r.c)(e);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new m(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,e,n,i,r,s){var a=[t,e,n],h=this.getTileCoordForTileUrlFunction(a,r),l=h?this.tileUrlFunction(h,i,r):void 0,f=new this.tileClass(a,void 0!==l?o.a.IDLE:o.a.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,Object(c.a)(f,u.a.CHANGE,this.handleTileChange,this),f},e.prototype.getTile=function(t,e,n,r,o){var s=this.getProjection();if(i.a&&s&&o&&!Object(_.f)(s,o)){var a,u=this.getTileCacheForProjection(o),h=[t,e,n],l=y(h);u.containsKey(l)&&(a=u.get(l));var c=this.getKey();if(a&&a.key==c)return a;var f=this.getTileGridForProjection(s),p=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(h,o),g=new C(s,f,o,p,h,d,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return g.key=c,a?(g.interimTile=a,g.refreshInterimChain(),u.replace(l,g)):u.set(l,g),g}return this.getTileInternal(t,e,n,r,s||o)},e.prototype.getTileInternal=function(t,e,n,i,r){var s=null,a=g(t,e,n),u=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=u){var h=s;s=this.createTile_(t,e,n,i,r,u),h.getState()==o.a.IDLE?s.interimTile=h.interimTile:s.interimTile=h,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(t,e,n,i,r,u),this.tileCache.set(a,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(i.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(i.a){var n=Object(_.g)(t);if(n){var o=Object(r.c)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):T,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=Object(r.c)(n),s=n.getState();s==o.a.LOADING?(this.tileLoadingKeys_[i]=!0,e=Y):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=s==o.a.ERROR?X:s==o.a.LOADED||s==o.a.ABORT?W:void 0),null!=e&&this.dispatchEvent(new H(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(I(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=g(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(U))));e.a=K}]);
//# sourceMappingURL=bundle.js.map